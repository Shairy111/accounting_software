(self["webpackChunkbackend"] = self["webpackChunkbackend"] || []).push([[994],{

/***/ 89647:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Box=__webpack_require__(5493);var _Button=__webpack_require__(19408);var _Filter=_interopRequireDefault(__webpack_require__(23980));var _helperPlugin=__webpack_require__(68547);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Filters=function Filters(_ref){var displayedFilters=_ref.displayedFilters;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isVisible=_useState2[0],setIsVisible=_useState2[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var buttonRef=(0,_react.useRef)();var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var handleToggle=function handleToggle(){if(!isVisible){trackUsage('willFilterEntries');}setIsVisible(function(prev){return!prev;});};return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:1,paddingBottom:1},/*#__PURE__*/_react["default"].createElement(_Button.Button,{variant:"tertiary",ref:buttonRef,startIcon:/*#__PURE__*/_react["default"].createElement(_Filter["default"],null),onClick:handleToggle,size:"S"},formatMessage({id:'app.utils.filters',defaultMessage:'Filters'})),isVisible&&/*#__PURE__*/_react["default"].createElement(_helperPlugin.FilterPopoverURLQuery,{displayedFilters:displayedFilters,isVisible:isVisible,onToggle:handleToggle,source:buttonRef})),/*#__PURE__*/_react["default"].createElement(_helperPlugin.FilterListURLQuery,{filtersSchema:displayedFilters}));};Filters.propTypes={displayedFilters:_propTypes["default"].arrayOf(_propTypes["default"].shape({name:_propTypes["default"].string.isRequired,metadatas:_propTypes["default"].shape({label:_propTypes["default"].string}),fieldSchema:_propTypes["default"].shape({type:_propTypes["default"].string})})).isRequired};var _default=Filters;exports.default=_default;

/***/ }),

/***/ 27755:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _get=_interopRequireDefault(__webpack_require__(27361));var _helperPlugin=__webpack_require__(68547);var NOT_ALLOWED_FILTERS=['json','component','media','richtext','dynamiczone','password'];var TIMESTAMPS=['createdAt','updatedAt'];var useAllowedAttributes=function useAllowedAttributes(contentType,slug){var _useRBACProvider=(0,_helperPlugin.useRBACProvider)(),allPermissions=_useRBACProvider.allPermissions;var readPermissionsForSlug=(0,_helperPlugin.findMatchingPermissions)(allPermissions,[{action:'plugin::content-manager.explorer.read',subject:slug}]);var readPermissionForAttr=(0,_get["default"])(readPermissionsForSlug,['0','properties','fields'],[]);var attributesArray=Object.keys((0,_get["default"])(contentType,['attributes']),{});var allowedAttributes=attributesArray.filter(function(attr){var current=(0,_get["default"])(contentType,['attributes',attr],{});if(!current.type){return false;}if(NOT_ALLOWED_FILTERS.includes(current.type)){return false;}if(!readPermissionForAttr.includes(attr)&&attr!=='id'&&!TIMESTAMPS.includes(attr)){return false;}return true;}).sort();return allowedAttributes;};var _default=useAllowedAttributes;exports.default=_default;

/***/ }),

/***/ 72632:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _useAllowedAttributes=_interopRequireDefault(__webpack_require__(27755));var _Filters=_interopRequireDefault(__webpack_require__(89647));var AttributeFilter=function AttributeFilter(_ref){var contentType=_ref.contentType,slug=_ref.slug,metadatas=_ref.metadatas;var allowedAttributes=(0,_useAllowedAttributes["default"])(contentType,slug);var displayedFilters=allowedAttributes.map(function(name){var attribute=contentType.attributes[name];var type=attribute.type,options=attribute["enum"];var trackedEvent={name:'didFilterEntries',properties:{useRelation:type==='relation'}};var _metadatas$name$list=metadatas[name].list,mainField=_metadatas$name$list.mainField,label=_metadatas$name$list.label;return{name:name,metadatas:{label:label},fieldSchema:{type:type,options:options,mainField:mainField},trackedEvent:trackedEvent};});return/*#__PURE__*/_react["default"].createElement(_Filters["default"],{displayedFilters:displayedFilters});};AttributeFilter.propTypes={contentType:_propTypes["default"].object.isRequired,metadatas:_propTypes["default"].object.isRequired,slug:_propTypes["default"].string.isRequired};var _default=AttributeFilter;exports.default=_default;

/***/ }),

/***/ 56229:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=__webpack_require__(67294);var _reactRouterDom=__webpack_require__(39711);var _axios=_interopRequireDefault(__webpack_require__(9669));var _get=_interopRequireDefault(__webpack_require__(27361));var _helperPlugin=__webpack_require__(68547);var _reactRedux=__webpack_require__(37424);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactFastCompare=_interopRequireDefault(__webpack_require__(39918));var _utils=__webpack_require__(53777);var _utils2=__webpack_require__(28564);var _hooks=__webpack_require__(14772);var _actions=__webpack_require__(98744);var _selectors=_interopRequireDefault(__webpack_require__(22787));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}// This container is used to handle the CRUD
var CollectionTypeFormWrapper=function CollectionTypeFormWrapper(_ref){var allLayoutData=_ref.allLayoutData,children=_ref.children,slug=_ref.slug,id=_ref.id,origin=_ref.origin;var toggleNotification=(0,_helperPlugin.useNotification)();var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push,replace=_useHistory.replace;var _useQueryParams=(0,_helperPlugin.useQueryParams)(),_useQueryParams2=(0,_slicedToArray2["default"])(_useQueryParams,1),rawQuery=_useQueryParams2[0].rawQuery;var dispatch=(0,_reactRedux.useDispatch)();var _useSelector=(0,_reactRedux.useSelector)(_selectors["default"]),componentsDataStructure=_useSelector.componentsDataStructure,contentTypeDataStructure=_useSelector.contentTypeDataStructure,data=_useSelector.data,isLoading=_useSelector.isLoading,status=_useSelector.status;var redirectionLink=(0,_hooks.useFindRedirectionLink)(slug);var isMounted=(0,_react.useRef)(true);var trackUsageRef=(0,_react.useRef)(trackUsage);var allLayoutDataRef=(0,_react.useRef)(allLayoutData);var isCreatingEntry=id===null;var requestURL=(0,_react.useMemo)(function(){if(isCreatingEntry&&!origin){return null;}return(0,_utils2.getRequestUrl)("collection-types/".concat(slug,"/").concat(origin||id));},[slug,id,isCreatingEntry,origin]);var cleanClonedData=(0,_react.useCallback)(function(data){if(!origin){return data;}var cleaned=(0,_helperPlugin.contentManagementUtilRemoveFieldsFromData)(data,allLayoutDataRef.current.contentType,allLayoutDataRef.current.components);return cleaned;},[origin]);var cleanReceivedData=(0,_react.useCallback)(function(data){var cleaned=(0,_utils2.removePasswordFieldsFromData)(data,allLayoutDataRef.current.contentType,allLayoutDataRef.current.components);return(0,_helperPlugin.formatComponentData)(cleaned,allLayoutDataRef.current.contentType,allLayoutDataRef.current.components);},[]);// SET THE DEFAULT LAYOUT the effect is applied when the slug changes
(0,_react.useEffect)(function(){var componentsDataStructure=Object.keys(allLayoutData.components).reduce(function(acc,current){var defaultComponentForm=(0,_utils2.createDefaultForm)((0,_get["default"])(allLayoutData,['components',current,'attributes'],{}),allLayoutData.components);acc[current]=(0,_helperPlugin.formatComponentData)(defaultComponentForm,allLayoutData.components[current],allLayoutData.components);return acc;},{});var contentTypeDataStructure=(0,_utils2.createDefaultForm)(allLayoutData.contentType.attributes,allLayoutData.components);var contentTypeDataStructureFormatted=(0,_helperPlugin.formatComponentData)(contentTypeDataStructure,allLayoutData.contentType,allLayoutData.components);dispatch((0,_actions.setDataStructures)(componentsDataStructure,contentTypeDataStructureFormatted));},[allLayoutData,dispatch]);(0,_react.useEffect)(function(){return function(){dispatch((0,_actions.resetProps)());};},[dispatch]);(0,_react.useEffect)(function(){var CancelToken=_axios["default"].CancelToken;var source=CancelToken.source();var fetchData=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(source){var _yield$axiosInstance$,_data,resStatus;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch((0,_actions.getData)());_context.prev=1;_context.next=4;return _utils.axiosInstance.get(requestURL,{cancelToken:source.token});case 4:_yield$axiosInstance$=_context.sent;_data=_yield$axiosInstance$.data;dispatch((0,_actions.getDataSucceeded)(cleanReceivedData(cleanClonedData(_data))));_context.next=19;break;case 9:_context.prev=9;_context.t0=_context["catch"](1);if(!_axios["default"].isCancel(_context.t0)){_context.next=13;break;}return _context.abrupt("return");case 13:console.error(_context.t0);resStatus=(0,_get["default"])(_context.t0,'response.status',null);if(!(resStatus===404)){_context.next=18;break;}push(redirectionLink);return _context.abrupt("return");case 18:// Not allowed to read a document
if(resStatus===403){toggleNotification({type:'info',message:{id:(0,_utils2.getTrad)('permissions.not-allowed.update')}});push(redirectionLink);}case 19:case"end":return _context.stop();}}},_callee,null,[[1,9]]);}));return function fetchData(_x){return _ref2.apply(this,arguments);};}();// This is needed in order to reset the form when the query changes
var init=/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return dispatch((0,_actions.getData)());case 2:_context2.next=4;return dispatch((0,_actions.initForm)(rawQuery));case 4:case"end":return _context2.stop();}}},_callee2);}));return function init(){return _ref3.apply(this,arguments);};}();if(!isMounted.current){return function(){};}if(requestURL){fetchData(source);}else{init();}return function(){source.cancel('Operation canceled by the user.');};},[cleanClonedData,cleanReceivedData,push,requestURL,dispatch,rawQuery,redirectionLink,toggleNotification]);var displayErrors=(0,_react.useCallback)(function(err){var errorPayload=err.response.payload;console.error(errorPayload);var errorMessage=(0,_get["default"])(errorPayload,['message'],'Bad Request');// TODO handle errors correctly when back-end ready
if(Array.isArray(errorMessage)){errorMessage=(0,_get["default"])(errorMessage,['0','messages','0','id']);}if(typeof errorMessage==='string'){toggleNotification({type:'warning',message:errorMessage});}},[toggleNotification]);var onDelete=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(trackerProperty){var _yield$axiosInstance$2,_data2;return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;trackUsageRef.current('willDeleteEntry',trackerProperty);_context3.next=4;return _utils.axiosInstance["delete"]((0,_utils2.getRequestUrl)("collection-types/".concat(slug,"/").concat(id)));case 4:_yield$axiosInstance$2=_context3.sent;_data2=_yield$axiosInstance$2.data;toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.delete')}});trackUsageRef.current('didDeleteEntry',trackerProperty);return _context3.abrupt("return",Promise.resolve(_data2));case 11:_context3.prev=11;_context3.t0=_context3["catch"](0);trackUsageRef.current('didNotDeleteEntry',_objectSpread({error:_context3.t0},trackerProperty));return _context3.abrupt("return",Promise.reject(_context3.t0));case 15:case"end":return _context3.stop();}}},_callee3,null,[[0,11]]);}));return function(_x2){return _ref4.apply(this,arguments);};}(),[id,slug,toggleNotification]);var onDeleteSucceeded=(0,_react.useCallback)(function(){replace(redirectionLink);},[redirectionLink,replace]);var onPost=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref5=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee4(body,trackerProperty){var endPoint,_yield$axiosInstance$3,_data3;return _regenerator["default"].wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:endPoint="".concat((0,_utils2.getRequestUrl)("collection-types/".concat(slug))).concat(rawQuery);_context4.prev=1;// Show a loading button in the EditView/Header.js && lock the app => no navigation
dispatch((0,_actions.setStatus)('submit-pending'));_context4.next=5;return _utils.axiosInstance.post(endPoint,body);case 5:_yield$axiosInstance$3=_context4.sent;_data3=_yield$axiosInstance$3.data;trackUsageRef.current('didCreateEntry',trackerProperty);toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.save')}});dispatch((0,_actions.submitSucceeded)(cleanReceivedData(_data3)));// Enable navigation and remove loaders
dispatch((0,_actions.setStatus)('resolved'));replace("/content-manager/collectionType/".concat(slug,"/").concat(_data3.id).concat(rawQuery));_context4.next=19;break;case 14:_context4.prev=14;_context4.t0=_context4["catch"](1);trackUsageRef.current('didNotCreateEntry',{error:_context4.t0,trackerProperty:trackerProperty});displayErrors(_context4.t0);dispatch((0,_actions.setStatus)('resolved'));case 19:case"end":return _context4.stop();}}},_callee4,null,[[1,14]]);}));return function(_x3,_x4){return _ref5.apply(this,arguments);};}(),[cleanReceivedData,displayErrors,replace,slug,dispatch,rawQuery,toggleNotification]);var onPublish=(0,_react.useCallback)(/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee5(){var endPoint,_yield$axiosInstance$4,_data4;return _regenerator["default"].wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;trackUsageRef.current('willPublishEntry');endPoint=(0,_utils2.getRequestUrl)("collection-types/".concat(slug,"/").concat(id,"/actions/publish"));dispatch((0,_actions.setStatus)('publish-pending'));_context5.next=6;return _utils.axiosInstance.post(endPoint);case 6:_yield$axiosInstance$4=_context5.sent;_data4=_yield$axiosInstance$4.data;trackUsageRef.current('didPublishEntry');dispatch((0,_actions.submitSucceeded)(cleanReceivedData(_data4)));dispatch((0,_actions.setStatus)('resolved'));toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.publish')}});_context5.next=18;break;case 14:_context5.prev=14;_context5.t0=_context5["catch"](0);displayErrors(_context5.t0);dispatch((0,_actions.setStatus)('resolved'));case 18:case"end":return _context5.stop();}}},_callee5,null,[[0,14]]);})),[cleanReceivedData,displayErrors,id,slug,dispatch,toggleNotification]);var onPut=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref7=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee6(body,trackerProperty){var endPoint,_yield$axiosInstance$5,_data5;return _regenerator["default"].wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:endPoint=(0,_utils2.getRequestUrl)("collection-types/".concat(slug,"/").concat(id));_context6.prev=1;trackUsageRef.current('willEditEntry',trackerProperty);dispatch((0,_actions.setStatus)('submit-pending'));_context6.next=6;return _utils.axiosInstance.put(endPoint,body);case 6:_yield$axiosInstance$5=_context6.sent;_data5=_yield$axiosInstance$5.data;trackUsageRef.current('didEditEntry',{trackerProperty:trackerProperty});toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.save')}});dispatch((0,_actions.submitSucceeded)(cleanReceivedData(_data5)));dispatch((0,_actions.setStatus)('resolved'));_context6.next=19;break;case 14:_context6.prev=14;_context6.t0=_context6["catch"](1);trackUsageRef.current('didNotEditEntry',{error:_context6.t0,trackerProperty:trackerProperty});displayErrors(_context6.t0);dispatch((0,_actions.setStatus)('resolved'));case 19:case"end":return _context6.stop();}}},_callee6,null,[[1,14]]);}));return function(_x5,_x6){return _ref7.apply(this,arguments);};}(),[cleanReceivedData,displayErrors,slug,id,dispatch,toggleNotification]);var onUnpublish=(0,_react.useCallback)(/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee7(){var endPoint,_yield$axiosInstance$6,_data6;return _regenerator["default"].wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:endPoint=(0,_utils2.getRequestUrl)("collection-types/".concat(slug,"/").concat(id,"/actions/unpublish"));dispatch((0,_actions.setStatus)('unpublish-pending'));_context7.prev=2;trackUsageRef.current('willUnpublishEntry');_context7.next=6;return _utils.axiosInstance.post(endPoint);case 6:_yield$axiosInstance$6=_context7.sent;_data6=_yield$axiosInstance$6.data;trackUsageRef.current('didUnpublishEntry');toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.unpublish')}});dispatch((0,_actions.submitSucceeded)(cleanReceivedData(_data6)));dispatch((0,_actions.setStatus)('resolved'));_context7.next=18;break;case 14:_context7.prev=14;_context7.t0=_context7["catch"](2);dispatch((0,_actions.setStatus)('resolved'));displayErrors(_context7.t0);case 18:case"end":return _context7.stop();}}},_callee7,null,[[2,14]]);})),[cleanReceivedData,displayErrors,id,slug,dispatch,toggleNotification]);return children({componentsDataStructure:componentsDataStructure,contentTypeDataStructure:contentTypeDataStructure,data:data,isCreatingEntry:isCreatingEntry,isLoadingForData:isLoading,onDelete:onDelete,onDeleteSucceeded:onDeleteSucceeded,onPost:onPost,onPublish:onPublish,onPut:onPut,onUnpublish:onUnpublish,status:status,redirectionLink:redirectionLink});};CollectionTypeFormWrapper.defaultProps={id:null,origin:null};CollectionTypeFormWrapper.propTypes={allLayoutData:_propTypes["default"].exact({components:_propTypes["default"].object.isRequired,contentType:_propTypes["default"].shape({apiID:_propTypes["default"].string.isRequired,attributes:_propTypes["default"].object.isRequired,info:_propTypes["default"].object.isRequired,isDisplayed:_propTypes["default"].bool.isRequired,kind:_propTypes["default"].string.isRequired,layouts:_propTypes["default"].object.isRequired,metadatas:_propTypes["default"].object.isRequired,options:_propTypes["default"].object.isRequired,pluginOptions:_propTypes["default"].object,settings:_propTypes["default"].object.isRequired,uid:_propTypes["default"].string.isRequired}).isRequired}).isRequired,children:_propTypes["default"].func.isRequired,id:_propTypes["default"].string,origin:_propTypes["default"].string,slug:_propTypes["default"].string.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(CollectionTypeFormWrapper,_reactFastCompare["default"]);exports.default=_default;

/***/ }),

/***/ 4185:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactIntl=__webpack_require__(97132);var _PlusCircle=_interopRequireDefault(__webpack_require__(83784));var _Box=__webpack_require__(5493);var _Stack=__webpack_require__(9008);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _helperPlugin=__webpack_require__(68547);var _utils=__webpack_require__(28564);var IconWrapper=/*#__PURE__*/_styledComponents["default"].span.withConfig({displayName:"ComponentInitializer__IconWrapper",componentId:"t1smwi-0"})(["> svg{width:",";height:",";> circle{fill:",";}> path{fill:",";}}"],(0,_helperPlugin.pxToRem)(24),(0,_helperPlugin.pxToRem)(24),function(_ref){var theme=_ref.theme;return theme.colors.primary200;},function(_ref2){var theme=_ref2.theme;return theme.colors.primary600;});var ComponentInitializer=function ComponentInitializer(_ref3){var error=_ref3.error,isReadOnly=_ref3.isReadOnly,onClick=_ref3.onClick;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{as:"button",background:"neutral100",borderColor:error?'danger600':'neutral200',disabled:isReadOnly,hasRadius:true,onClick:onClick,paddingTop:9,paddingBottom:9,type:"button"},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center",style:{cursor:isReadOnly?'not-allowed':'inherit'}},/*#__PURE__*/_react["default"].createElement(IconWrapper,null,/*#__PURE__*/_react["default"].createElement(_PlusCircle["default"],null))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"primary600",variant:"pi",fontWeight:"bold"},formatMessage({id:(0,_utils.getTrad)('components.empty-repeatable'),defaultMessage:'No entry yet. Click on the button below to add one.'}))))),(error===null||error===void 0?void 0:error.id)&&/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"danger600",variant:"pi"},formatMessage({id:error.id,defaultMessage:error.defaultMessage},error.values)));};ComponentInitializer.defaultProps={error:undefined,isReadOnly:false};ComponentInitializer.propTypes={error:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),isReadOnly:_propTypes["default"].bool,onClick:_propTypes["default"].func.isRequired};var _default=ComponentInitializer;exports.default=_default;

/***/ }),

/***/ 5969:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _reactDnd=__webpack_require__(99168);var _LayoutDndProvider=_interopRequireDefault(__webpack_require__(95758));var _ItemTypes=_interopRequireDefault(__webpack_require__(26135));var _DragPreview=_interopRequireDefault(__webpack_require__(65506));var _CardPreview=_interopRequireDefault(__webpack_require__(83715));// import RelationItem from '../SelectMany/Relation';
// import { Li } from '../SelectMany/components';
// import DraggedField from '../DraggedField';
var layerStyles={position:'fixed',pointerEvents:'none',zIndex:100,left:0,top:0,width:'100%',height:'100%'};function getItemStyles(initialOffset,currentOffset,mouseOffset){if(!initialOffset||!currentOffset){return{display:'none'};}var x=mouseOffset.x,y=mouseOffset.y;// TODO adjust
var transform="translate(".concat(x,"px, ").concat(y,"px)");return{transform:transform,WebkitTransform:transform};}var CustomDragLayer=function CustomDragLayer(){var _useDragLayer=(0,_reactDnd.useDragLayer)(function(monitor){return{item:monitor.getItem(),itemType:monitor.getItemType(),initialOffset:monitor.getInitialSourceClientOffset(),currentOffset:monitor.getSourceClientOffset(),isDragging:monitor.isDragging(),mouseOffset:monitor.getClientOffset()};}),itemType=_useDragLayer.itemType,isDragging=_useDragLayer.isDragging,item=_useDragLayer.item,initialOffset=_useDragLayer.initialOffset,currentOffset=_useDragLayer.currentOffset,mouseOffset=_useDragLayer.mouseOffset;if(!isDragging){return null;}return/*#__PURE__*/_react["default"].createElement(_LayoutDndProvider["default"],null,/*#__PURE__*/_react["default"].createElement("div",{style:layerStyles},/*#__PURE__*/_react["default"].createElement("div",{style:getItemStyles(initialOffset,currentOffset,mouseOffset),className:"col-md-2"},[_ItemTypes["default"].EDIT_RELATION,_ItemTypes["default"].EDIT_FIELD].includes(itemType)&&/*#__PURE__*/_react["default"].createElement(_CardPreview["default"],{labelField:item.labelField}),itemType===_ItemTypes["default"].COMPONENT&&/*#__PURE__*/_react["default"].createElement(_DragPreview["default"],{displayedValue:item.displayedValue}))));};var _default=CustomDragLayer;exports.default=_default;

/***/ }),

/***/ 7758:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _toString=_interopRequireDefault(__webpack_require__(79833));var CellValue=function CellValue(_ref){var type=_ref.type,value=_ref.value;var _useIntl=(0,_reactIntl.useIntl)(),formatDate=_useIntl.formatDate,formatTime=_useIntl.formatTime,formatNumber=_useIntl.formatNumber;var formattedValue=value;if(type==='date'){formattedValue=formatDate(value,{dateStyle:'full'});}if(type==='datetime'){formattedValue=formatDate(value,{dateStyle:'full',timeStyle:'short'});}if(type==='time'){var _value$split=value.split(':'),_value$split2=(0,_slicedToArray2["default"])(_value$split,3),hour=_value$split2[0],minute=_value$split2[1],second=_value$split2[2];var date=new Date();date.setHours(hour);date.setMinutes(minute);date.setSeconds(second);formattedValue=formatTime(date,{numeric:'auto',style:'short'});}if(['float','integer','biginteger','decimal'].includes(type)){formattedValue=formatNumber(value);}return(0,_toString["default"])(formattedValue);};CellValue.propTypes={type:_propTypes["default"].string.isRequired,value:_propTypes["default"].any.isRequired};var _default=CellValue;exports.default=_default;

/***/ }),

/***/ 34371:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _excluded=["children"];var Wrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"FileWrapper__Wrapper",componentId:"v6u1qm-0"})(["position:relative;border-radius:50%;width:26px;height:26px;border:1px solid ",";background:",";padding-left:1px;span{line-height:0.6rem;font-size:0.6rem;}"],function(_ref){var theme=_ref.theme;return theme.colors.neutral200;},function(_ref2){var theme=_ref2.theme;return theme.colors.neutral150;});var FileWrapper=function FileWrapper(_ref3){var children=_ref3.children,props=(0,_objectWithoutProperties2["default"])(_ref3,_excluded);return/*#__PURE__*/_react["default"].createElement(Wrapper,(0,_extends2["default"])({justifyContent:"center",alignItems:"center",as:"span"},props),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},children));};FileWrapper.propTypes={children:_propTypes["default"].string.isRequired};var _default=FileWrapper;exports.default=_default;

/***/ }),

/***/ 86955:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Avatar=__webpack_require__(86907);var _Tooltip=__webpack_require__(93355);var _helperPlugin=__webpack_require__(68547);var _FileWrapper=_interopRequireDefault(__webpack_require__(34371));var Media=function Media(_ref){var url=_ref.url,mime=_ref.mime,alternativeText=_ref.alternativeText,name=_ref.name,ext=_ref.ext,formats=_ref.formats;var fileURL=(0,_helperPlugin.prefixFileUrlWithBackendUrl)(url);if(mime.includes('image')){var _formats$thumbnail;var thumbnail=(formats===null||formats===void 0?void 0:(_formats$thumbnail=formats.thumbnail)===null||_formats$thumbnail===void 0?void 0:_formats$thumbnail.url)||null;var mediaURL=(0,_helperPlugin.prefixFileUrlWithBackendUrl)(thumbnail)||fileURL;return/*#__PURE__*/_react["default"].createElement(_Avatar.Avatar,{src:mediaURL,alt:alternativeText||name,preview:true});}var fileExtension=(0,_helperPlugin.getFileExtension)(ext);var fileName=name.length>100?"".concat(name.substring(0,100),"..."):name;return/*#__PURE__*/_react["default"].createElement(_Tooltip.Tooltip,{description:fileName},/*#__PURE__*/_react["default"].createElement(_FileWrapper["default"],null,fileExtension));};Media.defaultProps={alternativeText:null,formats:null};Media.propTypes={alternativeText:_propTypes["default"].string,ext:_propTypes["default"].string.isRequired,formats:_propTypes["default"].object,mime:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired};var _default=Media;exports.default=_default;

/***/ }),

/***/ 52114:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Avatar=__webpack_require__(86907);var _Media=_interopRequireDefault(__webpack_require__(86955));var _FileWrapper=_interopRequireDefault(__webpack_require__(34371));var MultipleMedia=function MultipleMedia(_ref){var value=_ref.value;return/*#__PURE__*/_react["default"].createElement(_Avatar.AvatarGroup,null,value.map(function(file,index){var key="".concat(file.id).concat(index);if(index===3){var remainingFiles="+".concat(value.length-3);return/*#__PURE__*/_react["default"].createElement(_FileWrapper["default"],{key:key,preview:false},remainingFiles);}if(index>3){return null;}return/*#__PURE__*/_react["default"].createElement(_Media["default"],(0,_extends2["default"])({key:key},file));}));};MultipleMedia.propTypes={value:_propTypes["default"].arrayOf(_propTypes["default"].shape({alternativeText:_propTypes["default"].string,ext:_propTypes["default"].string.isRequired,formats:_propTypes["default"].object,mime:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,url:_propTypes["default"].string.isRequired})).isRequired};var _default=MultipleMedia;exports.default=_default;

/***/ }),

/***/ 47276:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _react=_interopRequireDefault(__webpack_require__(67294));var _reactQuery=__webpack_require__(23724);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Box=__webpack_require__(5493);var _Typography=__webpack_require__(49425);var _Loader=__webpack_require__(40064);var _LiveRegions=__webpack_require__(84686);var _utils=__webpack_require__(53777);var _utils2=__webpack_require__(28564);var _CellValue=_interopRequireDefault(__webpack_require__(7758));var fetchRelation=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(endPoint,notifyStatus){var _yield$axiosInstance$,_yield$axiosInstance$2,results,pagination;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _utils.axiosInstance.get(endPoint);case 2:_yield$axiosInstance$=_context.sent;_yield$axiosInstance$2=_yield$axiosInstance$.data;results=_yield$axiosInstance$2.results;pagination=_yield$axiosInstance$2.pagination;notifyStatus();return _context.abrupt("return",{results:results,pagination:pagination});case 8:case"end":return _context.stop();}}},_callee);}));return function fetchRelation(_x,_x2){return _ref.apply(this,arguments);};}();var PopoverContent=function PopoverContent(_ref2){var fieldSchema=_ref2.fieldSchema,name=_ref2.name,rowId=_ref2.rowId,targetModel=_ref2.targetModel,queryInfos=_ref2.queryInfos;var requestURL=(0,_utils2.getRequestUrl)("".concat(queryInfos.endPoint,"/").concat(rowId,"/").concat(name.split('.')[0]));var _useNotifyAT=(0,_LiveRegions.useNotifyAT)(),notifyStatus=_useNotifyAT.notifyStatus;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var notify=function notify(){var message=formatMessage({id:(0,_utils2.getTrad)('DynamicTable.relation-loaded'),defaultMessage:'The relations have been loaded'});notifyStatus(message);};var _useQuery=(0,_reactQuery.useQuery)([targetModel,rowId],function(){return fetchRelation(requestURL,notify);},{staleTime:0}),data=_useQuery.data,status=_useQuery.status;if(status!=='success'){return/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Loader.Loader,null,"Loading content"));}return/*#__PURE__*/_react["default"].createElement("ul",null,data===null||data===void 0?void 0:data.results.map(function(entry){var value=entry[fieldSchema.name];return/*#__PURE__*/_react["default"].createElement(_Box.Box,{as:"li",key:entry.id,padding:3},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,null,value?/*#__PURE__*/_react["default"].createElement(_CellValue["default"],{type:fieldSchema.schema.type,value:entry[fieldSchema.name]}):'-'));}),(data===null||data===void 0?void 0:data.pagination.total)>10&&/*#__PURE__*/_react["default"].createElement(_Box.Box,{as:"li",padding:3},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,null,"[...]")));};PopoverContent.propTypes={fieldSchema:_propTypes["default"].shape({name:_propTypes["default"].string,schema:_propTypes["default"].shape({type:_propTypes["default"].string}).isRequired}).isRequired,name:_propTypes["default"].string.isRequired,rowId:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired,targetModel:_propTypes["default"].string.isRequired,queryInfos:_propTypes["default"].shape({endPoint:_propTypes["default"].string}).isRequired};var _default=PopoverContent;exports.default=_default;

/***/ }),

/***/ 60250:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _IconButton=__webpack_require__(30741);var _Typography=__webpack_require__(49425);var _Box=__webpack_require__(5493);var _Badge=__webpack_require__(49903);var _Flex=__webpack_require__(67826);var _Popover=__webpack_require__(24955);var _helperPlugin=__webpack_require__(68547);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _PopoverContent=_interopRequireDefault(__webpack_require__(47276));var _CellValue=_interopRequireDefault(__webpack_require__(7758));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var SINGLE_RELATIONS=['oneToOne','manyToOne'];var ActionWrapper=/*#__PURE__*/_styledComponents["default"].span.withConfig({displayName:"Relation__ActionWrapper",componentId:"sc-8klqer-0"})(["svg{height:","rem;}"],4/16);var RelationCountBadge=/*#__PURE__*/(0,_styledComponents["default"])(_Badge.Badge).withConfig({displayName:"Relation__RelationCountBadge",componentId:"sc-8klqer-1"})(["display:flex;align-items:center;height:","rem;width:","rem;"],20/16,16/16);var Relation=function Relation(_ref){var fieldSchema=_ref.fieldSchema,metadatas=_ref.metadatas,queryInfos=_ref.queryInfos,name=_ref.name,rowId=_ref.rowId,value=_ref.value;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var buttonRef=(0,_react.useRef)();if(SINGLE_RELATIONS.includes(fieldSchema.relation)){return/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"neutral800"},/*#__PURE__*/_react["default"].createElement(_CellValue["default"],{type:metadatas.mainField.schema.type,value:value[metadatas.mainField.name]}));}var handleTogglePopover=function handleTogglePopover(){return setVisible(function(prev){return!prev;});};return/*#__PURE__*/_react["default"].createElement(_Flex.Flex,_helperPlugin.stopPropagation,/*#__PURE__*/_react["default"].createElement(RelationCountBadge,null,value.count),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:2},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"neutral800"},formatMessage({id:'content-manager.containers.ListPage.items',defaultMessage:'{number, plural, =0 {items} one {item} other {items}}'},{number:value.count}))),value.count>0&&/*#__PURE__*/_react["default"].createElement(ActionWrapper,null,/*#__PURE__*/_react["default"].createElement(_IconButton.IconButton,{onClick:handleTogglePopover,ref:buttonRef,noBorder:true,label:formatMessage({id:'content-manager.popover.display-relations.label',defaultMessage:'Display relations'}),icon:/*#__PURE__*/_react["default"].createElement(_helperPlugin.SortIcon,{isUp:visible})}),visible&&/*#__PURE__*/_react["default"].createElement(_Popover.Popover,{source:buttonRef,spacing:16,centered:true},/*#__PURE__*/_react["default"].createElement(_PopoverContent["default"],{queryInfos:queryInfos,name:name,fieldSchema:metadatas.mainField,targetModel:fieldSchema.targetModel,rowId:rowId,count:value.count}))));};Relation.propTypes={fieldSchema:_propTypes["default"].shape({relation:_propTypes["default"].string,targetModel:_propTypes["default"].string,type:_propTypes["default"].string.isRequired}).isRequired,metadatas:_propTypes["default"].shape({mainField:_propTypes["default"].shape({name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].shape({type:_propTypes["default"].string.isRequired}).isRequired})}).isRequired,name:_propTypes["default"].string.isRequired,rowId:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired,queryInfos:_propTypes["default"].shape({endPoint:_propTypes["default"].string.isRequired}).isRequired,value:_propTypes["default"].object.isRequired};var _default=Relation;exports.default=_default;

/***/ }),

/***/ 57397:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Typography=__webpack_require__(49425);var _Media=_interopRequireDefault(__webpack_require__(86955));var _MultipleMedias=_interopRequireDefault(__webpack_require__(52114));var _Relation=_interopRequireDefault(__webpack_require__(60250));var _CellValue=_interopRequireDefault(__webpack_require__(7758));var TypographyMaxWidth=/*#__PURE__*/(0,_styledComponents["default"])(_Typography.Typography).withConfig({displayName:"CellContent__TypographyMaxWidth",componentId:"neafof-0"})(["max-width:300px;"]);var CellContent=function CellContent(_ref){var content=_ref.content,fieldSchema=_ref.fieldSchema,metadatas=_ref.metadatas,name=_ref.name,queryInfos=_ref.queryInfos,rowId=_ref.rowId;if(content===null||content===undefined){return/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"neutral800"},"-");}if(fieldSchema.type==='media'&&!fieldSchema.multiple){return/*#__PURE__*/_react["default"].createElement(_Media["default"],content);}if(fieldSchema.type==='media'&&fieldSchema.multiple){return/*#__PURE__*/_react["default"].createElement(_MultipleMedias["default"],{value:content});}if(fieldSchema.type==='relation'){return/*#__PURE__*/_react["default"].createElement(_Relation["default"],{fieldSchema:fieldSchema,queryInfos:queryInfos,metadatas:metadatas,value:content,name:name,rowId:rowId});}return/*#__PURE__*/_react["default"].createElement(TypographyMaxWidth,{ellipsis:true,textColor:"neutral800"},/*#__PURE__*/_react["default"].createElement(_CellValue["default"],{type:fieldSchema.type,value:content}));};CellContent.defaultProps={content:undefined,queryInfos:undefined};CellContent.propTypes={content:_propTypes["default"].any,fieldSchema:_propTypes["default"].shape({multiple:_propTypes["default"].bool,type:_propTypes["default"].string.isRequired}).isRequired,metadatas:_propTypes["default"].object.isRequired,name:_propTypes["default"].string.isRequired,rowId:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]).isRequired,queryInfos:_propTypes["default"].shape({endPoint:_propTypes["default"].string.isRequired})};var _default=CellContent;exports.default=_default;

/***/ }),

/***/ 86863:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Dialog=__webpack_require__(16758);var _Stack=__webpack_require__(9008);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Button=__webpack_require__(19408);var _ExclamationMarkCircle=_interopRequireDefault(__webpack_require__(51359));var _Trash=_interopRequireDefault(__webpack_require__(18568));var _InjectionZoneList=_interopRequireDefault(__webpack_require__(85117));var ConfirmDialogDelete=function ConfirmDialogDelete(_ref){var isConfirmButtonLoading=_ref.isConfirmButtonLoading,isOpen=_ref.isOpen,onToggleDialog=_ref.onToggleDialog,onConfirm=_ref.onConfirm;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(_Dialog.Dialog,{onClose:onToggleDialog,title:formatMessage({id:'app.components.ConfirmDialog.title',defaultMessage:'Confirmation'}),labelledBy:"confirmation",describedBy:"confirm-description",isOpen:isOpen},/*#__PURE__*/_react["default"].createElement(_Dialog.DialogBody,{icon:/*#__PURE__*/_react["default"].createElement(_ExclamationMarkCircle["default"],null)},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{id:"confirm-description"},formatMessage({id:'components.popUpWarning.message',defaultMessage:'Are you sure you want to delete this?'}))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_InjectionZoneList["default"],{area:"contentManager.listView.deleteModalAdditionalInfos"})))),/*#__PURE__*/_react["default"].createElement(_Dialog.DialogFooter,{startAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onToggleDialog,variant:"tertiary"},formatMessage({id:'app.components.Button.cancel',defaultMessage:'Cancel'})),endAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onConfirm,variant:"danger-light",startIcon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null),id:"confirm-delete",loading:isConfirmButtonLoading},formatMessage({id:'app.components.Button.confirm',defaultMessage:'Confirm'}))}));};ConfirmDialogDelete.propTypes={isConfirmButtonLoading:_propTypes["default"].bool.isRequired,isOpen:_propTypes["default"].bool.isRequired,onConfirm:_propTypes["default"].func.isRequired,onToggleDialog:_propTypes["default"].func.isRequired};var _default=ConfirmDialogDelete;exports.default=_default;

/***/ }),

/***/ 35883:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Dialog=__webpack_require__(16758);var _Stack=__webpack_require__(9008);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Button=__webpack_require__(19408);var _ExclamationMarkCircle=_interopRequireDefault(__webpack_require__(51359));var _Trash=_interopRequireDefault(__webpack_require__(18568));var _InjectionZoneList=_interopRequireDefault(__webpack_require__(85117));var _utils=__webpack_require__(28564);var ConfirmDialogDeleteAll=function ConfirmDialogDeleteAll(_ref){var isConfirmButtonLoading=_ref.isConfirmButtonLoading,isOpen=_ref.isOpen,onToggleDialog=_ref.onToggleDialog,onConfirm=_ref.onConfirm;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(_Dialog.Dialog,{onClose:onToggleDialog,title:formatMessage({id:'app.components.ConfirmDialog.title',defaultMessage:'Confirmation'}),labelledBy:"confirmation",describedBy:"confirm-description",isOpen:isOpen},/*#__PURE__*/_react["default"].createElement(_Dialog.DialogBody,{icon:/*#__PURE__*/_react["default"].createElement(_ExclamationMarkCircle["default"],null)},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{id:"confirm-description"},formatMessage({id:(0,_utils.getTrad)('popUpWarning.bodyMessage.contentType.delete.all'),defaultMessage:'Are you sure you want to delete these entries?'}))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_InjectionZoneList["default"],{area:"contentManager.listView.deleteModalAdditionalInfos"})))),/*#__PURE__*/_react["default"].createElement(_Dialog.DialogFooter,{startAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onToggleDialog,variant:"tertiary"},formatMessage({id:'app.components.Button.cancel',defaultMessage:'Cancel'})),endAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onConfirm,variant:"danger-light",startIcon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null),id:"confirm-delete",loading:isConfirmButtonLoading},formatMessage({id:'app.components.Button.confirm',defaultMessage:'Confirm'}))}));};ConfirmDialogDeleteAll.propTypes={isConfirmButtonLoading:_propTypes["default"].bool.isRequired,isOpen:_propTypes["default"].bool.isRequired,onConfirm:_propTypes["default"].func.isRequired,onToggleDialog:_propTypes["default"].func.isRequired};var _default=ConfirmDialogDeleteAll;exports.default=_default;

/***/ }),

/***/ 90753:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _BaseCheckbox=__webpack_require__(59522);var _Box=__webpack_require__(5493);var _IconButton=__webpack_require__(30741);var _Table=__webpack_require__(41798);var _Flex=__webpack_require__(67826);var _Trash=_interopRequireDefault(__webpack_require__(18568));var _Duplicate=_interopRequireDefault(__webpack_require__(67483));var _Pencil=_interopRequireDefault(__webpack_require__(19352));var _helperPlugin=__webpack_require__(68547);var _reactRouterDom=__webpack_require__(39711);var _reactIntl=__webpack_require__(97132);var _hooks=__webpack_require__(14772);var _CellContent=_interopRequireDefault(__webpack_require__(57397));var _utils=__webpack_require__(26595);var _excluded=["key","cellFormatter","name"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var TableRows=function TableRows(_ref){var canCreate=_ref.canCreate,canDelete=_ref.canDelete,headers=_ref.headers,entriesToDelete=_ref.entriesToDelete,onClickDelete=_ref.onClickDelete,onSelectRow=_ref.onSelectRow,withMainAction=_ref.withMainAction,withBulkActions=_ref.withBulkActions,rows=_ref.rows;var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push,pathname=_useHistory.location.pathname;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var pluginsQueryParams=(0,_hooks.usePluginsQueryParams)();return/*#__PURE__*/_react["default"].createElement(_Table.Tbody,null,rows.map(function(data,index){var isChecked=entriesToDelete.findIndex(function(id){return id===data.id;})!==-1;var itemLineText=formatMessage({id:'content-manager.components.DynamicTable.row-line',defaultMessage:'item line {number}'},{number:index});return/*#__PURE__*/_react["default"].createElement(_Table.Tr,(0,_extends2["default"])({key:data.id},(0,_helperPlugin.onRowClick)({fn:function fn(){trackUsage('willEditEntryFromList');push({pathname:"".concat(pathname,"/").concat(data.id),state:{from:pathname},search:pluginsQueryParams});},condition:withBulkActions})),withMainAction&&/*#__PURE__*/_react["default"].createElement(_Table.Td,_helperPlugin.stopPropagation,/*#__PURE__*/_react["default"].createElement(_BaseCheckbox.BaseCheckbox,{"aria-label":formatMessage({id:'app.component.table.select.one-entry',defaultMessage:"Select {target}"},{target:(0,_utils.getFullName)(data.firstname,data.lastname)}),checked:isChecked,onChange:function onChange(){onSelectRow({name:data.id,value:!isChecked});}})),headers.map(function(_ref2){var key=_ref2.key,cellFormatter=_ref2.cellFormatter,name=_ref2.name,rest=(0,_objectWithoutProperties2["default"])(_ref2,_excluded);return/*#__PURE__*/_react["default"].createElement(_Table.Td,{key:key},typeof cellFormatter==='function'?cellFormatter(data,_objectSpread({key:key,name:name},rest)):/*#__PURE__*/_react["default"].createElement(_CellContent["default"],(0,_extends2["default"])({content:data[name.split('.')[0]],name:name},rest,{rowId:data.id})));}),withBulkActions&&/*#__PURE__*/_react["default"].createElement(_Table.Td,null,/*#__PURE__*/_react["default"].createElement(_Flex.Flex,(0,_extends2["default"])({justifyContent:"end"},_helperPlugin.stopPropagation),/*#__PURE__*/_react["default"].createElement(_IconButton.IconButton,{onClick:function onClick(){trackUsage('willEditEntryFromButton');push({pathname:"".concat(pathname,"/").concat(data.id),state:{from:pathname},search:pluginsQueryParams});},label:formatMessage({id:'app.component.table.edit',defaultMessage:'Edit {target}'},{target:itemLineText}),noBorder:true,icon:/*#__PURE__*/_react["default"].createElement(_Pencil["default"],null)}),canCreate&&/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:1},/*#__PURE__*/_react["default"].createElement(_IconButton.IconButton,{onClick:function onClick(){push({pathname:"".concat(pathname,"/create/clone/").concat(data.id),state:{from:pathname},search:pluginsQueryParams});},label:formatMessage({id:'app.component.table.duplicate',defaultMessage:'Duplicate {target}'},{target:itemLineText}),noBorder:true,icon:/*#__PURE__*/_react["default"].createElement(_Duplicate["default"],null)})),canDelete&&/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:1},/*#__PURE__*/_react["default"].createElement(_IconButton.IconButton,{onClick:function onClick(){trackUsage('willDeleteEntryFromList');onClickDelete(data.id);},label:formatMessage({id:'app.component.table.delete',defaultMessage:'Delete {target}'},{target:itemLineText}),noBorder:true,icon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null)})))));}));};TableRows.defaultProps={canCreate:false,canDelete:false,entriesToDelete:[],onClickDelete:function onClickDelete(){},onSelectRow:function onSelectRow(){},rows:[],withBulkActions:false,withMainAction:false};TableRows.propTypes={canCreate:_propTypes["default"].bool,canDelete:_propTypes["default"].bool,entriesToDelete:_propTypes["default"].array,headers:_propTypes["default"].array.isRequired,onClickDelete:_propTypes["default"].func,onSelectRow:_propTypes["default"].func,rows:_propTypes["default"].array,withBulkActions:_propTypes["default"].bool,withMainAction:_propTypes["default"].bool};var _default=TableRows;exports.default=_default;

/***/ }),

/***/ 18595:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _helperPlugin=__webpack_require__(68547);var _reactRedux=__webpack_require__(37424);var _isEmpty=_interopRequireDefault(__webpack_require__(41609));var _exposedHooks=__webpack_require__(29499);var _selectors=__webpack_require__(51046);var _utils=__webpack_require__(28564);var _State=_interopRequireDefault(__webpack_require__(27301));var _TableRows=_interopRequireDefault(__webpack_require__(90753));var _ConfirmDialogDeleteAll=_interopRequireDefault(__webpack_require__(35883));var _ConfirmDialogDelete=_interopRequireDefault(__webpack_require__(86863));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var DynamicTable=function DynamicTable(_ref){var canCreate=_ref.canCreate,canDelete=_ref.canDelete,contentTypeName=_ref.contentTypeName,isBulkable=_ref.isBulkable,isLoading=_ref.isLoading,onConfirmDelete=_ref.onConfirmDelete,onConfirmDeleteAll=_ref.onConfirmDeleteAll,layout=_ref.layout,rows=_ref.rows;var _useStrapiApp=(0,_helperPlugin.useStrapiApp)(),runHookWaterfall=_useStrapiApp.runHookWaterfall;var hasDraftAndPublish=layout.contentType.options.draftAndPublish||false;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var displayedHeaders=(0,_reactRedux.useSelector)(_selectors.selectDisplayedHeaders);var tableHeaders=(0,_react.useMemo)(function(){var headers=runHookWaterfall(_exposedHooks.INJECT_COLUMN_IN_TABLE,{displayedHeaders:displayedHeaders,layout:layout});var formattedHeaders=headers.displayedHeaders.map(function(header){if(header.fieldSchema.type==='relation'){var sortFieldValue="".concat(header.name,".").concat(header.metadatas.mainField.name);return _objectSpread(_objectSpread({},header),{},{name:sortFieldValue});}return header;});if(!hasDraftAndPublish){return formattedHeaders;}return[].concat((0,_toConsumableArray2["default"])(formattedHeaders),[{key:'__published_at_temp_key__',name:'publishedAt',fieldSchema:{type:'custom'},metadatas:{label:formatMessage({id:(0,_utils.getTrad)('containers.ListPage.table-headers.published_at')}),searchable:false,sortable:true},cellFormatter:function cellFormatter(cellData){var isPublished=!(0,_isEmpty["default"])(cellData.publishedAt);return/*#__PURE__*/_react["default"].createElement(_State["default"],{isPublished:isPublished});}}]);},[runHookWaterfall,displayedHeaders,layout,hasDraftAndPublish,formatMessage]);return/*#__PURE__*/_react["default"].createElement(_helperPlugin.DynamicTable,{components:{ConfirmDialogDelete:_ConfirmDialogDelete["default"],ConfirmDialogDeleteAll:_ConfirmDialogDeleteAll["default"]},contentType:contentTypeName,isLoading:isLoading,headers:tableHeaders,onConfirmDelete:onConfirmDelete,onConfirmDeleteAll:onConfirmDeleteAll,onOpenDeleteAllModalTrackedEvent:"willBulkDeleteEntries",rows:rows,withBulkActions:true,withMainAction:canDelete&&isBulkable},/*#__PURE__*/_react["default"].createElement(_TableRows["default"],{canCreate:canCreate,canDelete:canDelete,headers:tableHeaders,rows:rows,withBulkActions:true,withMainAction:canDelete&&isBulkable}));};DynamicTable.propTypes={canCreate:_propTypes["default"].bool.isRequired,canDelete:_propTypes["default"].bool.isRequired,contentTypeName:_propTypes["default"].string.isRequired,isBulkable:_propTypes["default"].bool.isRequired,isLoading:_propTypes["default"].bool.isRequired,layout:_propTypes["default"].exact({components:_propTypes["default"].object.isRequired,contentType:_propTypes["default"].shape({attributes:_propTypes["default"].object.isRequired,metadatas:_propTypes["default"].object.isRequired,layouts:_propTypes["default"].shape({list:_propTypes["default"].array.isRequired,editRelations:_propTypes["default"].array}).isRequired,options:_propTypes["default"].object.isRequired,settings:_propTypes["default"].object.isRequired}).isRequired}).isRequired,onConfirmDelete:_propTypes["default"].func.isRequired,onConfirmDeleteAll:_propTypes["default"].func.isRequired,rows:_propTypes["default"].array.isRequired};var _default=DynamicTable;exports.default=_default;

/***/ }),

/***/ 33755:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _PlusCircle=_interopRequireDefault(__webpack_require__(83784));var _BaseButton=__webpack_require__(18445);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _utils=__webpack_require__(28564);/**
 *
 * AddComponentButton
 *
 */var StyledAddIcon=/*#__PURE__*/(0,_styledComponents["default"])(_PlusCircle["default"]).withConfig({displayName:"AddComponentButton__StyledAddIcon",componentId:"sc-1yhda8c-0"})(["transform:",";> circle{fill:",";}> path{fill:",";}"],function(_ref){var $isOpen=_ref.$isOpen;return $isOpen?'rotate(45deg)':'rotate(0deg)';},function(_ref2){var theme=_ref2.theme,$hasError=_ref2.$hasError;return $hasError?theme.colors.danger200:theme.colors.neutral150;},function(_ref3){var theme=_ref3.theme,$hasError=_ref3.$hasError;return $hasError?theme.colors.danger600:theme.colors.neutral600;});var StyledButton=/*#__PURE__*/(0,_styledComponents["default"])(_BaseButton.BaseButton).withConfig({displayName:"AddComponentButton__StyledButton",componentId:"sc-1yhda8c-1"})(["border-radius:26px;border-color:",";background:",";padding-top:",";padding-right:",";padding-bottom:",";padding-left:",";box-shadow:",";svg{height:",";width:",";> path{fill:",";}}&:hover{color:"," !important;","{color:"," !important;}","{> circle{fill:",";}> path{fill:",";}}}&:active{","{color:",";}","{> circle{fill:",";}> path{fill:",";}}}"],function(_ref4){var theme=_ref4.theme;return theme.colors.neutral150;},function(_ref5){var theme=_ref5.theme;return theme.colors.neutral0;},function(_ref6){var theme=_ref6.theme;return theme.spaces[3];},function(_ref7){var theme=_ref7.theme;return theme.spaces[4];},function(_ref8){var theme=_ref8.theme;return theme.spaces[3];},function(_ref9){var theme=_ref9.theme;return theme.spaces[4];},function(_ref10){var theme=_ref10.theme;return theme.shadows.filterShadow;},function(_ref11){var theme=_ref11.theme;return theme.spaces[6];},function(_ref12){var theme=_ref12.theme;return theme.spaces[6];},function(_ref13){var theme=_ref13.theme;return theme.colors.neutral600;},function(_ref14){var theme=_ref14.theme;return theme.colors.primary600;},_Typography.Typography,function(_ref15){var theme=_ref15.theme;return theme.colors.primary600;},StyledAddIcon,function(_ref16){var theme=_ref16.theme;return theme.colors.primary600;},function(_ref17){var theme=_ref17.theme;return theme.colors.neutral100;},_Typography.Typography,function(_ref18){var theme=_ref18.theme;return theme.colors.primary600;},StyledAddIcon,function(_ref19){var theme=_ref19.theme;return theme.colors.primary600;},function(_ref20){var theme=_ref20.theme;return theme.colors.neutral100;});var BoxFullHeight=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"AddComponentButton__BoxFullHeight",componentId:"sc-1yhda8c-2"})(["height:100%;"]);var AddComponentButton=function AddComponentButton(_ref21){var hasError=_ref21.hasError,hasMaxError=_ref21.hasMaxError,hasMinError=_ref21.hasMinError,isDisabled=_ref21.isDisabled,isOpen=_ref21.isOpen,label=_ref21.label,missingComponentNumber=_ref21.missingComponentNumber,name=_ref21.name,onClick=_ref21.onClick;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var addLabel=formatMessage({id:(0,_utils.getTrad)('components.DynamicZone.add-component'),defaultMessage:'Add a component to {componentName}'},{componentName:label||name});var closeLabel=formatMessage({id:'app.utils.close-label',defaultMessage:'Close'});var buttonLabel=isOpen?closeLabel:addLabel;if(hasMaxError&&!isOpen){buttonLabel=formatMessage({id:'components.Input.error.validation.max',defaultMessage:'The value is too high.'});}if(hasMinError&&!isOpen){buttonLabel=formatMessage({id:(0,_utils.getTrad)("components.DynamicZone.missing-components"),defaultMessage:'There {number, plural, =0 {are # missing components} one {is # missing component} other {are # missing components}}'},{number:missingComponentNumber});}return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center"},/*#__PURE__*/_react["default"].createElement(_Box.Box,{style:{cursor:isDisabled?'not-allowed':'pointer'}},/*#__PURE__*/_react["default"].createElement(StyledButton,{type:"button",onClick:onClick,disabled:isDisabled,hasError:hasError},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(BoxFullHeight,{"aria-hidden":true,paddingRight:2},/*#__PURE__*/_react["default"].createElement(StyledAddIcon,{$isOpen:isOpen,$hasError:hasError&&!isOpen})),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",fontWeight:"bold",textColor:hasError&&!isOpen?'danger600':'neutral500'},buttonLabel))))));};AddComponentButton.defaultProps={label:'',missingComponentNumber:0};AddComponentButton.propTypes={label:_propTypes["default"].string,hasError:_propTypes["default"].bool.isRequired,hasMaxError:_propTypes["default"].bool.isRequired,hasMinError:_propTypes["default"].bool.isRequired,isDisabled:_propTypes["default"].bool.isRequired,isOpen:_propTypes["default"].bool.isRequired,missingComponentNumber:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,onClick:_propTypes["default"].func.isRequired};var _default=AddComponentButton;exports.default=_default;

/***/ }),

/***/ 61321:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var StyledBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Rectangle__StyledBox",componentId:"sc-1phtory-0"})(["width:",";height:",";"],function(_ref){var theme=_ref.theme;return theme.spaces[2];},function(_ref2){var theme=_ref2.theme;return theme.spaces[4];});var Rectangle=function Rectangle(){return/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center"},/*#__PURE__*/_react["default"].createElement(StyledBox,{background:"neutral200"}));};var _default=Rectangle;exports.default=_default;

/***/ }),

/***/ 47330:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactFastCompare=_interopRequireDefault(__webpack_require__(39918));var _reactIntl=__webpack_require__(97132);var _reactFontawesome=__webpack_require__(67814);var _Accordion=__webpack_require__(96654);var _IconButton=__webpack_require__(30741);var _FocusTrap=__webpack_require__(24824);var _Box=__webpack_require__(5493);var _Stack=__webpack_require__(9008);var _Trash=_interopRequireDefault(__webpack_require__(18568));var _ArrowDown=_interopRequireDefault(__webpack_require__(31513));var _ArrowUp=_interopRequireDefault(__webpack_require__(43888));var _hooks=__webpack_require__(14772);var _utils=__webpack_require__(28564);var _FieldComponent=_interopRequireDefault(__webpack_require__(49925));var _Rectangle=_interopRequireDefault(__webpack_require__(61321));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var ActionStack=/*#__PURE__*/(0,_styledComponents["default"])(_Stack.Stack).withConfig({displayName:"Component__ActionStack",componentId:"sc-1avgasp-0"})(["svg{path{fill:",";}}"],function(_ref){var theme=_ref.theme,expanded=_ref.expanded;return expanded?theme.colors.primary600:theme.colors.neutral600;});var IconButtonCustom=/*#__PURE__*/(0,_styledComponents["default"])(_IconButton.IconButton).withConfig({displayName:"Component__IconButtonCustom",componentId:"sc-1avgasp-1"})(["background-color:transparent;"]);var StyledBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Component__StyledBox",componentId:"sc-1avgasp-2"})(["> div:first-child{box-shadow:",";}"],function(_ref2){var theme=_ref2.theme;return theme.shadows.tableShadow;});var AccordionContentRadius=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Component__AccordionContentRadius",componentId:"sc-1avgasp-3"})(["border-radius:0 0 "," ",";"],function(_ref3){var theme=_ref3.theme;return theme.spaces[1];},function(_ref4){var theme=_ref4.theme;return theme.spaces[1];});var Component=function Component(_ref5){var componentUid=_ref5.componentUid,formErrors=_ref5.formErrors,index=_ref5.index,isOpen=_ref5.isOpen,isFieldAllowed=_ref5.isFieldAllowed,moveComponentDown=_ref5.moveComponentDown,moveComponentUp=_ref5.moveComponentUp,name=_ref5.name,onToggle=_ref5.onToggle,removeComponentFromDynamicZone=_ref5.removeComponentFromDynamicZone,showDownIcon=_ref5.showDownIcon,showUpIcon=_ref5.showUpIcon;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useContentTypeLayout=(0,_hooks.useContentTypeLayout)(),getComponentLayout=_useContentTypeLayout.getComponentLayout;var _useMemo=(0,_react.useMemo)(function(){var _getComponentLayout=getComponentLayout(componentUid),_getComponentLayout$i=_getComponentLayout.info,icon=_getComponentLayout$i.icon,displayName=_getComponentLayout$i.displayName;return{friendlyName:displayName,icon:icon};},[componentUid,getComponentLayout]),icon=_useMemo.icon,friendlyName=_useMemo.friendlyName;var handleMoveComponentDown=function handleMoveComponentDown(){return moveComponentDown(name,index);};var handleMoveComponentUp=function handleMoveComponentUp(){return moveComponentUp(name,index);};var handleRemove=function handleRemove(){return removeComponentFromDynamicZone(name,index);};var downLabel=formatMessage({id:(0,_utils.getTrad)('components.DynamicZone.move-down-label'),defaultMessage:'Move component down'});var upLabel=formatMessage({id:(0,_utils.getTrad)('components.DynamicZone.move-up-label'),defaultMessage:'Move component down'});var deleteLabel=formatMessage({id:(0,_utils.getTrad)('components.DynamicZone.delete-label'),defaultMessage:'Delete {name}'},{name:friendlyName});var formErrorsKeys=Object.keys(formErrors);var fieldsErrors=formErrorsKeys.filter(function(errorKey){var errorKeysArray=errorKey.split('.');if("".concat(errorKeysArray[0],".").concat(errorKeysArray[1])==="".concat(name,".").concat(index)){return true;}return false;});var errorMessage;if(fieldsErrors.length>0){errorMessage=formatMessage({id:(0,_utils.getTrad)('components.DynamicZone.error-message'),defaultMessage:'The component contains error(s)'});}return/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Rectangle["default"],null),/*#__PURE__*/_react["default"].createElement(StyledBox,{hasRadius:true},/*#__PURE__*/_react["default"].createElement(_Accordion.Accordion,{expanded:isOpen,toggle:function toggle(){return onToggle(index);},size:"S",error:errorMessage},/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionToggle,{startIcon:/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:icon}),action:/*#__PURE__*/_react["default"].createElement(ActionStack,{horizontal:true,size:0,expanded:isOpen},showDownIcon&&/*#__PURE__*/_react["default"].createElement(IconButtonCustom,{noBorder:true,label:downLabel,onClick:handleMoveComponentDown,icon:/*#__PURE__*/_react["default"].createElement(_ArrowDown["default"],null)}),showUpIcon&&/*#__PURE__*/_react["default"].createElement(IconButtonCustom,{noBorder:true,label:upLabel,onClick:handleMoveComponentUp,icon:/*#__PURE__*/_react["default"].createElement(_ArrowUp["default"],null)}),isFieldAllowed&&/*#__PURE__*/_react["default"].createElement(IconButtonCustom,{noBorder:true,label:deleteLabel,onClick:handleRemove,icon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null)})),title:friendlyName,togglePosition:"left"}),/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionContent,null,/*#__PURE__*/_react["default"].createElement(AccordionContentRadius,{background:"neutral0"},/*#__PURE__*/_react["default"].createElement(_FocusTrap.FocusTrap,{onEscape:function onEscape(){return onToggle(index);}},/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{componentUid:componentUid,icon:icon,name:"".concat(name,".").concat(index),isFromDynamicZone:true})))))));};Component.propTypes={componentUid:_propTypes["default"].string.isRequired,formErrors:_propTypes["default"].object.isRequired,index:_propTypes["default"].number.isRequired,isFieldAllowed:_propTypes["default"].bool.isRequired,isOpen:_propTypes["default"].bool.isRequired,moveComponentDown:_propTypes["default"].func.isRequired,moveComponentUp:_propTypes["default"].func.isRequired,name:_propTypes["default"].string.isRequired,onToggle:_propTypes["default"].func.isRequired,removeComponentFromDynamicZone:_propTypes["default"].func.isRequired,showDownIcon:_propTypes["default"].bool.isRequired,showUpIcon:_propTypes["default"].bool.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(Component,_reactFastCompare["default"]);exports.default=_default;

/***/ }),

/***/ 62761:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _Typography=__webpack_require__(49425);var _Stack=__webpack_require__(9008);var _helperPlugin=__webpack_require__(68547);var _reactFontawesome=__webpack_require__(67814);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactIntl=__webpack_require__(97132);/**
 *
 * ComponentCard
 *
 */var StyledFontAwesomeIcon=/*#__PURE__*/(0,_styledComponents["default"])(_reactFontawesome.FontAwesomeIcon).withConfig({displayName:"ComponentCard__StyledFontAwesomeIcon",componentId:"fbfh8p-0"})(["width:"," !important;height:"," !important;padding:",";border-radius:",";background:",";path{fill:",";}"],(0,_helperPlugin.pxToRem)(32),(0,_helperPlugin.pxToRem)(32),(0,_helperPlugin.pxToRem)(9),(0,_helperPlugin.pxToRem)(64),function(_ref){var theme=_ref.theme;return theme.colors.neutral150;},function(_ref2){var theme=_ref2.theme;return theme.colors.neutral500;});var ComponentBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"ComponentCard__ComponentBox",componentId:"fbfh8p-1"})(["flex-shrink:0;height:",";border:1px solid ",";background:",";border-radius:",";display:flex;justify-content:center;align-items:center;&.active,&:hover{border:1px solid ",";background:",";","{background:",";path{fill:",";}}","{color:",";}}"],(0,_helperPlugin.pxToRem)(84),function(_ref3){var theme=_ref3.theme;return theme.colors.neutral200;},function(_ref4){var theme=_ref4.theme;return theme.colors.neutral100;},function(_ref5){var theme=_ref5.theme;return theme.borderRadius;},function(_ref6){var theme=_ref6.theme;return theme.colors.primary200;},function(_ref7){var theme=_ref7.theme;return theme.colors.primary100;},StyledFontAwesomeIcon,function(_ref8){var theme=_ref8.theme;return theme.colors.primary200;},function(_ref9){var theme=_ref9.theme;return theme.colors.primary600;},_Typography.Typography,function(_ref10){var theme=_ref10.theme;return theme.colors.primary600;});function ComponentCard(_ref11){var componentUid=_ref11.componentUid,intlLabel=_ref11.intlLabel,icon=_ref11.icon,onClick=_ref11.onClick;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var handleClick=function handleClick(){onClick(componentUid);};return/*#__PURE__*/_react["default"].createElement("button",{type:"button",onClick:handleClick},/*#__PURE__*/_react["default"].createElement(ComponentBox,{borderRadius:"borderRadius"},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:1,style:{justifyContent:'center',alignItems:'center'}},/*#__PURE__*/_react["default"].createElement(StyledFontAwesomeIcon,{icon:icon}),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral600"},formatMessage(intlLabel)))));}ComponentCard.defaultProps={icon:'smile',onClick:function onClick(){}};ComponentCard.propTypes={componentUid:_propTypes["default"].string.isRequired,intlLabel:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired}).isRequired,icon:_propTypes["default"].string,onClick:_propTypes["default"].func};var _default=ComponentCard;exports.default=_default;

/***/ }),

/***/ 49735:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Accordion=__webpack_require__(96654);var _Box=__webpack_require__(5493);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _ComponentCard=_interopRequireDefault(__webpack_require__(62761));var Grid=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"Category__Grid",componentId:"kn335s-0"})(["display:grid;grid-template-columns:repeat(auto-fit,","rem);grid-gap:",";"],140/16,function(_ref){var theme=_ref.theme;return theme.spaces[1];});var Category=function Category(_ref2){var category=_ref2.category,components=_ref2.components,isOdd=_ref2.isOdd,isOpen=_ref2.isOpen,onAddComponent=_ref2.onAddComponent,onToggle=_ref2.onToggle;var handleToggle=function handleToggle(){onToggle(category);};return/*#__PURE__*/_react["default"].createElement(_Accordion.Accordion,{expanded:isOpen,toggle:handleToggle,size:"S"},/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionToggle,{variant:isOdd?'primary':'secondary',title:category,togglePosition:"left"}),/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionContent,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:4,paddingBottom:4,paddingLeft:3,paddingRight:3},/*#__PURE__*/_react["default"].createElement(Grid,null,components.map(function(_ref3){var componentUid=_ref3.componentUid,_ref3$info=_ref3.info,displayName=_ref3$info.displayName,icon=_ref3$info.icon;return/*#__PURE__*/_react["default"].createElement(_ComponentCard["default"],{key:componentUid,componentUid:componentUid,intlLabel:{id:displayName,defaultMessage:displayName},icon:icon,onClick:onAddComponent});})))));};Category.propTypes={category:_propTypes["default"].string.isRequired,components:_propTypes["default"].array.isRequired,isOdd:_propTypes["default"].bool.isRequired,isOpen:_propTypes["default"].bool.isRequired,onAddComponent:_propTypes["default"].func.isRequired,onToggle:_propTypes["default"].func.isRequired};var _default=Category;exports.default=_default;

/***/ }),

/***/ 54611:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _groupBy=_interopRequireDefault(__webpack_require__(7739));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _KeyboardNavigable=__webpack_require__(65967);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _utils=__webpack_require__(28564);var _hooks=__webpack_require__(14772);var _Category=_interopRequireDefault(__webpack_require__(49735));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var ComponentPicker=function ComponentPicker(_ref){var components=_ref.components,isOpen=_ref.isOpen,onClickAddComponent=_ref.onClickAddComponent;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useContentTypeLayout=(0,_hooks.useContentTypeLayout)(),getComponentLayout=_useContentTypeLayout.getComponentLayout;var _useState=(0,_react.useState)(''),_useState2=(0,_slicedToArray2["default"])(_useState,2),categoryToOpen=_useState2[0],setCategoryToOpen=_useState2[1];var dynamicComponentCategories=(0,_react.useMemo)(function(){var componentsWithInfo=components.map(function(componentUid){var _getComponentLayout=getComponentLayout(componentUid),category=_getComponentLayout.category,info=_getComponentLayout.info;return{componentUid:componentUid,category:category,info:info};});var categories=(0,_groupBy["default"])(componentsWithInfo,'category');return Object.keys(categories).reduce(function(acc,current){acc.push({category:current,components:categories[current]});return acc;},[]);},[components,getComponentLayout]);(0,_react.useEffect)(function(){if(isOpen&&dynamicComponentCategories.length){setCategoryToOpen(dynamicComponentCategories[0].category);}},[isOpen,dynamicComponentCategories]);var handleAddComponentToDz=(0,_react.useCallback)(function(componentUid){onClickAddComponent(componentUid);setCategoryToOpen('');},[onClickAddComponent]);var handleClickToggle=(0,_react.useCallback)(function(categoryName){var nextCategoryToOpen=categoryToOpen===categoryName?'':categoryName;setCategoryToOpen(nextCategoryToOpen);},[categoryToOpen]);if(!isOpen){return null;}return/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingBottom:6},/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:6,paddingBottom:6,paddingLeft:5,paddingRight:5,background:"neutral0",shadow:"tableShadow",borderColor:"neutral150",hasRadius:true},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold",textColor:"neutral600"},formatMessage({id:(0,_utils.getTrad)('components.DynamicZone.ComponentPicker-label'),defaultMessage:'Pick one component'}))),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:2},/*#__PURE__*/_react["default"].createElement(_KeyboardNavigable.KeyboardNavigable,{attributeName:"data-strapi-accordion-toggle"},dynamicComponentCategories.map(function(_ref2,index){var category=_ref2.category,components=_ref2.components;return/*#__PURE__*/_react["default"].createElement(_Category["default"],{key:category,category:category,components:components,isOdd:index%2===1,isOpen:category===categoryToOpen// TODO?
// isFirst={index === 0}
,onAddComponent:handleAddComponentToDz,onToggle:handleClickToggle});})))));};ComponentPicker.propTypes={components:_propTypes["default"].array.isRequired,isOpen:_propTypes["default"].bool.isRequired,onClickAddComponent:_propTypes["default"].func.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(ComponentPicker);exports.default=_default;

/***/ }),

/***/ 82471:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _reactIntl=__webpack_require__(97132);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _helperPlugin=__webpack_require__(68547);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);/**
 *
 * DzLabel
 *
 */var StyledBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"DzLabel__StyledBox",componentId:"sc-7qr6r0-0"})(["border-radius:",";"],(0,_helperPlugin.pxToRem)(26));var DzLabel=function DzLabel(_ref){var label=_ref.label,labelAction=_ref.labelAction,name=_ref.name,numberOfComponents=_ref.numberOfComponents,required=_ref.required;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var intlLabel=formatMessage({id:label||name,defaultMessage:label||name});return/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center"},/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(StyledBox,{paddingTop:3,paddingBottom:3,paddingRight:4,paddingLeft:4,background:"neutral0",shadow:"filterShadow",color:"neutral500"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontSize:0,lineHeight:0,textColor:"neutral600",fontWeight:"bold"},intlLabel,"\xA0(",numberOfComponents,")"),required&&/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"danger600"},"*"),labelAction&&/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:1},labelAction)))));};DzLabel.defaultProps={label:'',labelAction:undefined,required:false};DzLabel.propTypes={label:_propTypes["default"].string,labelAction:_propTypes["default"].element,name:_propTypes["default"].string.isRequired,numberOfComponents:_propTypes["default"].number.isRequired,required:_propTypes["default"].bool};var _default=DzLabel;exports.default=_default;

/***/ }),

/***/ 58827:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.DynamicZone=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _get=_interopRequireDefault(__webpack_require__(27361));var _reactFastCompare=_interopRequireDefault(__webpack_require__(39918));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Stack=__webpack_require__(9008);var _Box=__webpack_require__(5493);var _helperPlugin=__webpack_require__(68547);var _utils=__webpack_require__(28564);var _connect=_interopRequireDefault(__webpack_require__(28027));var _select=_interopRequireDefault(__webpack_require__(24366));var _AddComponentButton=_interopRequireDefault(__webpack_require__(33755));var _DzLabel=_interopRequireDefault(__webpack_require__(82471));var _Component=_interopRequireDefault(__webpack_require__(47330));var _ComponentPicker=_interopRequireDefault(__webpack_require__(54611));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}/* eslint-disable react/no-array-index-key */var createCollapses=function createCollapses(arrayLength){return Array.from({length:arrayLength}).map(function(){return{isOpen:false};});};var DynamicZone=function DynamicZone(_ref){var name=_ref.name,addComponentToDynamicZone=_ref.addComponentToDynamicZone,formErrors=_ref.formErrors,isCreatingEntry=_ref.isCreatingEntry,isFieldAllowed=_ref.isFieldAllowed,isFieldReadable=_ref.isFieldReadable,labelAction=_ref.labelAction,moveComponentUp=_ref.moveComponentUp,moveComponentDown=_ref.moveComponentDown,removeComponentFromDynamicZone=_ref.removeComponentFromDynamicZone,dynamicDisplayedComponents=_ref.dynamicDisplayedComponents,fieldSchema=_ref.fieldSchema,metadatas=_ref.metadatas;var toggleNotification=(0,_helperPlugin.useNotification)();var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var dynamicDisplayedComponentsLength=dynamicDisplayedComponents.length;var _useState3=(0,_react.useState)(createCollapses(dynamicDisplayedComponentsLength)),_useState4=(0,_slicedToArray2["default"])(_useState3,2),componentCollapses=_useState4[0],setComponentsCollapses=_useState4[1];// We cannot use the default props here
var _fieldSchema$max=fieldSchema.max,max=_fieldSchema$max===void 0?Infinity:_fieldSchema$max,_fieldSchema$min=fieldSchema.min,min=_fieldSchema$min===void 0?-Infinity:_fieldSchema$min;var dynamicZoneErrors=(0,_react.useMemo)(function(){return Object.keys(formErrors).filter(function(key){return key===name;}).map(function(key){return formErrors[key];});},[formErrors,name]);var dynamicZoneAvailableComponents=(0,_react.useMemo)(function(){return fieldSchema.components||[];},[fieldSchema]);var missingComponentNumber=min-dynamicDisplayedComponentsLength;var hasError=dynamicZoneErrors.length>0;var hasMinError=dynamicZoneErrors.length>0&&(0,_get["default"])(dynamicZoneErrors,[0,'id'],'').includes('min');var hasMaxError=hasError&&(0,_get["default"])(dynamicZoneErrors,[0,'id'],'')==='components.Input.error.validation.max';var handleAddComponent=(0,_react.useCallback)(function(componentUid){setIsOpen(false);addComponentToDynamicZone(name,componentUid,hasError);setComponentsCollapses(function(prev){return[].concat((0,_toConsumableArray2["default"])(prev),[{isOpen:true}]);});},[addComponentToDynamicZone,hasError,name]);var handleClickOpenPicker=function handleClickOpenPicker(){if(dynamicDisplayedComponentsLength<max){setIsOpen(function(prev){return!prev;});}else{toggleNotification({type:'info',message:{id:(0,_utils.getTrad)('components.notification.info.maximum-requirement')}});}};var handleToggleComponent=function handleToggleComponent(indexToToggle){setComponentsCollapses(function(prev){return prev.map(function(_ref2,index){var isOpen=_ref2.isOpen;if(index===indexToToggle){return{isOpen:!isOpen};}return{isOpen:isOpen};});});};var handleMoveComponentDown=function handleMoveComponentDown(name,currentIndex){moveComponentDown(name,currentIndex);setComponentsCollapses(function(prev){return prev.map(function(_ref3,index,refArray){var isOpen=_ref3.isOpen;if(index===currentIndex+1){return{isOpen:refArray[currentIndex].isOpen};}if(index===currentIndex){return{isOpen:refArray[index+1].isOpen};}return{isOpen:isOpen};});});};var handleMoveComponentUp=function handleMoveComponentUp(name,currentIndex){moveComponentUp(name,currentIndex);setComponentsCollapses(function(prev){return prev.map(function(_ref4,index,refArray){var isOpen=_ref4.isOpen;if(index===currentIndex-1){return{isOpen:refArray[currentIndex].isOpen};}if(index===currentIndex){return{isOpen:refArray[index-1].isOpen};}return{isOpen:isOpen};});});};var handleRemoveComponent=function handleRemoveComponent(name,currentIndex){removeComponentFromDynamicZone(name,currentIndex);setComponentsCollapses(function(prev){return prev.filter(function(_,index){return index!==currentIndex;});});};if(!isFieldAllowed&&isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.NotAllowedInput,{description:metadatas.description?{id:metadatas.description,defaultMessage:metadatas.description}:null,intlLabel:{id:metadatas.label,defaultMessage:metadatas.label},labelAction:labelAction,name:name});}if(!isFieldAllowed&&!isFieldReadable&&!isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.NotAllowedInput,{description:metadatas.description?{id:metadatas.description,defaultMessage:metadatas.description}:null,intlLabel:{id:metadatas.label,defaultMessage:metadatas.label},labelAction:labelAction,name:name});}return/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:6},dynamicDisplayedComponentsLength>0&&/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_DzLabel["default"],{label:metadatas.label,labelAction:labelAction,name:name,numberOfComponents:dynamicDisplayedComponentsLength,required:fieldSchema.required||false}),dynamicDisplayedComponents.map(function(componentUid,index){var showDownIcon=isFieldAllowed&&dynamicDisplayedComponentsLength>0&&index<dynamicDisplayedComponentsLength-1;var showUpIcon=isFieldAllowed&&dynamicDisplayedComponentsLength>0&&index>0;var isOpen=componentCollapses[index].isOpen;return/*#__PURE__*/_react["default"].createElement(_Component["default"],{componentUid:componentUid,formErrors:formErrors,key:index,index:index,isOpen:isOpen,isFieldAllowed:isFieldAllowed,moveComponentDown:handleMoveComponentDown,moveComponentUp:handleMoveComponentUp,onToggle:handleToggleComponent,name:name,removeComponentFromDynamicZone:handleRemoveComponent,showDownIcon:showDownIcon,showUpIcon:showUpIcon});})),/*#__PURE__*/_react["default"].createElement(_AddComponentButton["default"],{hasError:hasError,hasMaxError:hasMaxError,hasMinError:hasMinError,isDisabled:!isFieldAllowed,label:metadatas.label,missingComponentNumber:missingComponentNumber,isOpen:isOpen,name:name,onClick:handleClickOpenPicker}),/*#__PURE__*/_react["default"].createElement(_ComponentPicker["default"],{isOpen:isOpen,components:dynamicZoneAvailableComponents,onClickAddComponent:handleAddComponent}));};exports.DynamicZone=DynamicZone;DynamicZone.defaultProps={dynamicDisplayedComponents:[],fieldSchema:{max:Infinity,min:-Infinity},labelAction:null};DynamicZone.propTypes={addComponentToDynamicZone:_propTypes["default"].func.isRequired,dynamicDisplayedComponents:_propTypes["default"].array,fieldSchema:_propTypes["default"].shape({components:_propTypes["default"].array.isRequired,max:_propTypes["default"].number,min:_propTypes["default"].number,required:_propTypes["default"].bool}),formErrors:_propTypes["default"].object.isRequired,isCreatingEntry:_propTypes["default"].bool.isRequired,isFieldAllowed:_propTypes["default"].bool.isRequired,isFieldReadable:_propTypes["default"].bool.isRequired,labelAction:_propTypes["default"].element,metadatas:_propTypes["default"].shape({description:_propTypes["default"].string,label:_propTypes["default"].string}).isRequired,moveComponentUp:_propTypes["default"].func.isRequired,moveComponentDown:_propTypes["default"].func.isRequired,name:_propTypes["default"].string.isRequired,removeComponentFromDynamicZone:_propTypes["default"].func.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(DynamicZone,_reactFastCompare["default"]);var _default=(0,_connect["default"])(Memoized,_select["default"]);exports.default=_default;

/***/ }),

/***/ 28027:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props.name);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports.default=_default;

/***/ }),

/***/ 24366:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var _lodash=__webpack_require__(96486);var _helperPlugin=__webpack_require__(68547);function useSelect(name){var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),addComponentToDynamicZone=_useCMEditViewDataMan.addComponentToDynamicZone,createActionAllowedFields=_useCMEditViewDataMan.createActionAllowedFields,isCreatingEntry=_useCMEditViewDataMan.isCreatingEntry,formErrors=_useCMEditViewDataMan.formErrors,modifiedData=_useCMEditViewDataMan.modifiedData,moveComponentUp=_useCMEditViewDataMan.moveComponentUp,moveComponentDown=_useCMEditViewDataMan.moveComponentDown,removeComponentFromDynamicZone=_useCMEditViewDataMan.removeComponentFromDynamicZone,readActionAllowedFields=_useCMEditViewDataMan.readActionAllowedFields,updateActionAllowedFields=_useCMEditViewDataMan.updateActionAllowedFields;var dynamicDisplayedComponents=(0,_react.useMemo)(function(){return(0,_lodash.get)(modifiedData,[name],[]).map(function(data){return data.__component;});},[modifiedData,name]);var isFieldAllowed=(0,_react.useMemo)(function(){var allowedFields=isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;return allowedFields.includes(name);},[name,isCreatingEntry,createActionAllowedFields,updateActionAllowedFields]);var isFieldReadable=(0,_react.useMemo)(function(){var allowedFields=isCreatingEntry?[]:readActionAllowedFields;return allowedFields.includes(name);},[name,isCreatingEntry,readActionAllowedFields]);return{addComponentToDynamicZone:addComponentToDynamicZone,formErrors:formErrors,isCreatingEntry:isCreatingEntry,isFieldAllowed:isFieldAllowed,isFieldReadable:isFieldReadable,moveComponentUp:moveComponentUp,moveComponentDown:moveComponentDown,removeComponentFromDynamicZone:removeComponentFromDynamicZone,dynamicDisplayedComponents:dynamicDisplayedComponents};}var _default=useSelect;exports.default=_default;

/***/ }),

/***/ 80249:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _lodash=__webpack_require__(96486);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _reactRouterDom=__webpack_require__(39711);var _Main=__webpack_require__(62031);var _helperPlugin=__webpack_require__(68547);var _utils=__webpack_require__(28564);var _reducer=_interopRequireWildcard(__webpack_require__(47360));var _utils2=__webpack_require__(80300);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var EditViewDataManagerProvider=function EditViewDataManagerProvider(_ref){var allLayoutData=_ref.allLayoutData,_ref$allowedActions=_ref.allowedActions,canRead=_ref$allowedActions.canRead,canUpdate=_ref$allowedActions.canUpdate,children=_ref.children,componentsDataStructure=_ref.componentsDataStructure,contentTypeDataStructure=_ref.contentTypeDataStructure,createActionAllowedFields=_ref.createActionAllowedFields,from=_ref.from,initialValues=_ref.initialValues,isCreatingEntry=_ref.isCreatingEntry,isLoadingForData=_ref.isLoadingForData,isSingleType=_ref.isSingleType,onPost=_ref.onPost,onPublish=_ref.onPublish,onPut=_ref.onPut,onUnpublish=_ref.onUnpublish,readActionAllowedFields=_ref.readActionAllowedFields,redirectToPreviousPage=_ref.redirectToPreviousPage,slug=_ref.slug,status=_ref.status,updateActionAllowedFields=_ref.updateActionAllowedFields;var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),reducerState=_useReducer2[0],dispatch=_useReducer2[1];var formErrors=reducerState.formErrors,initialData=reducerState.initialData,modifiedData=reducerState.modifiedData,modifiedDZName=reducerState.modifiedDZName,shouldCheckErrors=reducerState.shouldCheckErrors;var toggleNotification=(0,_helperPlugin.useNotification)();var _useOverlayBlocker=(0,_helperPlugin.useOverlayBlocker)(),lockApp=_useOverlayBlocker.lockApp,unlockApp=_useOverlayBlocker.unlockApp;var currentContentTypeLayout=(0,_lodash.get)(allLayoutData,['contentType'],{});var hasDraftAndPublish=(0,_react.useMemo)(function(){return(0,_lodash.get)(currentContentTypeLayout,['options','draftAndPublish'],false);},[currentContentTypeLayout]);var shouldNotRunValidations=(0,_react.useMemo)(function(){return hasDraftAndPublish&&!initialData.publishedAt;},[hasDraftAndPublish,initialData.publishedAt]);var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var trackUsageRef=(0,_react.useRef)(trackUsage);var shouldRedirectToHomepageWhenEditingEntry=(0,_react.useMemo)(function(){if(isLoadingForData){return false;}if(isCreatingEntry){return false;}if(canRead===false&&canUpdate===false){return true;}return false;},[isLoadingForData,isCreatingEntry,canRead,canUpdate]);(0,_react.useEffect)(function(){if(status==='resolved'){unlockApp();}else{lockApp();}},[lockApp,unlockApp,status]);// TODO check this effect if it is really needed (not prio)
(0,_react.useEffect)(function(){if(!isLoadingForData){checkFormErrors();}// eslint-disable-next-line react-hooks/exhaustive-deps
},[shouldCheckErrors]);(0,_react.useEffect)(function(){var errorsInForm=Object.keys(formErrors);// TODO check if working with DZ, components...
// TODO use querySelector querySelectorAll('[data-strapi-field-error]')
if(errorsInForm.length>0){var firstError=errorsInForm[0];var el=document.getElementById(firstError);if(el){el.focus();}}},[formErrors]);(0,_react.useEffect)(function(){if(shouldRedirectToHomepageWhenEditingEntry){toggleNotification({type:'info',message:{id:(0,_utils.getTrad)('permissions.not-allowed.update')}});}},[shouldRedirectToHomepageWhenEditingEntry,toggleNotification]);(0,_react.useEffect)(function(){dispatch({type:'SET_DEFAULT_DATA_STRUCTURES',componentsDataStructure:componentsDataStructure,contentTypeDataStructure:contentTypeDataStructure});},[componentsDataStructure,contentTypeDataStructure]);(0,_react.useEffect)(function(){if(initialValues){dispatch({type:'INIT_FORM',initialValues:initialValues});}},[initialValues]);var addComponentToDynamicZone=(0,_react.useCallback)(function(keys,componentUid){var shouldCheckErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;trackUsageRef.current('didAddComponentToDynamicZone');dispatch({type:'ADD_COMPONENT_TO_DYNAMIC_ZONE',keys:keys.split('.'),componentUid:componentUid,shouldCheckErrors:shouldCheckErrors});},[]);var addNonRepeatableComponentToField=(0,_react.useCallback)(function(keys,componentUid){dispatch({type:'ADD_NON_REPEATABLE_COMPONENT_TO_FIELD',keys:keys.split('.'),componentUid:componentUid});},[]);var addRelation=(0,_react.useCallback)(function(_ref2){var _ref2$target=_ref2.target,name=_ref2$target.name,value=_ref2$target.value;dispatch({type:'ADD_RELATION',keys:name.split('.'),value:value});},[]);var addRepeatableComponentToField=(0,_react.useCallback)(function(keys,componentUid){var shouldCheckErrors=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;dispatch({type:'ADD_REPEATABLE_COMPONENT_TO_FIELD',keys:keys.split('.'),componentUid:componentUid,shouldCheckErrors:shouldCheckErrors});},[]);var yupSchema=(0,_react.useMemo)(function(){var options={isCreatingEntry:isCreatingEntry,isDraft:shouldNotRunValidations,isFromComponent:false};return(0,_utils2.createYupSchema)(currentContentTypeLayout,{components:allLayoutData.components||{}},options);},[allLayoutData.components,currentContentTypeLayout,isCreatingEntry,shouldNotRunValidations]);var checkFormErrors=(0,_react.useCallback)(/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var dataToSet,errors,updatedData,_args=arguments;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dataToSet=_args.length>0&&_args[0]!==undefined?_args[0]:{};errors={};updatedData=(0,_lodash.cloneDeep)(modifiedData);if(!(0,_lodash.isEmpty)(updatedData)){(0,_lodash.set)(updatedData,dataToSet.path,dataToSet.value);}_context.prev=4;_context.next=7;return yupSchema.validate(updatedData,{abortEarly:false});case 7:_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](4);errors=(0,_utils2.getYupInnerErrors)(_context.t0);if(modifiedDZName){errors=Object.keys(errors).reduce(function(acc,current){var dzName=current.split('.')[0];if(dzName!==modifiedDZName){acc[current]=errors[current];}return acc;},{});}case 13:dispatch({type:'SET_FORM_ERRORS',errors:errors});case 14:case"end":return _context.stop();}}},_callee,null,[[4,9]]);})),[modifiedDZName,modifiedData,yupSchema]);var handleChange=(0,_react.useCallback)(function(_ref4){var _ref4$target=_ref4.target,name=_ref4$target.name,value=_ref4$target.value,type=_ref4$target.type;var shouldSetInitialValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var inputValue=value;// Empty string is not a valid date,
// Set the date to null when it's empty
if(type==='date'&&value===''){inputValue=null;}if(type==='password'&&!value){dispatch({type:'REMOVE_PASSWORD_FIELD',keys:name.split('.')});return;}// Allow to reset enum
if(type==='select-one'&&value===''){inputValue=null;}// Allow to reset number input
if(type==='number'&&value===''){inputValue=null;}dispatch({type:'ON_CHANGE',keys:name.split('.'),value:inputValue,shouldSetInitialValue:shouldSetInitialValue});},[]);var createFormData=(0,_react.useCallback)(function(data){// First we need to remove the added keys needed for the dnd
var preparedData=(0,_utils.removeKeyInObject)((0,_lodash.cloneDeep)(data),'__temp_key__');// Then we need to apply our helper
var cleanedData=(0,_utils2.cleanData)(preparedData,currentContentTypeLayout,allLayoutData.components);return cleanedData;},[allLayoutData.components,currentContentTypeLayout]);var trackerProperty=(0,_react.useMemo)(function(){if(!hasDraftAndPublish){return{};}return shouldNotRunValidations?{status:'draft'}:{};},[hasDraftAndPublish,shouldNotRunValidations]);var handleSubmit=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref5=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(e){var errors,formData;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();errors={};// First validate the form
_context2.prev=2;_context2.next=5;return yupSchema.validate(modifiedData,{abortEarly:false});case 5:formData=createFormData(modifiedData);if(isCreatingEntry){onPost(formData,trackerProperty);}else{onPut(formData,trackerProperty);}_context2.next=15;break;case 9:_context2.prev=9;_context2.t0=_context2["catch"](2);console.log('ValidationError');console.log(_context2.t0);errors=(0,_utils2.getYupInnerErrors)(_context2.t0);toggleNotification({type:'warning',message:{id:(0,_utils.getTrad)('containers.EditView.notification.errors'),defaultMessage:'The form contains some errors'}});case 15:dispatch({type:'SET_FORM_ERRORS',errors:errors});case 16:case"end":return _context2.stop();}}},_callee2,null,[[2,9]]);}));return function(_x){return _ref5.apply(this,arguments);};}(),[createFormData,isCreatingEntry,modifiedData,onPost,onPut,toggleNotification,trackerProperty,yupSchema]);var handlePublish=(0,_react.useCallback)(/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(){var schema,errors;return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// Create yup schema here's we need to apply all the validations
schema=(0,_utils2.createYupSchema)(currentContentTypeLayout,{components:(0,_lodash.get)(allLayoutData,'components',{})},{isCreatingEntry:isCreatingEntry,isDraft:false,isFromComponent:false});errors={};_context3.prev=2;_context3.next=5;return schema.validate(modifiedData,{abortEarly:false});case 5:onPublish();_context3.next=13;break;case 8:_context3.prev=8;_context3.t0=_context3["catch"](2);console.error('ValidationError');console.error(_context3.t0);errors=(0,_utils2.getYupInnerErrors)(_context3.t0);case 13:dispatch({type:'SET_FORM_ERRORS',errors:errors});case 14:case"end":return _context3.stop();}}},_callee3,null,[[2,8]]);})),[allLayoutData,currentContentTypeLayout,isCreatingEntry,modifiedData,onPublish]);var shouldCheckDZErrors=(0,_react.useCallback)(function(dzName){var doesDZHaveError=Object.keys(formErrors).some(function(key){return key.split('.')[0]===dzName;});var shouldCheckErrors=!(0,_lodash.isEmpty)(formErrors)&&doesDZHaveError;return shouldCheckErrors;},[formErrors]);var moveComponentDown=(0,_react.useCallback)(function(dynamicZoneName,currentIndex){trackUsageRef.current('changeComponentsOrder');dispatch({type:'MOVE_COMPONENT_DOWN',dynamicZoneName:dynamicZoneName,currentIndex:currentIndex,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});},[shouldCheckDZErrors]);var moveComponentUp=(0,_react.useCallback)(function(dynamicZoneName,currentIndex){trackUsageRef.current('changeComponentsOrder');dispatch({type:'MOVE_COMPONENT_UP',dynamicZoneName:dynamicZoneName,currentIndex:currentIndex,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});},[shouldCheckDZErrors]);var moveComponentField=(0,_react.useCallback)(function(pathToComponent,dragIndex,hoverIndex){dispatch({type:'MOVE_COMPONENT_FIELD',pathToComponent:pathToComponent,dragIndex:dragIndex,hoverIndex:hoverIndex});},[]);var moveRelation=(0,_react.useCallback)(function(dragIndex,overIndex,name){dispatch({type:'MOVE_FIELD',dragIndex:dragIndex,overIndex:overIndex,keys:name.split('.')});},[]);var onRemoveRelation=(0,_react.useCallback)(function(keys){dispatch({type:'REMOVE_RELATION',keys:keys});},[]);var removeComponentFromDynamicZone=(0,_react.useCallback)(function(dynamicZoneName,index){trackUsageRef.current('removeComponentFromDynamicZone');dispatch({type:'REMOVE_COMPONENT_FROM_DYNAMIC_ZONE',dynamicZoneName:dynamicZoneName,index:index,shouldCheckErrors:shouldCheckDZErrors(dynamicZoneName)});},[shouldCheckDZErrors]);var removeComponentFromField=(0,_react.useCallback)(function(keys,componentUid){dispatch({type:'REMOVE_COMPONENT_FROM_FIELD',keys:keys.split('.'),componentUid:componentUid});},[]);var removeRepeatableField=(0,_react.useCallback)(function(keys,componentUid){dispatch({type:'REMOVE_REPEATABLE_FIELD',keys:keys.split('.'),componentUid:componentUid});},[]);var triggerFormValidation=(0,_react.useCallback)(function(){dispatch({type:'TRIGGER_FORM_VALIDATION'});},[]);// Redirect the user to the previous page if he is not allowed to read/update a document
if(shouldRedirectToHomepageWhenEditingEntry){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:from});}if(!modifiedData){return null;}return/*#__PURE__*/_react["default"].createElement(_helperPlugin.ContentManagerEditViewDataManagerContext.Provider,{value:{addComponentToDynamicZone:addComponentToDynamicZone,addNonRepeatableComponentToField:addNonRepeatableComponentToField,addRelation:addRelation,addRepeatableComponentToField:addRepeatableComponentToField,allLayoutData:allLayoutData,checkFormErrors:checkFormErrors,createActionAllowedFields:createActionAllowedFields,formErrors:formErrors,hasDraftAndPublish:hasDraftAndPublish,initialData:initialData,isCreatingEntry:isCreatingEntry,isSingleType:isSingleType,shouldNotRunValidations:shouldNotRunValidations,status:status,layout:currentContentTypeLayout,modifiedData:modifiedData,moveComponentDown:moveComponentDown,moveComponentField:moveComponentField,moveComponentUp:moveComponentUp,moveRelation:moveRelation,onChange:handleChange,onPublish:handlePublish,onUnpublish:onUnpublish,onRemoveRelation:onRemoveRelation,readActionAllowedFields:readActionAllowedFields,redirectToPreviousPage:redirectToPreviousPage,removeComponentFromDynamicZone:removeComponentFromDynamicZone,removeComponentFromField:removeComponentFromField,removeRepeatableField:removeRepeatableField,slug:slug,triggerFormValidation:triggerFormValidation,updateActionAllowedFields:updateActionAllowedFields}},/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,isLoadingForData||!isCreatingEntry&&!initialData.id?/*#__PURE__*/_react["default"].createElement(_Main.Main,{"aria-busy":"true"},/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null)):/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Prompt,{when:!(0,_lodash.isEqual)(modifiedData,initialData),message:formatMessage({id:'global.prompt.unsaved'})}),/*#__PURE__*/_react["default"].createElement("form",{noValidate:true,onSubmit:handleSubmit},children))));};EditViewDataManagerProvider.defaultProps={from:'/',initialValues:null,redirectToPreviousPage:function redirectToPreviousPage(){}};EditViewDataManagerProvider.propTypes={allLayoutData:_propTypes["default"].object.isRequired,allowedActions:_propTypes["default"].object.isRequired,children:_propTypes["default"].node.isRequired,componentsDataStructure:_propTypes["default"].object.isRequired,contentTypeDataStructure:_propTypes["default"].object.isRequired,createActionAllowedFields:_propTypes["default"].array.isRequired,from:_propTypes["default"].string,initialValues:_propTypes["default"].object,isCreatingEntry:_propTypes["default"].bool.isRequired,isLoadingForData:_propTypes["default"].bool.isRequired,isSingleType:_propTypes["default"].bool.isRequired,onPost:_propTypes["default"].func.isRequired,onPublish:_propTypes["default"].func.isRequired,onPut:_propTypes["default"].func.isRequired,onUnpublish:_propTypes["default"].func.isRequired,readActionAllowedFields:_propTypes["default"].array.isRequired,redirectToPreviousPage:_propTypes["default"].func,slug:_propTypes["default"].string.isRequired,status:_propTypes["default"].string.isRequired,updateActionAllowedFields:_propTypes["default"].array.isRequired};var _default=EditViewDataManagerProvider;exports.default=_default;

/***/ }),

/***/ 47360:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.initialState=exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _immer=_interopRequireDefault(__webpack_require__(66312));var _unset=_interopRequireDefault(__webpack_require__(98601));var _get=_interopRequireDefault(__webpack_require__(27361));var _set2=_interopRequireDefault(__webpack_require__(36968));var _take=_interopRequireDefault(__webpack_require__(69572));var _utils=__webpack_require__(80300);var _utils2=__webpack_require__(28564);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var initialState={componentsDataStructure:{},contentTypeDataStructure:{},formErrors:{},initialData:{},modifiedData:null,shouldCheckErrors:false,modifiedDZName:null};exports.initialState=initialState;var reducer=function reducer(state,action){return(// eslint-disable-next-line consistent-return
(0,_immer["default"])(state,function(draftState){switch(action.type){case'ADD_NON_REPEATABLE_COMPONENT_TO_FIELD':{(0,_set2["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),state.componentsDataStructure[action.componentUid]);break;}case'ADD_REPEATABLE_COMPONENT_TO_FIELD':{var currentValue=(0,_get["default"])(state,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),[]).slice();var defaultDataStructure=_objectSpread(_objectSpread({},state.componentsDataStructure[action.componentUid]),{},{__temp_key__:(0,_utils2.getMaxTempKey)(currentValue)+1});if(Array.isArray(currentValue)){currentValue.push(defaultDataStructure);}else{currentValue=[defaultDataStructure];}(0,_set2["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),currentValue);if(action.shouldCheckErrors){draftState.shouldCheckErrors=!state.shouldCheckErrors;}break;}case'ADD_COMPONENT_TO_DYNAMIC_ZONE':{draftState.modifiedDZName=action.keys[0];if(action.shouldCheckErrors){draftState.shouldCheckErrors=!state.shouldCheckErrors;}var _defaultDataStructure=_objectSpread(_objectSpread({},state.componentsDataStructure[action.componentUid]),{},{__component:action.componentUid});var _currentValue=(0,_get["default"])(state,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),null);var updatedValue=_currentValue?[].concat((0,_toConsumableArray2["default"])(_currentValue),[_defaultDataStructure]):[_defaultDataStructure];(0,_set2["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),updatedValue);break;}case'ADD_RELATION':{if(!Array.isArray(action.value)||!action.value.length){break;}var el=action.value[0].value;var _currentValue2=(0,_get["default"])(state,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),null);if(!_currentValue2){(0,_set2["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),[el]);break;}(0,_set2["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),[].concat((0,_toConsumableArray2["default"])(_currentValue2),[el]));break;}case'INIT_FORM':{draftState.formErrors={};draftState.initialData=action.initialValues;draftState.modifiedData=action.initialValues;draftState.modifiedDZName=null;draftState.shouldCheckErrors=false;break;}case'MOVE_COMPONENT_FIELD':{var _currentValue3=(0,_get["default"])(state,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.pathToComponent)));var valueToInsert=(0,_get["default"])(state,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.pathToComponent),[action.dragIndex]));var _updatedValue=(0,_utils.moveFields)(_currentValue3,action.dragIndex,action.hoverIndex,valueToInsert);(0,_set2["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.pathToComponent)),_updatedValue);break;}case'MOVE_COMPONENT_UP':case'MOVE_COMPONENT_DOWN':{var currentIndex=action.currentIndex,dynamicZoneName=action.dynamicZoneName,shouldCheckErrors=action.shouldCheckErrors;if(shouldCheckErrors){draftState.shouldCheckErrors=!state.shouldCheckErrors;}var _currentValue4=state.modifiedData[dynamicZoneName];var nextIndex=action.type==='MOVE_COMPONENT_UP'?currentIndex-1:currentIndex+1;var _valueToInsert=state.modifiedData[dynamicZoneName][currentIndex];var _updatedValue2=(0,_utils.moveFields)(_currentValue4,currentIndex,nextIndex,_valueToInsert);(0,_set2["default"])(draftState,['modifiedData',action.dynamicZoneName],_updatedValue2);break;}case'MOVE_FIELD':{var _currentValue5=(0,_get["default"])(state,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),[]).slice();var _valueToInsert2=(0,_get["default"])(state,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys),[action.dragIndex]));var _updatedValue3=(0,_utils.moveFields)(_currentValue5,action.dragIndex,action.overIndex,_valueToInsert2);(0,_set2["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),_updatedValue3);break;}case'ON_CHANGE':{var _action$keys=(0,_slicedToArray2["default"])(action.keys,1),nonRepeatableComponentKey=_action$keys[0];// This is used to set the initialData for inputs
// that needs an asynchronous initial value like the UID field
// This is just a temporary patch.
// TODO : Refactor the default form creation (workflow) to accept async default values.
if(action.shouldSetInitialValue){(0,_set2["default"])(draftState,['initialData'].concat((0,_toConsumableArray2["default"])(action.keys)),action.value);}// FIXME: not sure this is needed...
if(action.keys.length===2&&(0,_get["default"])(state,['modifiedData',nonRepeatableComponentKey])===null){(0,_set2["default"])(draftState,['modifiedData',nonRepeatableComponentKey],(0,_defineProperty2["default"])({},action.keys[1],action.value));break;}(0,_set2["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),action.value);break;}case'REMOVE_COMPONENT_FROM_DYNAMIC_ZONE':{if(action.shouldCheckErrors){draftState.shouldCheckErrors=!state.shouldCheckErrors;}draftState.modifiedData[action.dynamicZoneName].splice(action.index,1);break;}case'REMOVE_COMPONENT_FROM_FIELD':{var componentPathToRemove=['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys));(0,_set2["default"])(draftState,componentPathToRemove,null);break;}case'REMOVE_PASSWORD_FIELD':{(0,_unset["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)));break;}case'REMOVE_REPEATABLE_FIELD':{var keysLength=action.keys.length-1;var pathToComponentData=['modifiedData'].concat((0,_toConsumableArray2["default"])((0,_take["default"])(action.keys,keysLength)));var hasErrors=Object.keys(state.formErrors).length>0;if(hasErrors){draftState.shouldCheckErrors=!state.shouldCheckErrors;}var _currentValue6=(0,_get["default"])(state,pathToComponentData).slice();_currentValue6.splice(parseInt(action.keys[keysLength],10),1);(0,_set2["default"])(draftState,pathToComponentData,_currentValue6);break;}case'REMOVE_RELATION':{var pathArray=action.keys.split('.');var pathArrayLength=pathArray.length-1;var pathToData=['modifiedData'].concat((0,_toConsumableArray2["default"])((0,_take["default"])(pathArray,pathArrayLength)));var _currentValue7=(0,_get["default"])(state,pathToData).slice();var indexToRemove=parseInt(pathArray[pathArrayLength],10);_currentValue7.splice(indexToRemove,1);(0,_set2["default"])(draftState,pathToData,_currentValue7);break;}case'SET_DEFAULT_DATA_STRUCTURES':{draftState.componentsDataStructure=action.componentsDataStructure;draftState.contentTypeDataStructure=action.contentTypeDataStructure;break;}case'SET_FORM_ERRORS':{draftState.modifiedDZName=null;draftState.formErrors=action.errors;break;}case'TRIGGER_FORM_VALIDATION':{var _hasErrors=Object.keys(state.formErrors).length>0;if(_hasErrors){draftState.shouldCheckErrors=!state.shouldCheckErrors;}break;}default:return draftState;}}));};var _default=reducer;exports.default=_default;

/***/ }),

/***/ 62170:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.helperCleanData=exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _get=_interopRequireDefault(__webpack_require__(27361));var _isArray=_interopRequireDefault(__webpack_require__(1469));var _isObject=_interopRequireDefault(__webpack_require__(13218));/* eslint-disable indent */var cleanData=function cleanData(retrievedData,currentSchema,componentsSchema){var getType=function getType(schema,attrName){return(0,_get["default"])(schema,['attributes',attrName,'type'],'');};var getOtherInfos=function getOtherInfos(schema,arr){return(0,_get["default"])(schema,['attributes'].concat((0,_toConsumableArray2["default"])(arr)),'');};var recursiveCleanData=function recursiveCleanData(data,schema){return Object.keys(data).reduce(function(acc,current){var attrType=getType(schema,current);var value=(0,_get["default"])(data,current);var component=getOtherInfos(schema,[current,'component']);var isRepeatable=getOtherInfos(schema,[current,'repeatable']);var cleanedData;switch(attrType){case'json':try{cleanedData=JSON.parse(value);}catch(err){cleanedData=value;}break;// TODO
// case 'date':
//   cleanedData =
//     value && value._isAMomentObject === true ? value.format('YYYY-MM-DD') : value;
//   break;
// case 'datetime':
//   cleanedData = value && value._isAMomentObject === true ? value.toISOString() : value;
//   break;
case'time':{cleanedData=value;// FIXME
if(value&&value.split(':').length<3){cleanedData="".concat(value,":00");}break;}case'media':if(getOtherInfos(schema,[current,'multiple'])===true){cleanedData=value?value.filter(function(file){return!(file instanceof File);}):null;}else{cleanedData=(0,_get["default"])(value,0)instanceof File?null:(0,_get["default"])(value,'id',null);}break;case'component':if(isRepeatable){cleanedData=value?value.map(function(data){var subCleanedData=recursiveCleanData(data,componentsSchema[component]);return subCleanedData;}):value;}else{cleanedData=value?recursiveCleanData(value,componentsSchema[component]):value;}break;case'dynamiczone':cleanedData=value.map(function(componentData){var subCleanedData=recursiveCleanData(componentData,componentsSchema[componentData.__component]);return subCleanedData;});break;default:// The helper is mainly used for the relations in order to just send the id
cleanedData=helperCleanData(value,'id');}acc[current]=cleanedData;return acc;},{});};return recursiveCleanData(retrievedData,currentSchema);};var helperCleanData=function helperCleanData(value,key){if((0,_isArray["default"])(value)){return value.map(function(obj){return obj[key]?obj[key]:obj;});}if((0,_isObject["default"])(value)){return value[key];}return value;};exports.helperCleanData=helperCleanData;var _default=cleanData;exports.default=_default;

/***/ }),

/***/ 19918:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var getYupInnerErrors=function getYupInnerErrors(error){return(0,_lodash.get)(error,'inner',[]).reduce(function(acc,curr){acc[curr.path.split('[').join('.').split(']').join('')]={id:curr.message};return acc;},{});};var _default=getYupInnerErrors;exports.default=_default;

/***/ }),

/***/ 80300:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "cleanData", ({enumerable:true,get:function get(){return _cleanData["default"];}}));Object.defineProperty(exports, "createYupSchema", ({enumerable:true,get:function get(){return _schema["default"];}}));Object.defineProperty(exports, "getYupInnerErrors", ({enumerable:true,get:function get(){return _getYupInnerErrors["default"];}}));Object.defineProperty(exports, "moveFields", ({enumerable:true,get:function get(){return _moveFields["default"];}}));var _moveFields=_interopRequireDefault(__webpack_require__(23650));var _cleanData=_interopRequireDefault(__webpack_require__(62170));var _getYupInnerErrors=_interopRequireDefault(__webpack_require__(19918));var _schema=_interopRequireDefault(__webpack_require__(9210));

/***/ }),

/***/ 23650:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var moveFields=function moveFields(initialValue,from,to,value){var returnedValue=initialValue.slice();returnedValue.splice(from,1);returnedValue.splice(to,0,value);return returnedValue;};var _default=moveFields;exports.default=_default;

/***/ }),

/***/ 9210:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _lodash=__webpack_require__(96486);var yup=_interopRequireWildcard(__webpack_require__(53209));var _helperPlugin=__webpack_require__(68547);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}yup.addMethod(yup.mixed,'defined',function(){return this.test('defined',_helperPlugin.translatedErrors.required,function(value){return value!==undefined;});});yup.addMethod(yup.array,'notEmptyMin',function(min){return this.test('notEmptyMin',_helperPlugin.translatedErrors.min,function(value){if((0,_lodash.isEmpty)(value)){return true;}return value.length>=min;});});yup.addMethod(yup.string,'isInferior',function(message,max){return this.test('isInferior',message,function(value){if(!value){return true;}if(Number.isNaN((0,_lodash.toNumber)(value))){return true;}return(0,_lodash.toNumber)(max)>=(0,_lodash.toNumber)(value);});});yup.addMethod(yup.string,'isSuperior',function(message,min){return this.test('isSuperior',message,function(value){if(!value){return true;}if(Number.isNaN((0,_lodash.toNumber)(value))){return true;}return(0,_lodash.toNumber)(value)>=(0,_lodash.toNumber)(min);});});var getAttributes=function getAttributes(data){return(0,_lodash.get)(data,['attributes'],{});};var createYupSchema=function createYupSchema(model,_ref){var components=_ref.components;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{isCreatingEntry:true,isDraft:true,isFromComponent:false};var attributes=getAttributes(model);return yup.object().shape(Object.keys(attributes).reduce(function(acc,current){var attribute=attributes[current];if(attribute.type!=='relation'&&attribute.type!=='component'&&attribute.type!=='dynamiczone'){var formatted=createYupSchemaAttribute(attribute.type,attribute,options);acc[current]=formatted;}if(attribute.type==='relation'){acc[current]=['oneWay','oneToOne','manyToOne','oneToManyMorph','oneToOneMorph'].includes(attribute.relationType)?yup.object().nullable():yup.array().nullable();}if(attribute.type==='component'){var componentFieldSchema=createYupSchema(components[attribute.component],{components:components},_objectSpread(_objectSpread({},options),{},{isFromComponent:true}));if(attribute.repeatable===true){var min=attribute.min,max=attribute.max,required=attribute.required;var _componentSchema=yup.lazy(function(value){var baseSchema=yup.array().of(componentFieldSchema);if(min){if(required){baseSchema=baseSchema.min(min,_helperPlugin.translatedErrors.min);}else if(required!==true&&(0,_lodash.isEmpty)(value)){baseSchema=baseSchema.nullable();}else{baseSchema=baseSchema.min(min,_helperPlugin.translatedErrors.min);}}else if(required&&!options.isDraft){baseSchema=baseSchema.min(1,_helperPlugin.translatedErrors.required);}if(max){baseSchema=baseSchema.max(max,_helperPlugin.translatedErrors.max);}return baseSchema;});acc[current]=_componentSchema;return acc;}var componentSchema=yup.lazy(function(obj){if(obj!==undefined){return attribute.required===true&&!options.isDraft?componentFieldSchema.defined():componentFieldSchema.nullable();}return attribute.required===true?yup.object().defined():yup.object().nullable();});acc[current]=componentSchema;return acc;}if(attribute.type==='dynamiczone'){var dynamicZoneSchema=yup.array().of(yup.lazy(function(_ref2){var __component=_ref2.__component;return createYupSchema(components[__component],{components:components},_objectSpread(_objectSpread({},options),{},{isFromComponent:true}));}));var _max=attribute.max,_min=attribute.min;if(_min){if(attribute.required){dynamicZoneSchema=dynamicZoneSchema.test('min',_helperPlugin.translatedErrors.min,function(value){if(options.isCreatingEntry){return value&&value.length>=_min;}if(value===undefined){return true;}return value!==null&&value.length>=_min;}).test('required',_helperPlugin.translatedErrors.required,function(value){if(options.isCreatingEntry){return value!==null||value!==undefined;}if(value===undefined){return true;}return value!==null;});}else{dynamicZoneSchema=dynamicZoneSchema.notEmptyMin(_min);}}else if(attribute.required&&!options.isDraft){dynamicZoneSchema=dynamicZoneSchema.test('required',_helperPlugin.translatedErrors.required,function(value){if(options.isCreatingEntry){return value!==null||value!==undefined;}if(value===undefined){return true;}return value!==null;});}if(_max){dynamicZoneSchema=dynamicZoneSchema.max(_max,_helperPlugin.translatedErrors.max);}acc[current]=dynamicZoneSchema;}return acc;},{}));};var createYupSchemaAttribute=function createYupSchemaAttribute(type,validations,options){var schema=yup.mixed();if(['string','uid','text','richtext','email','password','enumeration'].includes(type)){schema=yup.string();}if(type==='json'){schema=yup.mixed(_helperPlugin.translatedErrors.json).test('isJSON',_helperPlugin.translatedErrors.json,function(value){if(value===undefined){return true;}if((0,_lodash.isNumber)(value)||(0,_lodash.isNull)(value)||(0,_lodash.isObject)(value)||(0,_lodash.isArray)(value)){return true;}try{JSON.parse(value);return true;}catch(err){return false;}}).nullable();}if(type==='email'){schema=schema.email(_helperPlugin.translatedErrors.email);}if(['number','integer','float','decimal'].includes(type)){schema=yup.number().transform(function(cv){return(0,_lodash.isNaN)(cv)?undefined:cv;}).typeError();}if(['date','datetime'].includes(type)){schema=yup.date();}if(type==='biginteger'){schema=yup.string().matches(/^-?\d*$/);}Object.keys(validations).forEach(function(validation){var validationValue=validations[validation];if(!!validationValue||!(0,_lodash.isBoolean)(validationValue)&&Number.isInteger(Math.floor(validationValue))||validationValue===0){switch(validation){case'required':{if(!options.isDraft){if(type==='password'&&options.isCreatingEntry){schema=schema.required(_helperPlugin.translatedErrors.required);}if(type!=='password'){if(options.isCreatingEntry){schema=schema.required(_helperPlugin.translatedErrors.required);}else{schema=schema.test('required',_helperPlugin.translatedErrors.required,function(value){// Field is not touched and the user is editing the entry
if(value===undefined&&!options.isFromComponent){return true;}if(['number','integer','biginteger','float','decimal'].includes(type)){if(value===0){return true;}return!!value;}if(type==='boolean'){return value!==null;}if(type==='date'||type==='datetime'){if(typeof value==='string'){return!(0,_lodash.isEmpty)(value);}return!(0,_lodash.isEmpty)(value===null||value===void 0?void 0:value.toString());}return!(0,_lodash.isEmpty)(value);});}}}break;}case'max':{if(type==='biginteger'){schema=schema.isInferior(_helperPlugin.translatedErrors.max,validationValue);}else{schema=schema.max(validationValue,_helperPlugin.translatedErrors.max);}break;}case'maxLength':schema=schema.max(validationValue,_helperPlugin.translatedErrors.maxLength);break;case'min':{if(type==='biginteger'){schema=schema.isSuperior(_helperPlugin.translatedErrors.min,validationValue);}else{schema=schema.min(validationValue,_helperPlugin.translatedErrors.min);}break;}case'minLength':{if(!options.isDraft){schema=schema.min(validationValue,_helperPlugin.translatedErrors.minLength);}break;}case'regex':schema=schema.matches(new RegExp(validationValue),_helperPlugin.translatedErrors.regex);break;case'lowercase':if(['text','textarea','email','string'].includes(type)){schema=schema.strict().lowercase();}break;case'uppercase':if(['text','textarea','email','string'].includes(type)){schema=schema.strict().uppercase();}break;case'positive':if(['number','integer','bigint','float','decimal'].includes(type)){schema=schema.positive();}break;case'negative':if(['number','integer','bigint','float','decimal'].includes(type)){schema=schema.negative();}break;default:schema=schema.nullable();}}});return schema;};var _default=createYupSchema;exports.default=_default;

/***/ }),

/***/ 69817:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var LabelAction=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Label__LabelAction",componentId:"fda47w-0"})(["svg path{fill:",";}"],function(_ref){var theme=_ref.theme;return theme.colors.neutral500;});var Label=function Label(_ref2){var intlLabel=_ref2.intlLabel,id=_ref2.id,labelAction=_ref2.labelAction,name=_ref2.name,numberOfEntries=_ref2.numberOfEntries,showNumberOfEntries=_ref2.showNumberOfEntries,required=_ref2.required;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var label=intlLabel!==null&&intlLabel!==void 0&&intlLabel.id?formatMessage(intlLabel):name;return/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingBottom:1},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"neutral800",htmlFor:id||name,variant:"pi",fontWeight:"bold",as:"label"},label,showNumberOfEntries&&/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,"\xA0(",numberOfEntries,")"),required&&/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"danger600"},"*")),labelAction&&/*#__PURE__*/_react["default"].createElement(LabelAction,{paddingLeft:1},labelAction)));};Label.defaultProps={id:undefined,labelAction:undefined,numberOfEntries:0,required:false,showNumberOfEntries:false};Label.propTypes={id:_propTypes["default"].string,intlLabel:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}).isRequired,labelAction:_propTypes["default"].element,name:_propTypes["default"].string.isRequired,numberOfEntries:_propTypes["default"].number,required:_propTypes["default"].bool,showNumberOfEntries:_propTypes["default"].bool};var _default=Label;exports.default=_default;

/***/ }),

/***/ 49925:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _size=_interopRequireDefault(__webpack_require__(84238));var _reactFastCompare=_interopRequireDefault(__webpack_require__(39918));var _reactIntl=__webpack_require__(97132);var _helperPlugin=__webpack_require__(68547);var _Trash=_interopRequireDefault(__webpack_require__(18568));var _Box=__webpack_require__(5493);var _IconButton=__webpack_require__(30741);var _Flex=__webpack_require__(67826);var _Stack=__webpack_require__(9008);var _utils=__webpack_require__(28564);var _ComponentInitializer=_interopRequireDefault(__webpack_require__(4185));var _NonRepeatableComponent=_interopRequireDefault(__webpack_require__(13269));var _RepeatableComponent=_interopRequireDefault(__webpack_require__(14832));var _connect=_interopRequireDefault(__webpack_require__(51271));var _select=_interopRequireDefault(__webpack_require__(52574));var _Label=_interopRequireDefault(__webpack_require__(69817));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}/* eslint-disable  import/no-cycle */var FieldComponent=function FieldComponent(_ref){var addNonRepeatableComponentToField=_ref.addNonRepeatableComponentToField,componentUid=_ref.componentUid,intlLabel=_ref.intlLabel,isCreatingEntry=_ref.isCreatingEntry,isFromDynamicZone=_ref.isFromDynamicZone,isRepeatable=_ref.isRepeatable,isNested=_ref.isNested,labelAction=_ref.labelAction,max=_ref.max,min=_ref.min,name=_ref.name,hasChildrenAllowedFields=_ref.hasChildrenAllowedFields,hasChildrenReadableFields=_ref.hasChildrenReadableFields,isReadOnly=_ref.isReadOnly,componentValue=_ref.componentValue,removeComponentFromField=_ref.removeComponentFromField,required=_ref.required;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var componentValueLength=(0,_size["default"])(componentValue);var isInitialized=componentValue!==null||isFromDynamicZone;var showResetComponent=!isRepeatable&&isInitialized&&!isFromDynamicZone&&hasChildrenAllowedFields;if(!hasChildrenAllowedFields&&isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.NotAllowedInput,{labelAction:labelAction,intlLabel:intlLabel,name:name});}if(!hasChildrenAllowedFields&&!isCreatingEntry&&!hasChildrenReadableFields){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.NotAllowedInput,{labelAction:labelAction,intlLabel:intlLabel,name:name});}var handleClickAddNonRepeatableComponentToField=function handleClickAddNonRepeatableComponentToField(){addNonRepeatableComponentToField(name,componentUid);};return/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between"},intlLabel&&/*#__PURE__*/_react["default"].createElement(_Label["default"],{intlLabel:intlLabel,labelAction:labelAction,name:name,numberOfEntries:componentValueLength,showNumberOfEntries:isRepeatable,required:required}),showResetComponent&&/*#__PURE__*/_react["default"].createElement(_IconButton.IconButton,{label:formatMessage({id:(0,_utils.getTrad)('components.reset-entry'),defaultMessage:'Reset Entry'}),icon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null),noBorder:true,onClick:function onClick(){removeComponentFromField(name,componentUid);}})),/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:1},!isRepeatable&&!isInitialized&&/*#__PURE__*/_react["default"].createElement(_ComponentInitializer["default"],{isReadOnly:isReadOnly,onClick:handleClickAddNonRepeatableComponentToField}),!isRepeatable&&isInitialized&&/*#__PURE__*/_react["default"].createElement(_NonRepeatableComponent["default"],{componentUid:componentUid,isFromDynamicZone:isFromDynamicZone,isNested:isNested,name:name}),isRepeatable&&/*#__PURE__*/_react["default"].createElement(_RepeatableComponent["default"],{componentValue:componentValue,componentValueLength:componentValueLength,componentUid:componentUid,isNested:isNested,isReadOnly:isReadOnly,max:max,min:min,name:name})));};FieldComponent.defaultProps={componentValue:null,hasChildrenAllowedFields:false,hasChildrenReadableFields:false,intlLabel:undefined,isFromDynamicZone:false,isReadOnly:false,isRepeatable:false,isNested:false,labelAction:undefined,max:Infinity,min:-Infinity,required:false};FieldComponent.propTypes={addNonRepeatableComponentToField:_propTypes["default"].func.isRequired,componentUid:_propTypes["default"].string.isRequired,componentValue:_propTypes["default"].oneOfType([_propTypes["default"].object,_propTypes["default"].array]),hasChildrenAllowedFields:_propTypes["default"].bool,hasChildrenReadableFields:_propTypes["default"].bool,isCreatingEntry:_propTypes["default"].bool.isRequired,isFromDynamicZone:_propTypes["default"].bool,isReadOnly:_propTypes["default"].bool,isRepeatable:_propTypes["default"].bool,isNested:_propTypes["default"].bool,intlLabel:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),labelAction:_propTypes["default"].element,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired,removeComponentFromField:_propTypes["default"].func.isRequired,required:_propTypes["default"].bool};var Memoized=/*#__PURE__*/(0,_react.memo)(FieldComponent,_reactFastCompare["default"]);var _default=(0,_connect["default"])(Memoized,_select["default"]);exports.default=_default;

/***/ }),

/***/ 51271:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports.default=_default;

/***/ }),

/***/ 52574:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var _lodash=__webpack_require__(96486);var _helperPlugin=__webpack_require__(68547);var _utils=__webpack_require__(28564);var _hooks=__webpack_require__(14772);function useSelect(_ref){var isFromDynamicZone=_ref.isFromDynamicZone,name=_ref.name;var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),addNonRepeatableComponentToField=_useCMEditViewDataMan.addNonRepeatableComponentToField,createActionAllowedFields=_useCMEditViewDataMan.createActionAllowedFields,isCreatingEntry=_useCMEditViewDataMan.isCreatingEntry,modifiedData=_useCMEditViewDataMan.modifiedData,removeComponentFromField=_useCMEditViewDataMan.removeComponentFromField,readActionAllowedFields=_useCMEditViewDataMan.readActionAllowedFields,updateActionAllowedFields=_useCMEditViewDataMan.updateActionAllowedFields,formErrors=_useCMEditViewDataMan.formErrors;var _useContentTypeLayout=(0,_hooks.useContentTypeLayout)(),contentType=_useContentTypeLayout.contentType;// This is used for the readonly mode when updating an entry
var allDynamicZoneFields=(0,_react.useMemo)(function(){var attributes=(0,_lodash.get)(contentType,['attributes'],{});var dynamicZoneFields=Object.keys(attributes).filter(function(attrName){return(0,_lodash.get)(attributes,[attrName,'type'],'')==='dynamiczone';});return dynamicZoneFields;},[contentType]);var allowedFields=(0,_react.useMemo)(function(){return isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;},[isCreatingEntry,createActionAllowedFields,updateActionAllowedFields]);var componentValue=(0,_lodash.get)(modifiedData,name,null);var compoName=(0,_react.useMemo)(function(){return(0,_utils.getFieldName)(name);},[name]);var hasChildrenAllowedFields=(0,_react.useMemo)(function(){if(isFromDynamicZone&&isCreatingEntry){return true;}var includedDynamicZoneFields=allowedFields.filter(function(name){return name===compoName[0];});if(includedDynamicZoneFields.length>0){return true;}var relatedChildrenAllowedFields=allowedFields.map(function(fieldName){return fieldName.split('.');}).filter(function(fieldName){if(fieldName.length<compoName.length){return false;}var joined=(0,_lodash.take)(fieldName,compoName.length).join('.');return joined===compoName.join('.');});return relatedChildrenAllowedFields.length>0;},[isFromDynamicZone,isCreatingEntry,allowedFields,compoName]);// This is used only when updating an entry
var hasChildrenReadableFields=(0,_react.useMemo)(function(){if(isFromDynamicZone){return true;}if(allDynamicZoneFields.includes(compoName[0])){return true;}var allowedFields=isCreatingEntry?[]:readActionAllowedFields;var relatedChildrenAllowedFields=allowedFields.map(function(fieldName){return fieldName.split('.');}).filter(function(fieldName){if(fieldName.length<compoName.length){return false;}var joined=(0,_lodash.take)(fieldName,compoName.length).join('.');return joined===compoName.join('.');});return relatedChildrenAllowedFields.length>0;},[isFromDynamicZone,allDynamicZoneFields,compoName,isCreatingEntry,readActionAllowedFields]);var isReadOnly=(0,_react.useMemo)(function(){if(isCreatingEntry){return false;}if(hasChildrenAllowedFields){return false;}return hasChildrenReadableFields;},[hasChildrenAllowedFields,hasChildrenReadableFields,isCreatingEntry]);return{addNonRepeatableComponentToField:addNonRepeatableComponentToField,formErrors:formErrors,hasChildrenAllowedFields:hasChildrenAllowedFields,hasChildrenReadableFields:hasChildrenReadableFields,isCreatingEntry:isCreatingEntry,isReadOnly:isReadOnly,removeComponentFromField:removeComponentFromField,componentValue:componentValue};}var _default=useSelect;exports.default=_default;

/***/ }),

/***/ 74373:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Date=_interopRequireDefault(__webpack_require__(99544));var _Boolean=_interopRequireDefault(__webpack_require__(18561));var _Email=_interopRequireDefault(__webpack_require__(74642));var _Enumeration=_interopRequireDefault(__webpack_require__(60178));var _Media=_interopRequireDefault(__webpack_require__(46966));var _Relation=_interopRequireDefault(__webpack_require__(81641));var _Text=_interopRequireDefault(__webpack_require__(18772));var _Uid=_interopRequireDefault(__webpack_require__(10301));var _Number=_interopRequireDefault(__webpack_require__(35020));var _Json=_interopRequireDefault(__webpack_require__(60493));var _Component=_interopRequireDefault(__webpack_require__(29685));var _DynamicZone=_interopRequireDefault(__webpack_require__(71066));var iconByTypes={biginteger:/*#__PURE__*/_react["default"].createElement(_Number["default"],null),"boolean":/*#__PURE__*/_react["default"].createElement(_Boolean["default"],null),date:/*#__PURE__*/_react["default"].createElement(_Date["default"],null),datetime:/*#__PURE__*/_react["default"].createElement(_Date["default"],null),decimal:/*#__PURE__*/_react["default"].createElement(_Number["default"],null),email:/*#__PURE__*/_react["default"].createElement(_Email["default"],null),"enum":/*#__PURE__*/_react["default"].createElement(_Enumeration["default"],null),enumeration:/*#__PURE__*/_react["default"].createElement(_Enumeration["default"],null),file:/*#__PURE__*/_react["default"].createElement(_Media["default"],null),files:/*#__PURE__*/_react["default"].createElement(_Media["default"],null),"float":/*#__PURE__*/_react["default"].createElement(_Number["default"],null),integer:/*#__PURE__*/_react["default"].createElement(_Number["default"],null),media:/*#__PURE__*/_react["default"].createElement(_Media["default"],null),number:/*#__PURE__*/_react["default"].createElement(_Number["default"],null),relation:/*#__PURE__*/_react["default"].createElement(_Relation["default"],null),string:/*#__PURE__*/_react["default"].createElement(_Text["default"],null),text:/*#__PURE__*/_react["default"].createElement(_Text["default"],null),richtext:/*#__PURE__*/_react["default"].createElement(_Text["default"],null),time:/*#__PURE__*/_react["default"].createElement(_Date["default"],null),timestamp:/*#__PURE__*/_react["default"].createElement(_Date["default"],null),json:/*#__PURE__*/_react["default"].createElement(_Json["default"],null),uid:/*#__PURE__*/_react["default"].createElement(_Uid["default"],null),component:/*#__PURE__*/_react["default"].createElement(_Component["default"],null),dynamiczone:/*#__PURE__*/_react["default"].createElement(_DynamicZone["default"],null)};var FieldTypeIcon=function FieldTypeIcon(_ref){var type=_ref.type;return iconByTypes[type]||null;};FieldTypeIcon.propTypes={type:_propTypes["default"].string.isRequired};var _default=FieldTypeIcon;exports.default=_default;

/***/ }),

/***/ 32266:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.Hint=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Typography=__webpack_require__(49425);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Hint=function Hint(_ref){var id=_ref.id,error=_ref.error,name=_ref.name,description=_ref.description;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var hint=description?formatMessage({id:description.id,defaultMessage:description.defaultMessage},_objectSpread({},description.values)):'';if(!hint||error){return null;}return/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{as:"p",variant:"pi",id:"".concat(id||name,"-hint"),textColor:"neutral600"},hint);};exports.Hint=Hint;Hint.defaultProps={id:undefined,description:undefined,error:undefined};Hint.propTypes={description:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),error:_propTypes["default"].string,id:_propTypes["default"].string,name:_propTypes["default"].string.isRequired};var _default=Hint;exports.default=_default;

/***/ }),

/***/ 85117:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _hooks=__webpack_require__(73460);var _excluded=["area"];var InjectionZoneList=function InjectionZoneList(_ref){var area=_ref.area,props=(0,_objectWithoutProperties2["default"])(_ref,_excluded);var compos=(0,_hooks.useInjectionZone)(area);if(!compos){return null;}// TODO
return/*#__PURE__*/_react["default"].createElement("ul",null,compos.map(function(compo){var component=compo.Component(props);if(component){return/*#__PURE__*/_react["default"].createElement(_Box.Box,{key:compo.name,padding:3,style:{textAlign:'center'}},/*#__PURE__*/_react["default"].createElement(compo.Component,props));}return null;}));};InjectionZoneList.propTypes={area:_propTypes["default"].string.isRequired};var _default=InjectionZoneList;exports.default=_default;

/***/ }),

/***/ 25856:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.FieldError=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Typography=__webpack_require__(49425);var FieldError=function FieldError(_ref){var id=_ref.id,error=_ref.error,name=_ref.name;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var errorMessage=error?formatMessage({id:error,defaultMessage:error}):'';if(!error){return null;}return/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{as:"p",variant:"pi",id:"".concat(id||name,"-error"),textColor:"danger600","data-strapi-field-error":true},errorMessage);};exports.FieldError=FieldError;FieldError.defaultProps={id:undefined,error:undefined};FieldError.propTypes={error:_propTypes["default"].string,id:_propTypes["default"].string,name:_propTypes["default"].string.isRequired};var _default=FieldError;exports.default=_default;

/***/ }),

/***/ 36464:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactIntl=__webpack_require__(97132);var _Typography=__webpack_require__(49425);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var LabelAction=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Label__LabelAction",componentId:"sc-103sbml-0"})(["svg path{fill:",";}"],function(_ref){var theme=_ref.theme;return theme.colors.neutral500;});var Label=function Label(_ref2){var id=_ref2.id,intlLabel=_ref2.intlLabel,labelAction=_ref2.labelAction,name=_ref2.name;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var label=intlLabel!==null&&intlLabel!==void 0&&intlLabel.id?formatMessage({id:intlLabel.id,defaultMessage:intlLabel.defaultMessage},_objectSpread({},intlLabel.values)):name;return/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"neutral800",htmlFor:id||name,variant:"pi",fontWeight:"bold",as:"label"},label),labelAction&&/*#__PURE__*/_react["default"].createElement(LabelAction,{paddingLeft:1},labelAction));};Label.defaultProps={id:undefined,intlLabel:undefined,labelAction:undefined};Label.propTypes={id:_propTypes["default"].string,intlLabel:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),labelAction:_propTypes["default"].element,name:_propTypes["default"].string.isRequired};var _default=Label;exports.default=_default;

/***/ }),

/***/ 39480:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.StyledBox=exports.EditorWrapper=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Box=__webpack_require__(5493);/* eslint-disable */ /* stylelint-disable */var EditorWrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"components__EditorWrapper",componentId:"sc-1ydjvfp-0"})(["cursor:",";.colored{background-color:yellow;color:black !important;}> div{border-radius:3px;> div:last-of-type{min-height:253px;max-height:506px;}}.CodeMirror{font-size:","rem;direction:ltr;z-index:0;}"],function(_ref){var disabled=_ref.disabled;return disabled?'not-allowed !important':'auto';},14/16);exports.EditorWrapper=EditorWrapper;var StyledBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"components__StyledBox",componentId:"sc-1ydjvfp-1"})(["border-radius:",";border:1px solid ",";"],function(_ref2){var theme=_ref2.theme;return theme.borderRadius;},function(_ref3){var theme=_ref3.theme,error=_ref3.error;return error?theme.colors.danger600:'transparent';});exports.StyledBox=StyledBox;

/***/ }),

/***/ 80989:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _classCallCheck2=_interopRequireDefault(__webpack_require__(34575));var _createClass2=_interopRequireDefault(__webpack_require__(93913));var _assertThisInitialized2=_interopRequireDefault(__webpack_require__(81506));var _inherits2=_interopRequireDefault(__webpack_require__(2205));var _possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(78585));var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(29754));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _codemirror=_interopRequireDefault(__webpack_require__(4631));var _trimStart=_interopRequireDefault(__webpack_require__(95659));var _Stack=__webpack_require__(9008);var _jsonlint=_interopRequireDefault(__webpack_require__(73741));var _components=__webpack_require__(39480);var _Hint=_interopRequireDefault(__webpack_require__(32266));var _Label=_interopRequireDefault(__webpack_require__(36464));var _FieldError=_interopRequireDefault(__webpack_require__(25856));function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=(0,_getPrototypeOf2["default"])(Derived),result;if(hasNativeReflectConstruct){var NewTarget=(0,_getPrototypeOf2["default"])(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return(0,_possibleConstructorReturn2["default"])(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}var WAIT=600;var stringify=JSON.stringify;var DEFAULT_THEME='blackboard';var loadCss=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(/* import() | codemirror-javacript */ 3860).then(__webpack_require__.t.bind(__webpack_require__, 17319, 23));case 2:_context.next=4;return __webpack_require__.e(/* import() | codemirror-addon-lint */ 2781).then(__webpack_require__.t.bind(__webpack_require__, 3256, 23));case 4:_context.next=6;return __webpack_require__.e(/* import() | codemirror-addon-lint-js */ 953).then(__webpack_require__.t.bind(__webpack_require__, 96477, 23));case 6:_context.next=8;return __webpack_require__.e(/* import() | codemirror-addon-closebrackets */ 5178).then(__webpack_require__.t.bind(__webpack_require__, 82801, 23));case 8:_context.next=10;return __webpack_require__.e(/* import() | codemirror-addon-mark-selection */ 5509).then(__webpack_require__.t.bind(__webpack_require__, 64020, 23));case 10:_context.next=12;return __webpack_require__.e(/* import() | codemirror-css */ 3973).then(__webpack_require__.bind(__webpack_require__, 91380));case 12:_context.next=14;return __webpack_require__.e(/* import() | codemirror-theme */ 2218).then(__webpack_require__.bind(__webpack_require__, 69039));case 14:case"end":return _context.stop();}}},_callee);}));return function loadCss(){return _ref.apply(this,arguments);};}();loadCss();var InputJSON=/*#__PURE__*/function(_React$Component){(0,_inherits2["default"])(InputJSON,_React$Component);var _super=_createSuper(InputJSON);function InputJSON(props){var _this;(0,_classCallCheck2["default"])(this,InputJSON);_this=_super.call(this,props);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"timer",null);(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setInitValue",function(){var value=_this.props.value;try{if(value===null)return _this.codeMirror.setValue('');var nextValue=typeof value!=='string'?stringify(value,null,2):value;return _this.codeMirror.setValue(nextValue);}catch(err){return _this.setState({error:true});}});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"setSize",function(){return _this.codeMirror.setSize('100%','auto');});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getContentAtLine",function(line){return _this.codeMirror.getLine(line);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getEditorOption",function(opt){return _this.codeMirror.getOption(opt);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"getValue",function(){return _this.codeMirror.getValue();});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"markSelection",function(_ref2){var message=_ref2.message;var line=parseInt(message.split(':')[0].split('line ')[1],10)-1;var content=_this.getContentAtLine(line);if(content==='{'){line+=1;content=_this.getContentAtLine(line);}var chEnd=content.length;var chStart=chEnd-(0,_trimStart["default"])(content,' ').length;var markedText=_this.codeMirror.markText({line:line,ch:chStart},{line:line,ch:chEnd},{className:'colored'});_this.setState({markedText:markedText});});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"handleChange",function(doc,change){if(change.origin==='setValue'){return;}var _this$props=_this.props,name=_this$props.name,onChange=_this$props.onChange;var value=doc.getValue();if(value===''){value=null;}// Update the parent
onChange({target:{name:name,value:value,type:'json'}});// Remove higlight error
if(_this.state.markedText){_this.state.markedText.clear();_this.setState({markedText:null,error:null});}clearTimeout(_this.timer);_this.timer=setTimeout(function(){return _this.testJSON(doc.getValue());},WAIT);});(0,_defineProperty2["default"])((0,_assertThisInitialized2["default"])(_this),"testJSON",function(value){try{_jsonlint["default"].parse(value);}catch(err){_this.markSelection(err);}});_this.editor=/*#__PURE__*/_react["default"].createRef();_this.state={error:false,markedText:null};return _this;}(0,_createClass2["default"])(InputJSON,[{key:"componentDidMount",value:function componentDidMount(){// Init codemirror component
this.codeMirror=_codemirror["default"].fromTextArea(this.editor.current,{autoCloseBrackets:true,lineNumbers:true,matchBrackets:true,mode:'application/json',readOnly:this.props.disabled,smartIndent:true,styleSelectedText:true,tabSize:2,theme:DEFAULT_THEME,fontSize:'13px'});this.codeMirror.on('change',this.handleChange);this.setSize();this.setInitValue();}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){if(prevProps.value!==this.props.value&&!this.codeMirror.state.focused){this.setInitValue();}}},{key:"render",value:function render(){if(this.state.error){return/*#__PURE__*/_react["default"].createElement("div",null,"error json");}return/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:1},/*#__PURE__*/_react["default"].createElement(_Label["default"],{intlLabel:this.props.intlLabel,labelAction:this.props.labelAction,name:this.props.name}),/*#__PURE__*/_react["default"].createElement(_components.StyledBox,{error:this.props.error},/*#__PURE__*/_react["default"].createElement(_components.EditorWrapper,{disabled:this.props.disabled},/*#__PURE__*/_react["default"].createElement("textarea",{ref:this.editor,autoComplete:"off",id:this.props.id||this.props.name,defaultValue:""}))),/*#__PURE__*/_react["default"].createElement(_Hint["default"],{description:this.props.description,name:this.props.name,id:this.props.id,error:this.props.error}),/*#__PURE__*/_react["default"].createElement(_FieldError["default"],{id:this.props.id,name:this.props.name,error:this.props.error}));}}]);return InputJSON;}(_react["default"].Component);InputJSON.defaultProps={description:null,disabled:false,id:undefined,error:undefined,intlLabel:undefined,labelAction:undefined,onChange:function onChange(){},value:null};InputJSON.propTypes={description:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),disabled:_propTypes["default"].bool,error:_propTypes["default"].string,id:_propTypes["default"].string,intlLabel:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),labelAction:_propTypes["default"].element,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func,value:_propTypes["default"].any};var _default=InputJSON;exports.default=_default;

/***/ }),

/***/ 73741:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
/* Jison generated parser */ /* eslint-disable */var jsonlint=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,'{':17,'}':18,JSONMemberList:19,JSONMember:20,':':21,',':22,'[':23,']':24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:'error',4:'STRING',6:'NUMBER',8:'NULL',10:'TRUE',11:'FALSE',14:'EOF',17:'{',18:'}',21:':',22:',',23:'[',24:']'},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:// replace escaped characters with actual character
this.$=yytext.replace(/\\(\\|")/g,'$'+'1').replace(/\\n/g,'\n').replace(/\\r/g,'\r').replace(/\\t/g,'\t').replace(/\\v/g,'\v').replace(/\\f/g,'\f').replace(/\\b/g,'\b');break;case 2:this.$=Number(yytext);break;case 3:this.$=null;break;case 4:this.$=true;break;case 5:this.$=false;break;case 6:return this.$=$$[$0-1];break;case 13:this.$={};break;case 14:this.$=$$[$0-1];break;case 15:this.$=[$$[$0-2],$$[$0]];break;case 16:this.$={};this.$[$$[$0][0]]=$$[$0][1];break;case 17:this.$=$$[$0-2];$$[$0-2][$$[$0][0]]=$$[$0][1];break;case 18:this.$=[];break;case 19:this.$=$$[$0-1];break;case 20:this.$=[$$[$0]];break;case 21:this.$=$$[$0-2];$$[$0-2].push($$[$0]);break;}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function parseError(str,hash){throw new Error(str);},parse:function parse(input){var self=this,stack=[0],vstack=[null],// semantic value stack
lstack=[],// location stack
table=this.table,yytext='',yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;//this.reductionCount = this.shiftCount = 0;
this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=='undefined')this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);if(typeof this.yy.parseError==='function')this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n;}function lex(){var token;token=self.lexer.lex()||1;// $end = 1
// if token isn't its numeric value, convert
if(typeof token!=='number'){token=self.symbols_[token]||token;}return token;}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){// retreive state number from top of stack
state=stack[stack.length-1];// use default actions if available
if(this.defaultActions[state]){action=this.defaultActions[state];}else{if(symbol==null)symbol=lex();// read action for current state and first input
action=table[state]&&table[state][symbol];}// handle parse error
_handle_error:if(typeof action==='undefined'||!action.length||!action[0]){if(!recovering){// Report error
expected=[];for(p in table[state]){if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'");}}var errStr='';if(this.lexer.showPosition){errStr='Parse error on line '+(yylineno+1)+':\n'+this.lexer.showPosition()+'\nExpecting '+expected.join(', ')+", got '"+this.terminals_[symbol]+"'";}else{errStr='Parse error on line '+(yylineno+1)+': Unexpected '+(symbol==1/*EOF*/?'end of input':"'"+(this.terminals_[symbol]||symbol)+"'");}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected});}// just recovered from another error
if(recovering==3){if(symbol==EOF){throw new Error(errStr||'Parsing halted.');}// discard current lookahead and grab another
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;symbol=lex();}// try to recover from error
while(1){// check for error recovery rule in this state
if(TERROR.toString()in table[state]){break;}if(state==0){throw new Error(errStr||'Parsing halted.');}popStack(1);state=stack[stack.length-1];}preErrorSymbol=symbol;// save the lookahead token
symbol=TERROR;// insert generic error symbol as new lookahead
state=stack[stack.length-1];action=table[state]&&table[state][TERROR];recovering=3;// allow 3 real symbols to be shifted before reporting a new error
}// this shouldn't happen, unless resolve defaults are off
if(action[0]instanceof Array&&action.length>1){throw new Error('Parse Error: multiple actions possible at state: '+state+', token: '+symbol);}switch(action[0]){case 1:// shift
//this.shiftCount++;
stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);// push state
symbol=null;if(!preErrorSymbol){// normal execution/no error
yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--;}else{// error just occurred, resume old lookahead f/ before error
symbol=preErrorSymbol;preErrorSymbol=null;}break;case 2:// reduce
//this.reductionCount++;
len=this.productions_[action[1]][1];// perform semantic action
yyval.$=vstack[vstack.length-len];// default to $$ = $1
// default location, uses first token for firsts, last for lasts
yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=='undefined'){return r;}// pop off stack
if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len);}stack.push(this.productions_[action[1]][0]);// push nonterminal (reduce)
vstack.push(yyval.$);lstack.push(yyval._$);// goto new state = table[STATE][NONTERMINAL]
newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:// accept
return true;}}return true;}};/* Jison generated lexer */var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parseError){this.yy.parseError(str,hash);}else{throw new Error(str);}},setInput:function setInput(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match='';this.conditionStack=['INITIAL'];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this;},input:function input(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.match+=ch;this.matched+=ch;var lines=ch.match(/\n/);if(lines)this.yylineno++;this._input=this._input.slice(1);return ch;},unput:function unput(ch){this._input=ch+this._input;return this;},more:function more(){this._more=true;return this;},less:function less(n){this._input=this.match.slice(n)+this._input;},pastInput:function pastInput(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?'...':'')+past.substr(-20).replace(/\n/g,'');},upcomingInput:function upcomingInput(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length);}return(next.substr(0,20)+(next.length>20?'...':'')).replace(/\n/g,'');},showPosition:function showPosition(){var pre=this.pastInput();var c=new Array(pre.length+1).join('-');return pre+this.upcomingInput()+'\n'+c+'^';},next:function next(){if(this.done){return this.EOF;}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext='';this.match='';}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break;}}if(match){lines=match[0].match(/\n.*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-1:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token)return token;else return;}if(this._input===''){return this.EOF;}else{this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\n'+this.showPosition(),{text:'',token:null,line:this.yylineno});}},lex:function lex(){var r=this.next();if(typeof r!=='undefined'){return r;}else{return this.lex();}},begin:function begin(condition){this.conditionStack.push(condition);},popState:function popState(){return this.conditionStack.pop();},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;},topState:function topState(){return this.conditionStack[this.conditionStack.length-2];},pushState:function begin(condition){this.begin(condition);}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0/* skip whitespace */:break;case 1:return 6;break;case 2:yy_.yytext=yy_.yytext.substr(1,yy_.yyleng-2);return 4;break;case 3:return 17;break;case 4:return 18;break;case 5:return 23;break;case 6:return 24;break;case 7:return 22;break;case 8:return 21;break;case 9:return 10;break;case 10:return 11;break;case 11:return 8;break;case 12:return 14;break;case 13:return'INVALID';break;}};lexer.rules=[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/];lexer.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:true}};return lexer;}();parser.lexer=lexer;return parser;}();if(true){exports.parser=jsonlint;exports.parse=function(){return jsonlint.parse.apply(jsonlint,arguments);};exports.main=function commonjsMain(args){if(!args[1]){throw new Error('Usage: '+args[0]+' FILE');}};}

/***/ }),

/***/ 50032:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.TextValidation=exports.LoadingWrapper=exports.FieldActionWrapper=exports.EndActionWrapper=void 0;var _styledComponents=_interopRequireWildcard(__webpack_require__(78384));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Field=__webpack_require__(91767);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var EndActionWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"endActionStyle__EndActionWrapper",componentId:"sc-1nwzcuq-0"})(["position:relative;"]);exports.EndActionWrapper=EndActionWrapper;var FieldActionWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Field.FieldAction).withConfig({displayName:"endActionStyle__FieldActionWrapper",componentId:"sc-1nwzcuq-1"})(["svg{height:1rem;width:1rem;path{fill:",";}}svg:hover{path{fill:",";}}"],function(_ref){var theme=_ref.theme;return theme.colors.neutral400;},function(_ref2){var theme=_ref2.theme;return theme.colors.primary600;});exports.FieldActionWrapper=FieldActionWrapper;var TextValidation=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"endActionStyle__TextValidation",componentId:"sc-1nwzcuq-2"})(["position:absolute;right:",";width:100px;pointer-events:none;svg{margin-right:",";height:","rem;width:","rem;path{fill:",";}}"],function(_ref3){var theme=_ref3.theme;return theme.spaces[6];},function(_ref4){var theme=_ref4.theme;return theme.spaces[1];},12/16,12/16,function(_ref5){var theme=_ref5.theme,notAvailable=_ref5.notAvailable;return!notAvailable?theme.colors.success600:theme.colors.danger600;});exports.TextValidation=TextValidation;var rotation=/*#__PURE__*/(0,_styledComponents.keyframes)(["from{transform:rotate(0deg);}to{transform:rotate(359deg);}"]);var LoadingWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"endActionStyle__LoadingWrapper",componentId:"sc-1nwzcuq-3"})(["animation:"," 2s infinite linear;"],rotation);exports.LoadingWrapper=LoadingWrapper;

/***/ }),

/***/ 95414:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _helperPlugin=__webpack_require__(68547);var _reactIntl=__webpack_require__(97132);var _get=_interopRequireDefault(__webpack_require__(27361));var _TextInput=__webpack_require__(55967);var _Typography=__webpack_require__(49425);var _Refresh=_interopRequireDefault(__webpack_require__(27590));var _CheckCircle=_interopRequireDefault(__webpack_require__(23942));var _ExclamationMarkCircle=_interopRequireDefault(__webpack_require__(51359));var _Loader=_interopRequireDefault(__webpack_require__(57572));var _utils=__webpack_require__(53777);var _utils2=__webpack_require__(28564);var _useDebounce=_interopRequireDefault(__webpack_require__(9730));var _regex=_interopRequireDefault(__webpack_require__(74665));var _endActionStyle=__webpack_require__(50032);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var InputUID=function InputUID(_ref){var attribute=_ref.attribute,contentTypeUID=_ref.contentTypeUID,description=_ref.description,disabled=_ref.disabled,error=_ref.error,intlLabel=_ref.intlLabel,labelAction=_ref.labelAction,name=_ref.name,onChange=_ref.onChange,value=_ref.value,placeholder=_ref.placeholder;var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),modifiedData=_useCMEditViewDataMan.modifiedData,initialData=_useCMEditViewDataMan.initialData,layout=_useCMEditViewDataMan.layout;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=(0,_react.useState)(null),_useState4=(0,_slicedToArray2["default"])(_useState3,2),availability=_useState4[0],setAvailability=_useState4[1];var debouncedValue=(0,_useDebounce["default"])(value,300);var generateUid=(0,_react.useRef)();var initialValue=initialData[name];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var createdAtName=(0,_get["default"])(layout,['options','timestamps',0]);var isCreation=!initialData[createdAtName];var debouncedTargetFieldValue=(0,_useDebounce["default"])(modifiedData[attribute.targetField],300);var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isCustomized=_useState6[0],setIsCustomized=_useState6[1];var _useState7=(0,_react.useState)(null),_useState8=(0,_slicedToArray2["default"])(_useState7,2),regenerateLabel=_useState8[0],setRegenerateLabel=_useState8[1];var label=intlLabel.id?formatMessage({id:intlLabel.id,defaultMessage:intlLabel.defaultMessage},_objectSpread({},intlLabel.values)):name;var hint=description?formatMessage({id:description.id,defaultMessage:description.defaultMessage},_objectSpread({},description.values)):'';var formattedPlaceholder=placeholder?formatMessage({id:placeholder.id,defaultMessage:placeholder.defaultMessage},_objectSpread({},placeholder.values)):'';generateUid.current=/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var shouldSetInitialValue,requestURL,_yield$axiosInstance$,data,_args=arguments;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:shouldSetInitialValue=_args.length>0&&_args[0]!==undefined?_args[0]:false;setIsLoading(true);requestURL=(0,_utils2.getRequestUrl)('uid/generate');_context.prev=3;_context.next=6;return _utils.axiosInstance.post(requestURL,{contentTypeUID:contentTypeUID,field:name,data:modifiedData});case 6:_yield$axiosInstance$=_context.sent;data=_yield$axiosInstance$.data.data;onChange({target:{name:name,value:data,type:'text'}},shouldSetInitialValue);setIsLoading(false);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context["catch"](3);console.error({err:_context.t0});setIsLoading(false);case 16:case"end":return _context.stop();}}},_callee,null,[[3,12]]);}));var checkAvailability=/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){var requestURL,_yield$axiosInstance$2,data;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setIsLoading(true);requestURL=(0,_utils2.getRequestUrl)('uid/check-availability');if(value){_context2.next=4;break;}return _context2.abrupt("return");case 4:_context2.prev=4;_context2.next=7;return _utils.axiosInstance.post(requestURL,{contentTypeUID:contentTypeUID,field:name,value:value?value.trim():''});case 7:_yield$axiosInstance$2=_context2.sent;data=_yield$axiosInstance$2.data;setAvailability(data);setIsLoading(false);_context2.next=17;break;case 13:_context2.prev=13;_context2.t0=_context2["catch"](4);console.error({err:_context2.t0});setIsLoading(false);case 17:case"end":return _context2.stop();}}},_callee2,null,[[4,13]]);}));return function checkAvailability(){return _ref3.apply(this,arguments);};}();// // FIXME: we need to find a better way to autofill the input when it is required.
(0,_react.useEffect)(function(){if(!value&&attribute.required){generateUid.current(true);}// eslint-disable-next-line react-hooks/exhaustive-deps
},[]);(0,_react.useEffect)(function(){if(debouncedValue&&debouncedValue.trim().match(_regex["default"])&&debouncedValue!==initialValue&&!value){checkAvailability();}if(!debouncedValue){setAvailability(null);}// eslint-disable-next-line react-hooks/exhaustive-deps
},[debouncedValue,initialValue]);(0,_react.useEffect)(function(){var timer;if(availability&&availability.isAvailable){timer=setTimeout(function(){setAvailability(null);},4000);}return function(){if(timer){clearTimeout(timer);}};},[availability]);(0,_react.useEffect)(function(){if(!isCustomized&&isCreation&&debouncedTargetFieldValue&&modifiedData[attribute.targetField]&&!value){generateUid.current(true);}// eslint-disable-next-line react-hooks/exhaustive-deps
},[debouncedTargetFieldValue,isCustomized,isCreation]);var handleGenerateMouseEnter=function handleGenerateMouseEnter(){setRegenerateLabel(formatMessage({id:'content-manager.components.uid.regenerate',defaultMessage:'Regenerate'}));};var handleGenerateMouseLeave=function handleGenerateMouseLeave(){setRegenerateLabel(null);};var handleChange=function handleChange(e){if(e.target.value&&isCreation){setIsCustomized(true);}onChange(e);};var formattedError=error?formatMessage({id:error,defaultMessage:error}):undefined;return/*#__PURE__*/_react["default"].createElement(_TextInput.TextInput,{disabled:disabled,error:formattedError,endAction:/*#__PURE__*/_react["default"].createElement(_endActionStyle.EndActionWrapper,null,availability&&availability.isAvailable&&!regenerateLabel&&/*#__PURE__*/_react["default"].createElement(_endActionStyle.TextValidation,{alignItems:"center",justifyContent:"flex-end"},/*#__PURE__*/_react["default"].createElement(_CheckCircle["default"],null),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"success600",variant:"pi"},formatMessage({id:'content-manager.components.uid.available',defaultMessage:'Available'}))),availability&&!availability.isAvailable&&!regenerateLabel&&/*#__PURE__*/_react["default"].createElement(_endActionStyle.TextValidation,{notAvailable:true,alignItems:"center",justifyContent:"flex-end"},/*#__PURE__*/_react["default"].createElement(_ExclamationMarkCircle["default"],null),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"danger600",variant:"pi"},formatMessage({id:'content-manager.components.uid.unavailable',defaultMessage:'Unavailable'}))),regenerateLabel&&/*#__PURE__*/_react["default"].createElement(_endActionStyle.TextValidation,{alignItems:"center",justifyContent:"flex-end"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"primary600",variant:"pi"},regenerateLabel)),/*#__PURE__*/_react["default"].createElement(_endActionStyle.FieldActionWrapper,{onClick:function onClick(){return generateUid.current();},label:"regenerate",onMouseEnter:handleGenerateMouseEnter,onMouseLeave:handleGenerateMouseLeave},isLoading?/*#__PURE__*/_react["default"].createElement(_endActionStyle.LoadingWrapper,null,/*#__PURE__*/_react["default"].createElement(_Loader["default"],null)):/*#__PURE__*/_react["default"].createElement(_Refresh["default"],null))),hint:hint,label:label,labelAction:labelAction,name:name,onChange:handleChange,placeholder:formattedPlaceholder,value:value||''});};InputUID.propTypes={attribute:_propTypes["default"].shape({targetField:_propTypes["default"].string,required:_propTypes["default"].bool}).isRequired,contentTypeUID:_propTypes["default"].string.isRequired,description:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),disabled:_propTypes["default"].bool,error:_propTypes["default"].string,intlLabel:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}).isRequired,labelAction:_propTypes["default"].element,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,value:_propTypes["default"].string,placeholder:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object})};InputUID.defaultProps={description:undefined,disabled:false,error:undefined,labelAction:undefined,placeholder:undefined,value:''};var _default=InputUID;exports.default=_default;

/***/ }),

/***/ 74665:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var UID_REGEX=new RegExp(/^[A-Za-z0-9-_.~]*$/);var _default=UID_REGEX;exports.default=_default;

/***/ }),

/***/ 9730:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=__webpack_require__(67294);var useDebounce=function useDebounce(value,delay){var _useState=(0,_react.useState)(value),_useState2=(0,_slicedToArray2["default"])(_useState,2),debouncedValue=_useState2[0],setDebouncedValue=_useState2[1];(0,_react.useEffect)(function(){var handler=setTimeout(function(){setDebouncedValue(value);},delay);return function(){clearTimeout(handler);};},[value,delay]);return debouncedValue;};var _default=useDebounce;exports.default=_default;

/***/ }),

/***/ 15141:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _extends2=_interopRequireDefault(__webpack_require__(67154));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _get=_interopRequireDefault(__webpack_require__(27361));var _omit=_interopRequireDefault(__webpack_require__(57557));var _take=_interopRequireDefault(__webpack_require__(69572));var _reactFastCompare=_interopRequireDefault(__webpack_require__(39918));var _helperPlugin=__webpack_require__(68547);var _hooks=__webpack_require__(14772);var _utils=__webpack_require__(28564);var _Wysiwyg=_interopRequireDefault(__webpack_require__(50424));var _InputJSON=_interopRequireDefault(__webpack_require__(80989));var _InputUID=_interopRequireDefault(__webpack_require__(95414));var _SelectWrapper=_interopRequireDefault(__webpack_require__(54865));var _utils2=__webpack_require__(80434);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function Inputs(_ref){var allowedFields=_ref.allowedFields,fieldSchema=_ref.fieldSchema,formErrors=_ref.formErrors,isCreatingEntry=_ref.isCreatingEntry,keys=_ref.keys,labelAction=_ref.labelAction,metadatas=_ref.metadatas,onChange=_ref.onChange,readableFields=_ref.readableFields,shouldNotRunValidations=_ref.shouldNotRunValidations,queryInfos=_ref.queryInfos,value=_ref.value;var _useLibrary=(0,_helperPlugin.useLibrary)(),fields=_useLibrary.fields;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useContentTypeLayout=(0,_hooks.useContentTypeLayout)(),currentContentTypeLayout=_useContentTypeLayout.contentType;var disabled=(0,_react.useMemo)(function(){return!(0,_get["default"])(metadatas,'editable',true);},[metadatas]);var type=fieldSchema.type;var errorId=(0,_react.useMemo)(function(){return(0,_get["default"])(formErrors,[keys,'id'],null);},[formErrors,keys]);var fieldName=(0,_react.useMemo)(function(){return(0,_utils.getFieldName)(keys);},[keys]);var validations=(0,_react.useMemo)(function(){var inputValidations=(0,_omit["default"])(fieldSchema,shouldNotRunValidations?[].concat((0,_toConsumableArray2["default"])(_utils2.VALIDATIONS_TO_OMIT),['required','minLength']):_utils2.VALIDATIONS_TO_OMIT);var regexpString=fieldSchema.regex||null;if(regexpString){var regexp=new RegExp(regexpString);if(regexp){inputValidations.regex=regexp;}}return inputValidations;},[fieldSchema,shouldNotRunValidations]);var isRequired=(0,_react.useMemo)(function(){return(0,_get["default"])(validations,['required'],false);},[validations]);var isChildOfDynamicZone=(0,_react.useMemo)(function(){var attributes=(0,_get["default"])(currentContentTypeLayout,['attributes'],{});var foundAttributeType=(0,_get["default"])(attributes,[fieldName[0],'type'],null);return foundAttributeType==='dynamiczone';},[currentContentTypeLayout,fieldName]);var inputType=(0,_react.useMemo)(function(){return(0,_utils2.getInputType)(type);},[type]);var inputValue=(0,_react.useMemo)(function(){// Fix for input file multipe
if(type==='media'&&!value){return[];}return value;},[type,value]);var step=(0,_react.useMemo)(function(){return(0,_utils2.getStep)(type);},[type]);var isUserAllowedToEditField=(0,_react.useMemo)(function(){var joinedName=fieldName.join('.');if(allowedFields.includes(joinedName)){return true;}if(isChildOfDynamicZone){return allowedFields.includes(fieldName[0]);}var isChildOfComponent=fieldName.length>1;if(isChildOfComponent){var parentFieldName=(0,_take["default"])(fieldName,fieldName.length-1).join('.');return allowedFields.includes(parentFieldName);}return false;},[allowedFields,fieldName,isChildOfDynamicZone]);var isUserAllowedToReadField=(0,_react.useMemo)(function(){var joinedName=fieldName.join('.');if(readableFields.includes(joinedName)){return true;}if(isChildOfDynamicZone){return readableFields.includes(fieldName[0]);}var isChildOfComponent=fieldName.length>1;if(isChildOfComponent){var parentFieldName=(0,_take["default"])(fieldName,fieldName.length-1).join('.');return readableFields.includes(parentFieldName);}return false;},[readableFields,fieldName,isChildOfDynamicZone]);var shouldDisplayNotAllowedInput=(0,_react.useMemo)(function(){return isUserAllowedToReadField||isUserAllowedToEditField;},[isUserAllowedToEditField,isUserAllowedToReadField]);var shouldDisableField=(0,_react.useMemo)(function(){if(!isCreatingEntry){var doesNotHaveRight=isUserAllowedToReadField&&!isUserAllowedToEditField;if(doesNotHaveRight){return true;}return disabled;}return disabled;},[disabled,isCreatingEntry,isUserAllowedToEditField,isUserAllowedToReadField]);var options=(0,_react.useMemo)(function(){return(0,_utils2.generateOptions)(fieldSchema["enum"]||[],isRequired);},[fieldSchema,isRequired]);var label=metadatas.label,description=metadatas.description,placeholder=metadatas.placeholder,visible=metadatas.visible;if(visible===false){return null;}if(!shouldDisplayNotAllowedInput){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.NotAllowedInput,{description:description?{id:description,defaultMessage:description}:null,intlLabel:{id:label,defaultMessage:label},labelAction:labelAction,error:errorId,name:keys,required:isRequired});}if(type==='relation'){return/*#__PURE__*/_react["default"].createElement(_SelectWrapper["default"],(0,_extends2["default"])({},metadatas,fieldSchema,{description:metadatas.description?formatMessage({id:metadatas.description,defaultMessage:metadatas.description}):undefined,intlLabel:{id:metadatas.label,defaultMessage:metadatas.label},labelAction:labelAction,isUserAllowedToEditField:isUserAllowedToEditField,isUserAllowedToReadField:isUserAllowedToReadField,name:keys,placeholder:metadatas.placeholder?{id:metadatas.placeholder,defaultMessage:metadatas.placeholder}:null,queryInfos:queryInfos,value:value}));}return/*#__PURE__*/_react["default"].createElement(_helperPlugin.GenericInput,{attribute:fieldSchema,autoComplete:"new-password",intlLabel:{id:label,defaultMessage:label},description:description?{id:description,defaultMessage:description}:null,disabled:shouldDisableField,error:errorId,labelAction:labelAction,contentTypeUID:currentContentTypeLayout.uid,customInputs:_objectSpread({json:_InputJSON["default"],uid:_InputUID["default"],media:fields.media,wysiwyg:_Wysiwyg["default"]},fields),multiple:fieldSchema.multiple||false,name:keys,onChange:onChange,options:options,placeholder:placeholder?{id:placeholder,defaultMessage:placeholder}:null,required:fieldSchema.required||false,step:step,type:inputType// validations={validations}
,value:inputValue,withDefaultValue:false});}Inputs.defaultProps={formErrors:{},labelAction:undefined,queryInfos:{},value:null};Inputs.propTypes={allowedFields:_propTypes["default"].array.isRequired,fieldSchema:_propTypes["default"].object.isRequired,formErrors:_propTypes["default"].object,keys:_propTypes["default"].string.isRequired,isCreatingEntry:_propTypes["default"].bool.isRequired,labelAction:_propTypes["default"].element,metadatas:_propTypes["default"].object.isRequired,onChange:_propTypes["default"].func.isRequired,readableFields:_propTypes["default"].array.isRequired,shouldNotRunValidations:_propTypes["default"].bool.isRequired,queryInfos:_propTypes["default"].shape({containsKey:_propTypes["default"].string,defaultParams:_propTypes["default"].object,endPoint:_propTypes["default"].string}),value:_propTypes["default"].any};var Memoized=/*#__PURE__*/(0,_react.memo)(Inputs,_reactFastCompare["default"]);var _default=(0,_utils2.connect)(Memoized,_utils2.select);exports.default=_default;

/***/ }),

/***/ 3160:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var validationsToOmit=['type','model','via','collection','default','plugin','enum','regex','pluginOptions'];var _default=validationsToOmit;exports.default=_default;

/***/ }),

/***/ 57781:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props.keys);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports.default=_default;

/***/ }),

/***/ 28080:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var generateOptions=function generateOptions(options){var isRequired=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return[{metadatas:{intlLabel:{id:'components.InputSelect.option.placeholder',defaultMessage:'Choose here'},disabled:isRequired,hidden:isRequired},key:'__enum_option_null',value:''}].concat((0,_toConsumableArray2["default"])(options.map(function(option){return{metadatas:{intlLabel:{id:option,defaultMessage:option},hidden:false,disabled:false},key:option,value:option};})));};var _default=generateOptions;exports.default=_default;

/***/ }),

/***/ 48986:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var getInputType=function getInputType(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';switch((0,_lodash.toLower)(type)){case'boolean':return'bool';case'biginteger':return'text';case'decimal':case'float':case'integer':return'number';case'date':case'datetime':case'time':return type;case'email':return'email';case'enumeration':return'select';case'password':return'password';case'string':return'text';case'text':return'textarea';case'media':case'file':case'files':return'media';case'json':return'json';case'wysiwyg':case'WYSIWYG':case'richtext':return'wysiwyg';case'uid':return'uid';default:return type||'text';}};var _default=getInputType;exports.default=_default;

/***/ }),

/***/ 12994:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var getStep=function getStep(type){var step;if(type==='float'||type==='decimal'){step=0.01;}else if(type==='time'||type==='datetime'){// Since we cannot set a value that is not in the list of the time picker, we need to set the step to 1
// TODO: Fix the timepicker in order to be able to set any value regardless of the list
step=1;}else{step=1;}return step;};var _default=getStep;exports.default=_default;

/***/ }),

/***/ 80434:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "VALIDATIONS_TO_OMIT", ({enumerable:true,get:function get(){return _VALIDATIONS_TO_OMIT["default"];}}));Object.defineProperty(exports, "connect", ({enumerable:true,get:function get(){return _connect["default"];}}));Object.defineProperty(exports, "generateOptions", ({enumerable:true,get:function get(){return _generateOptions["default"];}}));Object.defineProperty(exports, "getInputType", ({enumerable:true,get:function get(){return _getInputType["default"];}}));Object.defineProperty(exports, "getStep", ({enumerable:true,get:function get(){return _getStep["default"];}}));Object.defineProperty(exports, "select", ({enumerable:true,get:function get(){return _select["default"];}}));var _connect=_interopRequireDefault(__webpack_require__(57781));var _generateOptions=_interopRequireDefault(__webpack_require__(28080));var _getInputType=_interopRequireDefault(__webpack_require__(48986));var _getStep=_interopRequireDefault(__webpack_require__(12994));var _select=_interopRequireDefault(__webpack_require__(57319));var _VALIDATIONS_TO_OMIT=_interopRequireDefault(__webpack_require__(3160));

/***/ }),

/***/ 57319:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var _lodash=__webpack_require__(96486);var _helperPlugin=__webpack_require__(68547);function useSelect(keys){var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),createActionAllowedFields=_useCMEditViewDataMan.createActionAllowedFields,formErrors=_useCMEditViewDataMan.formErrors,isCreatingEntry=_useCMEditViewDataMan.isCreatingEntry,modifiedData=_useCMEditViewDataMan.modifiedData,onChange=_useCMEditViewDataMan.onChange,readActionAllowedFields=_useCMEditViewDataMan.readActionAllowedFields,shouldNotRunValidations=_useCMEditViewDataMan.shouldNotRunValidations,updateActionAllowedFields=_useCMEditViewDataMan.updateActionAllowedFields;var allowedFields=(0,_react.useMemo)(function(){return isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;},[isCreatingEntry,createActionAllowedFields,updateActionAllowedFields]);var readableFields=(0,_react.useMemo)(function(){return isCreatingEntry?[]:readActionAllowedFields;},[isCreatingEntry,readActionAllowedFields]);var value=(0,_lodash.get)(modifiedData,keys,null);return{allowedFields:allowedFields,formErrors:formErrors,isCreatingEntry:isCreatingEntry,onChange:onChange,readableFields:readableFields,shouldNotRunValidations:shouldNotRunValidations,value:value};}var _default=useSelect;exports.default=_default;

/***/ }),

/***/ 95758:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _LayoutDnd=_interopRequireDefault(__webpack_require__(22869));var _excluded=["attributes","buttonData","children","goTo","layout","metadatas","moveItem","moveRow","onAddData","relationsLayout","removeField","selectedItemName","setEditFieldToSelect"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function LayoutDndProvider(_ref){var attributes=_ref.attributes,buttonData=_ref.buttonData,children=_ref.children,goTo=_ref.goTo,layout=_ref.layout,metadatas=_ref.metadatas,moveItem=_ref.moveItem,moveRow=_ref.moveRow,onAddData=_ref.onAddData,relationsLayout=_ref.relationsLayout,removeField=_ref.removeField,selectedItemName=_ref.selectedItemName,setEditFieldToSelect=_ref.setEditFieldToSelect,rest=(0,_objectWithoutProperties2["default"])(_ref,_excluded);return/*#__PURE__*/_react["default"].createElement(_LayoutDnd["default"].Provider,{value:_objectSpread({attributes:attributes,buttonData:buttonData,goTo:goTo,layout:layout,metadatas:metadatas,moveItem:moveItem,moveRow:moveRow,onAddData:onAddData,relationsLayout:relationsLayout,removeField:removeField,selectedItemName:selectedItemName,setEditFieldToSelect:setEditFieldToSelect},rest)},children);}LayoutDndProvider.defaultProps={attributes:{},buttonData:[],goTo:function goTo(){},layout:[],metadatas:{},moveItem:function moveItem(){},moveRow:function moveRow(){},onAddData:function onAddData(){},relationsLayout:[],removeField:function removeField(){},selectedItemName:null,setEditFieldToSelect:function setEditFieldToSelect(){}};LayoutDndProvider.propTypes={attributes:_propTypes["default"].object,buttonData:_propTypes["default"].array,children:_propTypes["default"].node.isRequired,goTo:_propTypes["default"].func,layout:_propTypes["default"].array,metadatas:_propTypes["default"].object,moveItem:_propTypes["default"].func,moveRow:_propTypes["default"].func,onAddData:_propTypes["default"].func,relationsLayout:_propTypes["default"].array,removeField:_propTypes["default"].func,selectedItemName:_propTypes["default"].string,setEditFieldToSelect:_propTypes["default"].func};var _default=LayoutDndProvider;exports.default=_default;

/***/ }),

/***/ 13269:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _Grid=__webpack_require__(34626);var _Stack=__webpack_require__(9008);var _hooks=__webpack_require__(14772);var _FieldComponent=_interopRequireDefault(__webpack_require__(49925));var _Inputs=_interopRequireDefault(__webpack_require__(15141));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}/* eslint-disable react/no-array-index-key */ /* eslint-disable import/no-cycle */var NonRepeatableComponent=function NonRepeatableComponent(_ref){var componentUid=_ref.componentUid,isFromDynamicZone=_ref.isFromDynamicZone,isNested=_ref.isNested,name=_ref.name;var _useContentTypeLayout=(0,_hooks.useContentTypeLayout)(),getComponentLayout=_useContentTypeLayout.getComponentLayout;var componentLayoutData=(0,_react.useMemo)(function(){return getComponentLayout(componentUid);},[componentUid,getComponentLayout]);var fields=componentLayoutData.layouts.edit;return/*#__PURE__*/_react["default"].createElement(_Box.Box,{background:isFromDynamicZone?'':'neutral100',paddingLeft:6,paddingRight:6,paddingTop:6,paddingBottom:6,hasRadius:isNested,borderColor:isNested?'neutral200':''},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:6},fields.map(function(fieldRow,key){return/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4,key:key},fieldRow.map(function(_ref2){var fieldName=_ref2.name,size=_ref2.size,metadatas=_ref2.metadatas,fieldSchema=_ref2.fieldSchema,queryInfos=_ref2.queryInfos;var isComponent=fieldSchema.type==='component';var keys="".concat(name,".").concat(fieldName);if(isComponent){var compoUid=fieldSchema.component;return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:size,s:12,xs:12,key:fieldName},/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{componentUid:compoUid,intlLabel:{id:metadatas.label,defaultMessage:metadatas.label},isNested:true,isRepeatable:fieldSchema.repeatable,max:fieldSchema.max,min:fieldSchema.min,name:keys,required:fieldSchema.required||false}));}return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:size,key:fieldName,s:12,xs:12},/*#__PURE__*/_react["default"].createElement(_Inputs["default"],{keys:keys,fieldSchema:fieldSchema,metadatas:metadatas,queryInfos:queryInfos}));}));})));};NonRepeatableComponent.defaultProps={isFromDynamicZone:false,isNested:false};NonRepeatableComponent.propTypes={componentUid:_propTypes["default"].string.isRequired,isFromDynamicZone:_propTypes["default"].bool,isNested:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired};var _default=NonRepeatableComponent;exports.default=_default;

/***/ }),

/***/ 92150:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var Wrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"Wrapper",componentId:"sc-1dz4vrk-0"})(["position:absolute;top:0;width:100%;height:100%;overflow:auto;padding:",";font-size:","rem;background-color:",";z-index:2;cursor:not-allowed;color:",";h1,h2,h3,h4,h5,h6{margin-block-start:10px;margin-block-end:10px;}h1{font-size:","rem;font-weight:600;}h2{font-size:","rem;font-weight:500;}h3{font-size:","rem;font-weight:500;}h4{font-size:","rem;font-weight:500;}strong{font-weight:800;}blockquote{margin-top:41px;margin-bottom:34px;font-size:","rem;font-weight:400;border-left:5px solid #eee;font-style:italic;padding:10px 20px;}img{max-width:100%;}table{font-size:13px;thead{background:rgb(243,243,243);tr{height:43px;}}tr{border:1px solid #c6cbd1;}th,td{padding:0 25px;border:1px solid #c6cbd1;border-bottom:0;border-top:0;}tbody{tr{height:54px;}}}pre,code{font-size:13px;border-radius:3px;background-color:#002b36;}p,pre,td{> code{color:#839496;}}.warning{background-color:#faa684;padding:30px;border-radius:3px;}.tip{padding:30px;border-radius:3px;}.footnote-ref,.footnote-backref{color:#007bff;}ol{list-style-type:decimal;margin-block-start:",";margin-block-end:",";margin-inline-start:0px;margin-inline-end:0px;padding-inline-start:",";ol,ul{margin-block-start:0px;margin-block-end:0px;}}ul{list-style-type:disc;margin-block-start:",";margin-block-end:",";margin-inline-start:0px;margin-inline-end:0px;padding-inline-start:",";ul,ol{margin-block-start:0px;margin-block-end:0px;}}"],function(_ref){var theme=_ref.theme;return"".concat(theme.spaces[3]," ").concat(theme.spaces[4]);},14/16,function(_ref2){var theme=_ref2.theme;return theme.colors.neutral0;},function(_ref3){var theme=_ref3.theme;return theme.colors.neutral800;},36/16,30/16,24/16,20/16,14/16,function(_ref4){var theme=_ref4.theme;return theme.spaces[4];},function(_ref5){var theme=_ref5.theme;return theme.spaces[4];},function(_ref6){var theme=_ref6.theme;return theme.spaces[4];},function(_ref7){var theme=_ref7.theme;return theme.spaces[4];},function(_ref8){var theme=_ref8.theme;return theme.spaces[4];},function(_ref9){var theme=_ref9.theme;return theme.spaces[4];});var _default=Wrapper;exports.default=_default;

/***/ }),

/***/ 76957:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _mdRenderer=_interopRequireDefault(__webpack_require__(50183));var _satinizeHtml=_interopRequireDefault(__webpack_require__(66814));var _Wrapper=_interopRequireDefault(__webpack_require__(92150));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}/* eslint-disable react/no-danger */ /**
 *
 * PreviewWysiwyg
 *
 */var PreviewWysiwyg=function PreviewWysiwyg(_ref){var data=_ref.data;var html=(0,_react.useMemo)(function(){return(0,_satinizeHtml["default"])(_mdRenderer["default"].render(data||''));},[data]);return/*#__PURE__*/_react["default"].createElement(_Wrapper["default"],null,/*#__PURE__*/_react["default"].createElement("div",{dangerouslySetInnerHTML:{__html:html}}));};PreviewWysiwyg.defaultProps={data:''};PreviewWysiwyg.propTypes={data:_propTypes["default"].string};var _default=/*#__PURE__*/(0,_react.memo)(PreviewWysiwyg);exports.default=_default;

/***/ }),

/***/ 50183:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _markdownIt=_interopRequireDefault(__webpack_require__(9980));var _highlight2=__webpack_require__(77869);var _markdownItAbbr=_interopRequireDefault(__webpack_require__(79411));var _markdownItContainer=_interopRequireDefault(__webpack_require__(40591));var _markdownItDeflist=_interopRequireDefault(__webpack_require__(30645));var _markdownItEmoji=_interopRequireDefault(__webpack_require__(46635));var _markdownItFootnote=_interopRequireDefault(__webpack_require__(52384));var _markdownItIns=_interopRequireDefault(__webpack_require__(44266));var _markdownItMark=_interopRequireDefault(__webpack_require__(94574));var _markdownItSub=_interopRequireDefault(__webpack_require__(40700));var _markdownItSup=_interopRequireDefault(__webpack_require__(97003));/* eslint-disable prefer-template */var loadCss=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(/* import() | highlight.js */ 7347).then(__webpack_require__.bind(__webpack_require__, 24840));case 2:case"end":return _context.stop();}}},_callee);}));return function loadCss(){return _ref.apply(this,arguments);};}();loadCss();var md=new _markdownIt["default"]({html:true,// Enable HTML tags in source
xhtmlOut:false,breaks:false,langPrefix:'language-',linkify:true,typographer:true,// Code from: https://github.com/markdown-it/markdown-it/blob/master/support/demo_template/index.js#L83
highlight:function highlight(str,lang){if(lang&&lang!=='auto'&&(0,_highlight2.getLanguage)(lang)){return'<pre class="hljs language-'+md.utils.escapeHtml(lang.toLowerCase())+'"><code>'+(0,_highlight2.highlight)(lang,str,true).value+'</code></pre>';}if(lang==='auto'){var result=(0,_highlight2.highlightAuto)(str);return'<pre class="hljs language-'+md.utils.escapeHtml(result.language)+'"><code>'+result.value+'</code></pre>';}return'<pre class="hljs"><code>'+md.utils.escapeHtml(str)+'</code></pre>';}}).use(_markdownItAbbr["default"]).use(_markdownItContainer["default"],'warning').use(_markdownItContainer["default"],'tip').use(_markdownItDeflist["default"]).use(_markdownItEmoji["default"]).use(_markdownItFootnote["default"]).use(_markdownItIns["default"]).use(_markdownItMark["default"]).use(_markdownItSub["default"]).use(_markdownItSup["default"]);// Code from: https://github.com/markdown-it/markdown-it-footnote/blob/master/index.js#L29
md.renderer.rules.footnote_ref=function(tokens,idx,options,env,slf){var caption=slf.rules.footnote_caption(tokens,idx,options,env,slf);return'<sup class="footnote-ref"><span>'+caption+'</span></sup>';};md.renderer.rules.footnote_anchor=function(){/*  with escape code to prevent display as Apple Emoji on iOS */return" <span class=\"footnote-backref\">\u21A9\uFE0E</span>";};var _default=md;exports.default=_default;

/***/ }),

/***/ 66814:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _sanitizeHtml=_interopRequireDefault(__webpack_require__(91036));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}// Options for the lib can be found here https://www.npmjs.com/package/sanitize-html
var options=_objectSpread(_objectSpread({},_sanitizeHtml["default"].defaults),{},{allowedTags:false,allowedAttributes:{'*':['href','align','alt','center','width','height','type','controls','target'],img:['src','alt'],source:['src','type']}});var clean=function clean(dirty){return(0,_sanitizeHtml["default"])(dirty,options);};var _default=clean;exports.default=_default;

/***/ }),

/***/ 60977:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Box=__webpack_require__(5493);var _Typography=__webpack_require__(49425);var _Flex=__webpack_require__(67826);var _KeyboardNavigable=__webpack_require__(65967);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var AccordionFooter=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"AccordionGroupCustom__AccordionFooter",componentId:"pcvz8-0"})(["overflow:hidden;border-bottom:1px solid ",";border-right:1px solid ",";border-left:1px solid ",";border-radius:0 0 "," ",";"],function(_ref){var theme=_ref.theme;return theme.colors.neutral200;},function(_ref2){var theme=_ref2.theme;return theme.colors.neutral200;},function(_ref3){var theme=_ref3.theme;return theme.colors.neutral200;},function(_ref4){var theme=_ref4.theme;return theme.borderRadius;},function(_ref5){var theme=_ref5.theme;return theme.borderRadius;});var EnhancedGroup=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"AccordionGroupCustom__EnhancedGroup",componentId:"pcvz8-1"})(["> div{& > *{border-radius:unset;border-right:1px solid ",";border-left:1px solid ",";border-bottom:1px solid ",";}> div{> div:first-of-type{border-radius:unset;}}}> div:first-of-type{> div{border-radius:"," "," 0 0;> div:first-of-type{border-radius:"," "," 0 0;}}> div:not([data-strapi-expanded='true']){border-top:1px solid ",";&:hover{border-top:1px solid ",";}}> span{border-radius:"," "," 0 0;border-top:1px solid ",";}}& [data-strapi-expanded='true']{border:1px solid ",";}",""],function(_ref6){var theme=_ref6.theme;return theme.colors.neutral200;},function(_ref7){var theme=_ref7.theme;return theme.colors.neutral200;},function(_ref8){var theme=_ref8.theme;return theme.colors.neutral200;},function(_ref9){var theme=_ref9.theme;return theme.borderRadius;},function(_ref10){var theme=_ref10.theme;return theme.borderRadius;},function(_ref11){var theme=_ref11.theme;return theme.borderRadius;},function(_ref12){var theme=_ref12.theme;return theme.borderRadius;},function(_ref13){var theme=_ref13.theme;return theme.colors.neutral200;},function(_ref14){var theme=_ref14.theme;return theme.colors.primary600;},function(_ref15){var theme=_ref15.theme;return theme.borderRadius;},function(_ref16){var theme=_ref16.theme;return theme.borderRadius;},function(_ref17){var theme=_ref17.theme;return theme.colors.neutral200;},function(_ref18){var theme=_ref18.theme;return theme.colors.primary600;},function(_ref19){var theme=_ref19.theme,footer=_ref19.footer;return"\n    &:not(".concat(footer,") {\n      & > *:last-of-type {\n        border-radius: 0 0 ").concat(theme.borderRadius," ").concat(theme.borderRadius,";\n      }\n    }\n  ");});var LabelAction=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"AccordionGroupCustom__LabelAction",componentId:"pcvz8-2"})(["svg path{fill:",";}"],function(_ref20){var theme=_ref20.theme;return theme.colors.neutral500;});var AccordionGroupCustom=function AccordionGroupCustom(_ref21){var children=_ref21.children,footer=_ref21.footer,label=_ref21.label,labelAction=_ref21.labelAction,error=_ref21.error;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var childrenArray=_react.Children.toArray(children).map(function(child){return/*#__PURE__*/(0,_react.cloneElement)(child,{hasErrorMessage:false});});return/*#__PURE__*/_react["default"].createElement(_KeyboardNavigable.KeyboardNavigable,{attributeName:"data-strapi-accordion-toggle"},label&&/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{paddingBottom:1},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{as:"label",textColor:"neutral800",variant:"pi",fontWeight:"bold"},label),labelAction&&/*#__PURE__*/_react["default"].createElement(LabelAction,{paddingLeft:1},labelAction)),/*#__PURE__*/_react["default"].createElement(EnhancedGroup,{footer:footer},childrenArray),footer&&/*#__PURE__*/_react["default"].createElement(AccordionFooter,null,footer),error&&/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:1},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",textColor:"danger600"},formatMessage({id:error.id,defaultMessage:error.defaultMessage},error.values))));};AccordionGroupCustom.defaultProps={error:undefined,footer:null,label:null,labelAction:undefined};AccordionGroupCustom.propTypes={children:_propTypes["default"].node.isRequired,error:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),footer:_propTypes["default"].node,label:_propTypes["default"].string,labelAction:_propTypes["default"].node};var _default=AccordionGroupCustom;exports.default=_default;

/***/ }),

/***/ 65506:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _helperPlugin=__webpack_require__(68547);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _IconButton=__webpack_require__(30741);var _Trash=_interopRequireDefault(__webpack_require__(18568));var _Drag=_interopRequireDefault(__webpack_require__(88049));var _CarretDown=_interopRequireDefault(__webpack_require__(99962));var DragPreviewBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"DragPreview__DragPreviewBox",componentId:"sc-63x7ge-0"})(["border:1px solid ",";"],function(_ref){var theme=_ref.theme;return theme.colors.neutral200;});var DropdownIconWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"DragPreview__DropdownIconWrapper",componentId:"sc-63x7ge-1"})(["height:","rem;width:","rem;border-radius:50%;display:flex;align-items:center;justify-content:center;svg{height:","rem;width:","rem;> path{fill:",";}}"],32/16,32/16,6/16,11/16,function(_ref2){var theme=_ref2.theme;return theme.colors.neutral600;});var ToggleButton=/*#__PURE__*/_styledComponents["default"].button.withConfig({displayName:"DragPreview__ToggleButton",componentId:"sc-63x7ge-2"})(["border:none;background:transparent;display:block;width:100%;text-align:unset;padding:0;"]);var DragPreview=function DragPreview(_ref3){var displayedValue=_ref3.displayedValue;return/*#__PURE__*/_react["default"].createElement(DragPreviewBox,{paddingLeft:3,paddingRight:3,paddingTop:3,paddingBottom:3,hasRadius:true,background:"neutral0",width:(0,_helperPlugin.pxToRem)(300)},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(ToggleButton,{type:"button"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(DropdownIconWrapper,{background:"neutral200"},/*#__PURE__*/_react["default"].createElement(_CarretDown["default"],null)),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:6,maxWidth:(0,_helperPlugin.pxToRem)(150)},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"neutral700",ellipsis:true},displayedValue)))),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:3},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_IconButton.IconButton,{icon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null)}),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:2},/*#__PURE__*/_react["default"].createElement(_IconButton.IconButton,{icon:/*#__PURE__*/_react["default"].createElement(_Drag["default"],null)}))))));};DragPreview.propTypes={displayedValue:_propTypes["default"].string.isRequired};var _default=DragPreview;exports.default=_default;

/***/ }),

/***/ 17407:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Stack=__webpack_require__(9008);var _Flex=__webpack_require__(67826);var _TextButton=__webpack_require__(83662);var _Icon=__webpack_require__(15804);var _Typography=__webpack_require__(49425);var _Trash=_interopRequireDefault(__webpack_require__(18568));var _Drag=_interopRequireDefault(__webpack_require__(88049));var _CarretDown=_interopRequireDefault(__webpack_require__(99962));var _IconButtonCustoms=__webpack_require__(57061);var SiblingWrapper=/*#__PURE__*/_styledComponents["default"].span.withConfig({displayName:"DraggingSibling__SiblingWrapper",componentId:"xitlmo-0"})(["display:flex;justify-content:space-between;padding-left:",";padding-right:",";background-color:",";height:","rem;"],function(_ref){var theme=_ref.theme;return theme.spaces[4];},function(_ref2){var theme=_ref2.theme;return theme.spaces[4];},function(_ref3){var theme=_ref3.theme;return theme.colors.neutral0;},50/16);var ToggleButton=/*#__PURE__*/(0,_styledComponents["default"])(_TextButton.TextButton).withConfig({displayName:"DraggingSibling__ToggleButton",componentId:"xitlmo-1"})(["text-align:left;svg{width:","rem;height:","rem;path{fill:",";}}"],14/16,14/16,function(_ref4){var theme=_ref4.theme,expanded=_ref4.expanded;return expanded?theme.colors.primary600:theme.colors.neutral500;});var DraggingSibling=function DraggingSibling(_ref5){var displayedValue=_ref5.displayedValue;return/*#__PURE__*/_react["default"].createElement(SiblingWrapper,null,/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:3,flex:1},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center",borderRadius:"50%",height:"".concat(24/16,"rem}"),width:"".concat(24/16,"rem}"),"aria-hidden":true,as:"span",background:"neutral200"},/*#__PURE__*/_react["default"].createElement(_Icon.Icon,{as:_CarretDown["default"],width:"".concat(8/16,"rem}"),color:"neutral600"})),/*#__PURE__*/_react["default"].createElement(ToggleButton,{onClick:function onClick(){},flex:1},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold",textColor:"neutral700"},displayedValue))),/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:0},/*#__PURE__*/_react["default"].createElement(_IconButtonCustoms.CustomIconButtonSibling,{noBorder:true,onClick:function onClick(){},icon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null)}),/*#__PURE__*/_react["default"].createElement(_IconButtonCustoms.CustomIconButtonSibling,{icon:/*#__PURE__*/_react["default"].createElement(_Drag["default"],null),noBorder:true})));};DraggingSibling.propTypes={displayedValue:_propTypes["default"].string.isRequired};var _default=DraggingSibling;exports.default=_default;

/***/ }),

/***/ 57061:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.DragHandleWrapper=exports.CustomIconButtonSibling=exports.CustomIconButton=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _IconButton=__webpack_require__(30741);var CustomIconButton=/*#__PURE__*/(0,_styledComponents["default"])(_IconButton.IconButton).withConfig({displayName:"IconButtonCustoms__CustomIconButton",componentId:"dz6xvz-0"})(["background-color:transparent;svg{path{fill:",";}}&:hover{svg{path{fill:",";}}}"],function(_ref){var theme=_ref.theme,expanded=_ref.expanded;return expanded?theme.colors.primary600:theme.colors.neutral600;},function(_ref2){var theme=_ref2.theme;return theme.colors.primary600;});exports.CustomIconButton=CustomIconButton;var DragHandleWrapper=/*#__PURE__*/(0,_styledComponents["default"])(CustomIconButton).withConfig({displayName:"IconButtonCustoms__DragHandleWrapper",componentId:"dz6xvz-1"})(["cursor:move;"]);exports.DragHandleWrapper=DragHandleWrapper;var CustomIconButtonSibling=/*#__PURE__*/(0,_styledComponents["default"])(_IconButton.IconButton).withConfig({displayName:"IconButtonCustoms__CustomIconButtonSibling",componentId:"dz6xvz-2"})(["background-color:transparent;svg{path{fill:",";}}"],function(_ref3){var theme=_ref3.theme,expanded=_ref3.expanded;return expanded?theme.colors.primary600:theme.colors.neutral600;});exports.CustomIconButtonSibling=CustomIconButtonSibling;

/***/ }),

/***/ 19566:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var StyledSpan=/*#__PURE__*/_styledComponents["default"].span.withConfig({displayName:"Preview__StyledSpan",componentId:"rdi4ej-0"})(["display:block;background-color:",";outline:1px dashed ",";outline-offset:-1px;padding:",";"],function(_ref){var theme=_ref.theme;return theme.colors.primary100;},function(_ref2){var theme=_ref2.theme;return theme.colors.primary500;},function(_ref3){var theme=_ref3.theme;return theme.spaces[6];});var Preview=function Preview(){return/*#__PURE__*/_react["default"].createElement(StyledSpan,{padding:6,background:"primary100"});};var _default=Preview;exports.default=_default;

/***/ }),

/***/ 9525:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.DraggedItem=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactDnd=__webpack_require__(99168);var _reactDndHtml5Backend=__webpack_require__(61080);var _reactIntl=__webpack_require__(97132);var _toString=_interopRequireDefault(__webpack_require__(79833));var _Accordion=__webpack_require__(96654);var _Grid=__webpack_require__(34626);var _Stack=__webpack_require__(9008);var _Box=__webpack_require__(5493);var _Trash=_interopRequireDefault(__webpack_require__(18568));var _Drag=_interopRequireDefault(__webpack_require__(88049));var _ItemTypes=_interopRequireDefault(__webpack_require__(26135));var _getTrad=_interopRequireDefault(__webpack_require__(36169));var _Inputs=_interopRequireDefault(__webpack_require__(15141));var _FieldComponent=_interopRequireDefault(__webpack_require__(49925));var _Preview=_interopRequireDefault(__webpack_require__(19566));var _DraggingSibling=_interopRequireDefault(__webpack_require__(17407));var _IconButtonCustoms=__webpack_require__(57061);var _utils=__webpack_require__(38122);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}/* eslint-disable import/no-cycle */ /* eslint-disable react/no-array-index-key */ // Issues:
// https://github.com/react-dnd/react-dnd/issues/1368
// https://github.com/frontend-collective/react-sortable-tree/issues/490
var DraggedItem=function DraggedItem(_ref){var componentFieldName=_ref.componentFieldName,hasErrorMessage=_ref.hasErrorMessage,hasErrors=_ref.hasErrors,isDraggingSibling=_ref.isDraggingSibling,isOpen=_ref.isOpen,isReadOnly=_ref.isReadOnly,onClickToggle=_ref.onClickToggle,schema=_ref.schema,toggleCollapses=_ref.toggleCollapses,moveComponentField=_ref.moveComponentField,removeRepeatableField=_ref.removeRepeatableField,setIsDraggingSiblig=_ref.setIsDraggingSiblig,triggerFormValidation=_ref.triggerFormValidation,displayedValue=_ref.displayedValue;var dragRef=(0,_react.useRef)(null);var dropRef=(0,_react.useRef)(null);var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),forceRerenderAfterDnd=_useState2[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var fields=schema.layouts.edit;var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].COMPONENT,canDrop:function canDrop(){return false;},hover:function hover(item,monitor){if(!dropRef.current){return;}var dragPath=item.originalPath;var hoverPath=componentFieldName;var fullPathToComponentArray=dragPath.split('.');var dragIndexString=fullPathToComponentArray.slice().splice(-1).join('');var hoverIndexString=hoverPath.split('.').splice(-1).join('');var pathToComponentArray=fullPathToComponentArray.slice(0,fullPathToComponentArray.length-1);var dragIndex=parseInt(dragIndexString,10);var hoverIndex=parseInt(hoverIndexString,10);// Don't replace items with themselves
// Don't replace items with themselves
if(dragIndex===hoverIndex){return;}// Determine rectangle on screen
// Determine rectangle on screen
var hoverBoundingRect=dropRef.current.getBoundingClientRect();// Get vertical middle
// Get vertical middle
var hoverMiddleY=(hoverBoundingRect.bottom-hoverBoundingRect.top)/2;// Determine mouse position
// Determine mouse position
var clientOffset=monitor.getClientOffset();// Get pixels to the top
// Get pixels to the top
var hoverClientY=clientOffset.y-hoverBoundingRect.top;// Only perform the move when the mouse has crossed half of the items height
// When dragging downwards, only move when the cursor is below 50%
// When dragging upwards, only move when the cursor is above 50%
// Dragging downwards
// Only perform the move when the mouse has crossed half of the items height
// When dragging downwards, only move when the cursor is below 50%
// When dragging upwards, only move when the cursor is above 50%
// Dragging downwards
if(dragIndex<hoverIndex&&hoverClientY<hoverMiddleY){return;}// Dragging upwards
// Dragging upwards
if(dragIndex>hoverIndex&&hoverClientY>hoverMiddleY){return;}// Time to actually perform the action in the data
// Time to actually perform the action in the data
moveComponentField(pathToComponentArray,dragIndex,hoverIndex);item.originalPath=hoverPath;}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var _useDrag=(0,_reactDnd.useDrag)({type:_ItemTypes["default"].COMPONENT,item:function item(){// Close all collapses
toggleCollapses(-1);return{displayedValue:displayedValue,originalPath:componentFieldName};},end:function end(){// Update the errors
triggerFormValidation();setIsDraggingSiblig(false);},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],preview=_useDrag2[2];(0,_react.useEffect)(function(){preview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:false});},[preview]);(0,_react.useEffect)(function(){if(isDragging){setIsDraggingSiblig(true);}},[isDragging,setIsDraggingSiblig]);// Effect in order to force a rerender after reordering the components
// Since we are removing the Accordion when doing the DnD  we are losing the dragRef, therefore the replaced element cannot be dragged
// anymore, this hack forces a rerender in order to apply the dragRef
(0,_react.useEffect)(function(){if(!isDraggingSibling){forceRerenderAfterDnd(function(prev){return!prev;});}},[isDraggingSibling]);// Create the refs
// We need 1 for the drop target
// 1 for the drag target
var refs={dragRef:drag(dragRef),dropRef:drop(dropRef)};var accordionTitle=(0,_toString["default"])(displayedValue);var accordionHasError=hasErrors?'error':undefined;return/*#__PURE__*/_react["default"].createElement(_Box.Box,{ref:refs?refs.dropRef:null},isDragging&&/*#__PURE__*/_react["default"].createElement(_Preview["default"],null),!isDragging&&isDraggingSibling&&/*#__PURE__*/_react["default"].createElement(_DraggingSibling["default"],{displayedValue:accordionTitle,componentFieldName:componentFieldName}),!isDragging&&!isDraggingSibling&&/*#__PURE__*/_react["default"].createElement(_Accordion.Accordion,{error:accordionHasError,hasErrorMessage:hasErrorMessage,expanded:isOpen,toggle:onClickToggle,id:componentFieldName,size:"S"},/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionToggle,{action:isReadOnly?null:/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:0},/*#__PURE__*/_react["default"].createElement(_IconButtonCustoms.CustomIconButton,{expanded:isOpen,noBorder:true,onClick:function onClick(){removeRepeatableField(componentFieldName);toggleCollapses();},label:formatMessage({id:(0,_getTrad["default"])('containers.Edit.delete'),defaultMessage:'Delete'}),icon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null)}),/*#__PURE__*/_react["default"].createElement(_IconButtonCustoms.DragHandleWrapper,{expanded:isOpen,icon:/*#__PURE__*/_react["default"].createElement(_Drag["default"],null),label:formatMessage({id:(0,_getTrad["default"])('components.DragHandle-label'),defaultMessage:'Drag'}),noBorder:true,ref:refs.dragRef})),title:accordionTitle,togglePosition:"left"}),/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionContent,null,/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{background:"neutral100",padding:6,size:6},fields.map(function(fieldRow,key){return/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4,key:key},fieldRow.map(function(_ref2){var name=_ref2.name,fieldSchema=_ref2.fieldSchema,metadatas=_ref2.metadatas,queryInfos=_ref2.queryInfos,size=_ref2.size;var isComponent=fieldSchema.type==='component';var keys="".concat(componentFieldName,".").concat(name);if(isComponent){var componentUid=fieldSchema.component;return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:size,s:12,xs:12,key:name},/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{componentUid:componentUid,intlLabel:{id:metadatas.label,defaultMessage:metadatas.label},isRepeatable:fieldSchema.repeatable,isNested:true,name:keys,max:fieldSchema.max,min:fieldSchema.min,required:fieldSchema.required}));}return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{key:keys,col:size,s:12,xs:12},/*#__PURE__*/_react["default"].createElement(_Inputs["default"],{fieldSchema:fieldSchema,keys:keys,metadatas:metadatas// onBlur={hasErrors ? checkFormErrors : null}
,queryInfos:queryInfos}));}));})))));};exports.DraggedItem=DraggedItem;DraggedItem.defaultProps={isDraggingSibling:false,isOpen:false,setIsDraggingSiblig:function setIsDraggingSiblig(){},toggleCollapses:function toggleCollapses(){}};DraggedItem.propTypes={componentFieldName:_propTypes["default"].string.isRequired,hasErrorMessage:_propTypes["default"].bool.isRequired,hasErrors:_propTypes["default"].bool.isRequired,isDraggingSibling:_propTypes["default"].bool,isOpen:_propTypes["default"].bool,isReadOnly:_propTypes["default"].bool.isRequired,onClickToggle:_propTypes["default"].func.isRequired,schema:_propTypes["default"].object.isRequired,toggleCollapses:_propTypes["default"].func,moveComponentField:_propTypes["default"].func.isRequired,removeRepeatableField:_propTypes["default"].func.isRequired,setIsDraggingSiblig:_propTypes["default"].func,triggerFormValidation:_propTypes["default"].func.isRequired,// checkFormErrors: PropTypes.func.isRequired,
displayedValue:_propTypes["default"].string.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(DraggedItem);var _default=(0,_utils.connect)(Memoized,_utils.select);exports.default=_default;

/***/ }),

/***/ 49972:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));function connect(WrappedComponent,select){return function(props){var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports.default=_default;

/***/ }),

/***/ 38122:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "connect", ({enumerable:true,get:function get(){return _connect["default"];}}));Object.defineProperty(exports, "select", ({enumerable:true,get:function get(){return _select["default"];}}));var _connect=_interopRequireDefault(__webpack_require__(49972));var _select=_interopRequireDefault(__webpack_require__(60257));

/***/ }),

/***/ 60257:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _react=__webpack_require__(67294);var _lodash=__webpack_require__(96486);var _helperPlugin=__webpack_require__(68547);function useSelect(_ref){var schema=_ref.schema,componentFieldName=_ref.componentFieldName;var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),checkFormErrors=_useCMEditViewDataMan.checkFormErrors,modifiedData=_useCMEditViewDataMan.modifiedData,moveComponentField=_useCMEditViewDataMan.moveComponentField,removeRepeatableField=_useCMEditViewDataMan.removeRepeatableField,triggerFormValidation=_useCMEditViewDataMan.triggerFormValidation;var mainField=(0,_react.useMemo)(function(){return(0,_lodash.get)(schema,['settings','mainField'],'id');},[schema]);var displayedValue=(0,_lodash.toString)((0,_lodash.get)(modifiedData,[].concat((0,_toConsumableArray2["default"])(componentFieldName.split('.')),[mainField]),''));return{displayedValue:displayedValue,mainField:mainField,checkFormErrors:checkFormErrors,moveComponentField:moveComponentField,removeRepeatableField:removeRepeatableField,schema:schema,triggerFormValidation:triggerFormValidation};}var _default=useSelect;exports.default=_default;

/***/ }),

/***/ 14832:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.RepeatableComponent=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactDnd=__webpack_require__(99168);var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _get=_interopRequireDefault(__webpack_require__(27361));var _take=_interopRequireDefault(__webpack_require__(69572));var _helperPlugin=__webpack_require__(68547);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _TextButton=__webpack_require__(83662);var _Plus=_interopRequireDefault(__webpack_require__(80768));var _utils=__webpack_require__(28564);var _hooks=__webpack_require__(14772);var _ItemTypes=_interopRequireDefault(__webpack_require__(26135));var _ComponentInitializer=_interopRequireDefault(__webpack_require__(4185));var _connect=_interopRequireDefault(__webpack_require__(44743));var _select=_interopRequireDefault(__webpack_require__(49247));var _DraggedItem=_interopRequireDefault(__webpack_require__(9525));var _AccordionGroupCustom=_interopRequireDefault(__webpack_require__(60977));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}/* eslint-disable import/no-cycle */var TextButtonCustom=/*#__PURE__*/(0,_styledComponents["default"])(_TextButton.TextButton).withConfig({displayName:"RepeatableComponent__TextButtonCustom",componentId:"sc-1h62y5j-0"})(["height:100%;width:100%;border-radius:0 0 4px 4px;display:flex;justify-content:center;span{font-weight:600;font-size:14px;}"]);var RepeatableComponent=function RepeatableComponent(_ref){var addRepeatableComponentToField=_ref.addRepeatableComponentToField,formErrors=_ref.formErrors,componentUid=_ref.componentUid,componentValue=_ref.componentValue,componentValueLength=_ref.componentValueLength,isNested=_ref.isNested,isReadOnly=_ref.isReadOnly,max=_ref.max,min=_ref.min,name=_ref.name;var toggleNotification=(0,_helperPlugin.useNotification)();var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useState=(0,_react.useState)(''),_useState2=(0,_slicedToArray2["default"])(_useState,2),collapseToOpen=_useState2[0],setCollapseToOpen=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),isDraggingSibling=_useState4[0],setIsDraggingSiblig=_useState4[1];var _useDrop=(0,_reactDnd.useDrop)({accept:_ItemTypes["default"].COMPONENT}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var _useContentTypeLayout=(0,_hooks.useContentTypeLayout)(),getComponentLayout=_useContentTypeLayout.getComponentLayout;var componentLayoutData=(0,_react.useMemo)(function(){return getComponentLayout(componentUid);},[componentUid,getComponentLayout]);var nextTempKey=(0,_react.useMemo)(function(){return(0,_utils.getMaxTempKey)(componentValue||[])+1;},[componentValue]);var componentErrorKeys=Object.keys(formErrors).filter(function(errorKey){return(0,_take["default"])(errorKey.split('.'),isNested?3:1).join('.')===name;}).map(function(errorKey){return errorKey.split('.').slice(0,name.split('.').length+1).join('.');});var toggleCollapses=function toggleCollapses(){setCollapseToOpen('');};var missingComponentsValue=min-componentValueLength;var hasMinError=(0,_get["default"])(formErrors,name,{id:''}).id.includes('min');var handleClick=(0,_react.useCallback)(function(){if(!isReadOnly){if(componentValueLength<max){var shouldCheckErrors=hasMinError;addRepeatableComponentToField(name,componentUid,shouldCheckErrors);setCollapseToOpen(nextTempKey);}else if(componentValueLength>=max){toggleNotification({type:'info',message:{id:(0,_utils.getTrad)('components.notification.info.maximum-requirement')}});}}},[addRepeatableComponentToField,componentUid,componentValueLength,hasMinError,isReadOnly,max,name,nextTempKey,toggleNotification]);var errorMessage=formErrors[name];if(hasMinError){errorMessage={id:(0,_utils.getTrad)('components.DynamicZone.missing-components'),defaultMessage:'There {number, plural, =0 {are # missing components} one {is # missing component} other {are # missing components}}',values:{number:missingComponentsValue}};}if(componentValueLength===0){return/*#__PURE__*/_react["default"].createElement(_ComponentInitializer["default"],{error:errorMessage,isReadOnly:isReadOnly,onClick:handleClick});}var doesRepComponentHasChildError=componentErrorKeys.some(function(error){return error.split('.').length>1;});if(doesRepComponentHasChildError&&!hasMinError){errorMessage={id:(0,_utils.getTrad)('components.RepeatableComponent.error-message'),defaultMessage:'The component(s) contain error(s)'};}return/*#__PURE__*/_react["default"].createElement(_Box.Box,{hasRadius:true,ref:drop},/*#__PURE__*/_react["default"].createElement(_AccordionGroupCustom["default"],{error:errorMessage,footer:/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center",height:"48px",background:"neutral0"},/*#__PURE__*/_react["default"].createElement(TextButtonCustom,{disabled:isReadOnly,onClick:handleClick,startIcon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null)},formatMessage({id:(0,_utils.getTrad)('containers.EditView.add.new-entry'),defaultMessage:'Add an entry'})))},componentValue.map(function(data,index){var key=data.__temp_key__;var isOpen=collapseToOpen===key;var componentFieldName="".concat(name,".").concat(index);var hasErrors=componentErrorKeys.includes(componentFieldName);return/*#__PURE__*/_react["default"].createElement(_DraggedItem["default"],{componentFieldName:componentFieldName,componentUid:componentUid,hasErrors:hasErrors,hasMinError:hasMinError,isDraggingSibling:isDraggingSibling,isOpen:isOpen,isReadOnly:isReadOnly,key:key,onClickToggle:function onClickToggle(){if(isOpen){setCollapseToOpen('');}else{setCollapseToOpen(key);}},parentName:name,schema:componentLayoutData,setIsDraggingSiblig:setIsDraggingSiblig,toggleCollapses:toggleCollapses});})));};exports.RepeatableComponent=RepeatableComponent;RepeatableComponent.defaultProps={componentValue:null,componentValueLength:0,formErrors:{},isNested:false,max:Infinity,min:0};RepeatableComponent.propTypes={addRepeatableComponentToField:_propTypes["default"].func.isRequired,componentUid:_propTypes["default"].string.isRequired,componentValue:_propTypes["default"].oneOfType([_propTypes["default"].array,_propTypes["default"].object]),componentValueLength:_propTypes["default"].number,formErrors:_propTypes["default"].object,isNested:_propTypes["default"].bool,isReadOnly:_propTypes["default"].bool.isRequired,max:_propTypes["default"].number,min:_propTypes["default"].number,name:_propTypes["default"].string.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(RepeatableComponent);var _default=(0,_connect["default"])(Memoized,_select["default"]);exports.default=_default;

/***/ }),

/***/ 44743:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));function connect(WrappedComponent,select){return function(props){var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports.default=_default;

/***/ }),

/***/ 49247:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _helperPlugin=__webpack_require__(68547);function useSelect(){var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),addRepeatableComponentToField=_useCMEditViewDataMan.addRepeatableComponentToField,formErrors=_useCMEditViewDataMan.formErrors;return{addRepeatableComponentToField:addRepeatableComponentToField,formErrors:formErrors};}var _default=useSelect;exports.default=_default;

/***/ }),

/***/ 42874:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _helperPlugin=__webpack_require__(68547);var _reactIntl=__webpack_require__(97132);var _reactRouterDom=__webpack_require__(39711);var _has=_interopRequireDefault(__webpack_require__(18721));var _isEmpty=_interopRequireDefault(__webpack_require__(41609));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Link=__webpack_require__(85104);var _utils=__webpack_require__(28564);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var StyledBullet=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"ListItem__StyledBullet",componentId:"jenzd4-0"})(["width:",";height:",";background:",";border-radius:50%;cursor:pointer;"],(0,_helperPlugin.pxToRem)(6),(0,_helperPlugin.pxToRem)(6),function(_ref){var theme=_ref.theme,isDraft=_ref.isDraft;return theme.colors[isDraft?'secondary600':'success600'];});function ListItem(_ref2){var data=_ref2.data,displayNavigationLink=_ref2.displayNavigationLink,isDisabled=_ref2.isDisabled,mainField=_ref2.mainField,onRemove=_ref2.onRemove,searchToPersist=_ref2.searchToPersist,targetModel=_ref2.targetModel;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var to="/content-manager/collectionType/".concat(targetModel,"/").concat(data.id);var cursor='pointer';if(isDisabled){cursor='not-allowed';}if(!displayNavigationLink){cursor='default';}var hasDraftAndPublish=(0,_has["default"])(data,'publishedAt');var isDraft=(0,_isEmpty["default"])(data.publishedAt);var value=data[mainField.name];var draftMessage={id:(0,_utils.getTrad)('components.Select.draft-info-title'),defaultMessage:'State: Draft'};var publishedMessage={id:(0,_utils.getTrad)('components.Select.publish-info-title'),defaultMessage:'State: Published'};var title=isDraft?formatMessage(draftMessage):formatMessage(publishedMessage);var _useLocation=(0,_reactRouterDom.useLocation)(),pathname=_useLocation.pathname;return/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{as:"li",alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{style:{flex:1},alignItems:"center"},hasDraftAndPublish&&/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingRight:2},/*#__PURE__*/_react["default"].createElement(StyledBullet,{isDraft:isDraft,title:title})),displayNavigationLink?/*#__PURE__*/_react["default"].createElement(_Link.Link,{to:{pathname:to,state:{from:pathname},search:searchToPersist},style:{textTransform:'none'}},value||data.id):/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi"},value||data.id)),/*#__PURE__*/_react["default"].createElement(_helperPlugin.RemoveRoundedButton,{onClick:onRemove,label:"Remove",style:{cursor:cursor}}));}ListItem.defaultProps={onRemove:function onRemove(){},searchToPersist:null,targetModel:''};ListItem.propTypes={data:_propTypes["default"].object.isRequired,displayNavigationLink:_propTypes["default"].bool.isRequired,isDisabled:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].shape({name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].shape({type:_propTypes["default"].string.isRequired}).isRequired}).isRequired,onRemove:_propTypes["default"].func,searchToPersist:_propTypes["default"].string,targetModel:_propTypes["default"].string};var _default=/*#__PURE__*/(0,_react.memo)(ListItem);exports.default=_default;

/***/ }),

/***/ 63293:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _isEmpty=_interopRequireDefault(__webpack_require__(41609));var _reactSelect=_interopRequireWildcard(__webpack_require__(23947));var _Box=__webpack_require__(5493);var _Stack=__webpack_require__(9008);var _Typography=__webpack_require__(49425);var _ListItem=_interopRequireDefault(__webpack_require__(42874));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function SelectMany(_ref){var addRelation=_ref.addRelation,components=_ref.components,displayNavigationLink=_ref.displayNavigationLink,mainField=_ref.mainField,name=_ref.name,isDisabled=_ref.isDisabled,isLoading=_ref.isLoading,onInputChange=_ref.onInputChange,onMenuClose=_ref.onMenuClose,onMenuOpen=_ref.onMenuOpen,onMenuScrollToBottom=_ref.onMenuScrollToBottom,_onRemove=_ref.onRemove,options=_ref.options,placeholder=_ref.placeholder,searchToPersist=_ref.searchToPersist,styles=_ref.styles,targetModel=_ref.targetModel,value=_ref.value,description=_ref.description;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var filterConfig={ignoreCase:true,ignoreAccents:true,trim:false,matchFrom:'any'};return/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:1},/*#__PURE__*/_react["default"].createElement(_reactSelect["default"],{components:components,isDisabled:isDisabled,id:name,filterOption:function filterOption(candidate,input){if(!(0,_isEmpty["default"])(value)){var isSelected=value.findIndex(function(item){return item.id===candidate.value.id;})!==-1;if(isSelected){return false;}}if(input){return(0,_reactSelect.createFilter)(filterConfig)(candidate,input);}return true;},mainField:mainField,isLoading:isLoading,isMulti:true,isSearchable:true,options:options,onChange:addRelation,onInputChange:onInputChange,onMenuClose:onMenuClose,onMenuOpen:onMenuOpen,onMenuScrollToBottom:onMenuScrollToBottom,placeholder:formatMessage(placeholder||{id:'components.Select.placeholder',defaultMessage:'Select...'}),styles:styles,value:[]}),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:3,style:{overflow:'auto'}},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{as:"ul",size:4,style:{maxHeight:'128px',overflowX:'hidden'}},value===null||value===void 0?void 0:value.map(function(data,index){return/*#__PURE__*/_react["default"].createElement(_ListItem["default"],{key:data.id,data:data,displayNavigationLink:displayNavigationLink,isDisabled:isDisabled,mainField:mainField,onRemove:function onRemove(){if(!isDisabled){_onRemove("".concat(name,".").concat(index));}},searchToPersist:searchToPersist,targetModel:targetModel});}))),description&&/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",textColor:"neutral600"},description));}SelectMany.defaultProps={description:'',components:{},placeholder:null,searchToPersist:null,value:null};SelectMany.propTypes={addRelation:_propTypes["default"].func.isRequired,components:_propTypes["default"].object,displayNavigationLink:_propTypes["default"].bool.isRequired,isDisabled:_propTypes["default"].bool.isRequired,isLoading:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].shape({name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].shape({type:_propTypes["default"].string.isRequired}).isRequired}).isRequired,name:_propTypes["default"].string.isRequired,onInputChange:_propTypes["default"].func.isRequired,onMenuClose:_propTypes["default"].func.isRequired,onMenuOpen:_propTypes["default"].func.isRequired,onMenuScrollToBottom:_propTypes["default"].func.isRequired,onRemove:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired,placeholder:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired}),searchToPersist:_propTypes["default"].string,styles:_propTypes["default"].object.isRequired,targetModel:_propTypes["default"].string.isRequired,value:_propTypes["default"].array,description:_propTypes["default"].string};var _default=/*#__PURE__*/(0,_react.memo)(SelectMany);exports.default=_default;

/***/ }),

/***/ 28293:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _reactSelect=__webpack_require__(23947);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactIntl=__webpack_require__(97132);var _helperPlugin=__webpack_require__(68547);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _get=_interopRequireDefault(__webpack_require__(27361));var _has=_interopRequireDefault(__webpack_require__(18721));var _isEmpty=_interopRequireDefault(__webpack_require__(41609));var _utils=__webpack_require__(28564);var StyledBullet=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"SingleValue__StyledBullet",componentId:"etc1ei-0"})(["width:",";height:",";margin-right:",";background:",";border-radius:50%;cursor:pointer;"],(0,_helperPlugin.pxToRem)(6),(0,_helperPlugin.pxToRem)(6),function(_ref){var theme=_ref.theme;return theme.spaces[2];},function(_ref2){var theme=_ref2.theme,isDraft=_ref2.isDraft;return theme.colors[isDraft?'secondary700':'success200'];});var SingleValue=function SingleValue(props){var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var Component=_reactSelect.components.SingleValue;var hasDraftAndPublish=(0,_has["default"])((0,_get["default"])(props,'data.value'),'publishedAt');var isDraft=(0,_isEmpty["default"])((0,_get["default"])(props,'data.value.publishedAt'));if(hasDraftAndPublish){var draftMessage={id:(0,_utils.getTrad)('components.Select.draft-info-title'),defaultMessage:'State: Draft'};var publishedMessage={id:(0,_utils.getTrad)('components.Select.publish-info-title'),defaultMessage:'State: Published'};var title=isDraft?formatMessage(draftMessage):formatMessage(publishedMessage);return/*#__PURE__*/_react["default"].createElement(Component,props,/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(StyledBullet,{title:title,isDraft:isDraft}),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{ellipsis:true},props.data.label||'-')));}return/*#__PURE__*/_react["default"].createElement(Component,props,props.data.label||'-');};SingleValue.propTypes={data:_propTypes["default"].object.isRequired,selectProps:_propTypes["default"].shape({mainField:_propTypes["default"].shape({name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].shape({type:_propTypes["default"].string.isRequired}).isRequired}).isRequired}).isRequired};var _default=SingleValue;exports.default=_default;

/***/ }),

/***/ 77570:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Stack=__webpack_require__(9008);var _Typography=__webpack_require__(49425);var _get=_interopRequireDefault(__webpack_require__(27361));var _isNull=_interopRequireDefault(__webpack_require__(45220));var _reactSelect=_interopRequireDefault(__webpack_require__(23947));var _SingleValue=_interopRequireDefault(__webpack_require__(28293));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function SelectOne(_ref){var components=_ref.components,mainField=_ref.mainField,name=_ref.name,isDisabled=_ref.isDisabled,isLoading=_ref.isLoading,onChange=_ref.onChange,onInputChange=_ref.onInputChange,onMenuClose=_ref.onMenuClose,onMenuOpen=_ref.onMenuOpen,onMenuScrollToBottom=_ref.onMenuScrollToBottom,options=_ref.options,placeholder=_ref.placeholder,styles=_ref.styles,value=_ref.value,description=_ref.description;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:1},/*#__PURE__*/_react["default"].createElement(_reactSelect["default"],{components:_objectSpread(_objectSpread({},components),{},{SingleValue:_SingleValue["default"]}),id:name,isClearable:true,isDisabled:isDisabled,isLoading:isLoading,mainField:mainField,options:options,onChange:onChange,onInputChange:onInputChange,onMenuClose:onMenuClose,onMenuOpen:onMenuOpen,onMenuScrollToBottom:onMenuScrollToBottom,placeholder:formatMessage(placeholder||{id:'components.Select.placeholder',defaultMessage:'Select...'}),styles:styles,value:(0,_isNull["default"])(value)?null:{label:(0,_get["default"])(value,[mainField.name],''),value:value}}),description&&/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",textColor:"neutral600"},description));}SelectOne.defaultProps={description:'',components:{},placeholder:null,value:null};SelectOne.propTypes={components:_propTypes["default"].object,isDisabled:_propTypes["default"].bool.isRequired,isLoading:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].shape({name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].shape({type:_propTypes["default"].string.isRequired}).isRequired}).isRequired,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,onInputChange:_propTypes["default"].func.isRequired,onMenuClose:_propTypes["default"].func.isRequired,onMenuOpen:_propTypes["default"].func.isRequired,onMenuScrollToBottom:_propTypes["default"].func.isRequired,options:_propTypes["default"].array.isRequired,placeholder:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired}),styles:_propTypes["default"].object.isRequired,value:_propTypes["default"].object,description:_propTypes["default"].string};var _default=/*#__PURE__*/(0,_react.memo)(SelectOne);exports.default=_default;

/***/ }),

/***/ 35645:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _reactSelect=__webpack_require__(23947);var _Cross=_interopRequireDefault(__webpack_require__(84040));var _IconBox=_interopRequireDefault(__webpack_require__(5323));var ClearIndicator=function ClearIndicator(props){var Component=_reactSelect.components.ClearIndicator;return/*#__PURE__*/_react["default"].createElement(Component,props,/*#__PURE__*/_react["default"].createElement(_IconBox["default"],{as:"button",type:"button"},/*#__PURE__*/_react["default"].createElement(_Cross["default"],null)));};var _default=ClearIndicator;exports.default=_default;

/***/ }),

/***/ 62773:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.CarretBox=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _CarretDown=_interopRequireDefault(__webpack_require__(99962));var _IconBox=_interopRequireDefault(__webpack_require__(5323));var CarretBox=/*#__PURE__*/(0,_styledComponents["default"])(_IconBox["default"]).withConfig({displayName:"DropdownIndicator__CarretBox",componentId:"sc-1i2lvx4-0"})(["display:flex;background:none;border:none;svg{width:","rem;}"],6/16);exports.CarretBox=CarretBox;var DropdownIndicator=function DropdownIndicator(){return/*#__PURE__*/_react["default"].createElement(CarretBox,{as:"button",type:"button",paddingRight:3},/*#__PURE__*/_react["default"].createElement(_CarretDown["default"],null));};var _default=DropdownIndicator;exports.default=_default;

/***/ }),

/***/ 5323:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.IconBox=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Box=__webpack_require__(5493);var IconBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"IconBox",componentId:"sc-13mo22w-0"})(["background:transparent;border:none;position:relative;z-index:1;svg{height:","rem;width:","rem;}svg path{fill:",";}"],11/16,11/16,function(_ref){var theme=_ref.theme;return theme.colors.neutral600;});exports.IconBox=IconBox;var _default=IconBox;exports.default=_default;

/***/ }),

/***/ 5998:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var IndicatorSeparator=function IndicatorSeparator(){return null;};var _default=IndicatorSeparator;exports.default=_default;

/***/ }),

/***/ 89964:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var LabelAction=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Label__LabelAction",componentId:"dwnjom-0"})(["svg path{fill:",";}"],function(_ref){var theme=_ref.theme;return theme.colors.neutral500;});var Label=function Label(_ref2){var intlLabel=_ref2.intlLabel,id=_ref2.id,labelAction=_ref2.labelAction,link=_ref2.link,name=_ref2.name,numberOfEntries=_ref2.numberOfEntries,isSingle=_ref2.isSingle;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var label=intlLabel!==null&&intlLabel!==void 0&&intlLabel.id?formatMessage(intlLabel):name;return/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"neutral800",htmlFor:id||name,variant:"pi",fontWeight:"bold",as:"label"},label,!isSingle&&/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,"\xA0(",numberOfEntries,")")),labelAction&&/*#__PURE__*/_react["default"].createElement(LabelAction,{paddingLeft:1},labelAction)),link);};Label.defaultProps={id:undefined,labelAction:undefined,link:null,numberOfEntries:0};Label.propTypes={id:_propTypes["default"].string,intlLabel:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}).isRequired,isSingle:_propTypes["default"].bool.isRequired,labelAction:_propTypes["default"].element,link:_propTypes["default"].element,name:_propTypes["default"].string.isRequired,numberOfEntries:_propTypes["default"].number};var _default=Label;exports.default=_default;

/***/ }),

/***/ 51121:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactSelect=__webpack_require__(23947);var _reactIntl=__webpack_require__(97132);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _lodash=__webpack_require__(96486);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _helperPlugin=__webpack_require__(68547);var _utils=__webpack_require__(28564);var StyledBullet=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"Option__StyledBullet",componentId:"qolgge-0"})(["width:",";height:",";margin-right:",";background:",";border-radius:50%;cursor:pointer;"],(0,_helperPlugin.pxToRem)(6),(0,_helperPlugin.pxToRem)(6),function(_ref){var theme=_ref.theme;return theme.spaces[2];},function(_ref2){var theme=_ref2.theme,isDraft=_ref2.isDraft;return theme.colors[isDraft?'secondary600':'success600'];});var Option=function Option(props){var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var Component=_reactSelect.components.Option;var hasDraftAndPublish=(0,_lodash.has)((0,_lodash.get)(props,'data.value'),'publishedAt');var isDraft=(0,_lodash.isEmpty)((0,_lodash.get)(props,'data.value.publishedAt'));if(hasDraftAndPublish){if(hasDraftAndPublish){var draftMessage={id:(0,_utils.getTrad)('components.Select.draft-info-title'),defaultMessage:'State: Draft'};var publishedMessage={id:(0,_utils.getTrad)('components.Select.publish-info-title'),defaultMessage:'State: Published'};var title=isDraft?formatMessage(draftMessage):formatMessage(publishedMessage);return/*#__PURE__*/_react["default"].createElement(Component,props,/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(StyledBullet,{title:title,isDraft:isDraft}),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{ellipsis:true},props.label||'-')));}}return/*#__PURE__*/_react["default"].createElement(Component,props,props.label||'-');};Option.defaultProps={label:''};Option.propTypes={label:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].number]),isFocused:_propTypes["default"].bool.isRequired,selectProps:_propTypes["default"].shape({hasDraftAndPublish:_propTypes["default"].bool,mainField:_propTypes["default"].shape({name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].shape({type:_propTypes["default"].string.isRequired}).isRequired}).isRequired}).isRequired};var _default=Option;exports.default=_default;

/***/ }),

/***/ 54865:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _reactRouterDom=__webpack_require__(39711);var _Link=__webpack_require__(85104);var _Stack=__webpack_require__(9008);var _styledComponents=__webpack_require__(78384);var _findIndex=_interopRequireDefault(__webpack_require__(30998));var _get=_interopRequireDefault(__webpack_require__(27361));var _isArray=_interopRequireDefault(__webpack_require__(1469));var _isEmpty=_interopRequireDefault(__webpack_require__(41609));var _set=_interopRequireDefault(__webpack_require__(36968));var _helperPlugin=__webpack_require__(68547);var _qs=__webpack_require__(80129);var _axios=_interopRequireDefault(__webpack_require__(9669));var _utils=__webpack_require__(53777);var _utils2=__webpack_require__(28564);var _Label=_interopRequireDefault(__webpack_require__(89964));var _SelectOne=_interopRequireDefault(__webpack_require__(77570));var _SelectMany=_interopRequireDefault(__webpack_require__(63293));var _ClearIndicator=_interopRequireDefault(__webpack_require__(35645));var _DropdownIndicator=_interopRequireDefault(__webpack_require__(62773));var _IndicatorSeparator=_interopRequireDefault(__webpack_require__(5998));var _Option=_interopRequireDefault(__webpack_require__(51121));var _utils3=__webpack_require__(58888);var _getSelectStyles=_interopRequireDefault(__webpack_require__(11647));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var initialPaginationState={_contains:'',_limit:20,_start:0};var buildParams=function buildParams(query,paramsToKeep){if(!paramsToKeep){return{};}return paramsToKeep.reduce(function(acc,current){var value=(0,_get["default"])(query,current,null);if(value){(0,_set["default"])(acc,current,value);}return acc;},{});};function SelectWrapper(_ref){var description=_ref.description,editable=_ref.editable,labelAction=_ref.labelAction,intlLabel=_ref.intlLabel,isCreatingEntry=_ref.isCreatingEntry,isFieldAllowed=_ref.isFieldAllowed,isFieldReadable=_ref.isFieldReadable,mainField=_ref.mainField,name=_ref.name,relationType=_ref.relationType,targetModel=_ref.targetModel,placeholder=_ref.placeholder,queryInfos=_ref.queryInfos;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useQueryParams=(0,_helperPlugin.useQueryParams)(),_useQueryParams2=(0,_slicedToArray2["default"])(_useQueryParams,1),query=_useQueryParams2[0].query;// Disable the input in case of a polymorphic relation
var isMorph=(0,_react.useMemo)(function(){return relationType.toLowerCase().includes('morph');},[relationType]);var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),addRelation=_useCMEditViewDataMan.addRelation,modifiedData=_useCMEditViewDataMan.modifiedData,moveRelation=_useCMEditViewDataMan.moveRelation,onChange=_useCMEditViewDataMan.onChange,onRemoveRelation=_useCMEditViewDataMan.onRemoveRelation;var _useLocation=(0,_reactRouterDom.useLocation)(),pathname=_useLocation.pathname;var theme=(0,_styledComponents.useTheme)();var value=(0,_get["default"])(modifiedData,name,null);var _useState=(0,_react.useState)(initialPaginationState),_useState2=(0,_slicedToArray2["default"])(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=(0,_react.useState)([]),_useState4=(0,_slicedToArray2["default"])(_useState3,2),options=_useState4[0],setOptions=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=(0,_react.useState)(false),_useState8=(0,_slicedToArray2["default"])(_useState7,2),isOpen=_useState8[0],setIsOpen=_useState8[1];var filteredOptions=(0,_react.useMemo)(function(){return options.filter(function(option){if(!(0,_isEmpty["default"])(value)){// SelectMany
if(Array.isArray(value)){return(0,_findIndex["default"])(value,function(o){return o.id===option.value.id;})===-1;}// SelectOne
return(0,_get["default"])(value,'id','')!==option.value.id;}return true;});},[options,value]);var endPoint=queryInfos.endPoint,containsKey=queryInfos.containsKey,defaultParams=queryInfos.defaultParams,shouldDisplayRelationLink=queryInfos.shouldDisplayRelationLink,paramsToKeep=queryInfos.paramsToKeep;var isSingle=['oneWay','oneToOne','manyToOne','oneToManyMorph','oneToOneMorph'].includes(relationType);var idsToOmit=(0,_react.useMemo)(function(){if(!value){return[];}if(isSingle){return[value.id];}return value.map(function(val){return val.id;});},[isSingle,value]);var getData=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(source){var params,_yield$axiosInstance$,data,formattedData;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!isMorph){_context.next=3;break;}setIsLoading(false);return _context.abrupt("return");case 3:if(isFieldAllowed){_context.next=6;break;}setIsLoading(false);return _context.abrupt("return");case 6:setIsLoading(true);params=_objectSpread({_limit:state._limit},defaultParams);if(state._contains){params[containsKey]=state._contains;}_context.prev=9;_context.next=12;return _utils.axiosInstance.post(endPoint,{idsToOmit:idsToOmit},{params:params,cancelToken:source.token});case 12:_yield$axiosInstance$=_context.sent;data=_yield$axiosInstance$.data;formattedData=data.map(function(obj){return{value:obj,label:obj[mainField.name]};});setOptions(function(prevState){return prevState.concat(formattedData).filter(function(obj,index){var objIndex=prevState.findIndex(function(el){return el.value.id===obj.value.id;});if(objIndex===-1){return true;}return prevState.findIndex(function(el){return el.value.id===obj.value.id;})===index;});});setIsLoading(false);_context.next=22;break;case 19:_context.prev=19;_context.t0=_context["catch"](9);// Silent
setIsLoading(false);case 22:case"end":return _context.stop();}}},_callee,null,[[9,19]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),[containsKey,defaultParams,endPoint,idsToOmit,isFieldAllowed,isMorph,mainField.name,setIsLoading,setOptions,state._contains,state._limit]);(0,_react.useEffect)(function(){var CancelToken=_axios["default"].CancelToken;var source=CancelToken.source();if(isOpen){getData(source);}return function(){return source.cancel('Operation canceled by the user.');};},[getData,isOpen]);var handleInputChange=function handleInputChange(inputValue,_ref3){var action=_ref3.action;if(action==='input-change'){setState(function(prevState){if(prevState._contains===inputValue){return prevState;}return _objectSpread(_objectSpread({},prevState),{},{_contains:inputValue,_start:0});});}return inputValue;};var handleMenuScrollToBottom=function handleMenuScrollToBottom(){setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{_limit:prevState._limit+20});});};var handleMenuClose=function handleMenuClose(){setState(initialPaginationState);setIsOpen(false);};var handleChange=function handleChange(value){onChange({target:{name:name,value:value?value.value:value}});};var handleAddRelation=function handleAddRelation(value){if(!(0,_isEmpty["default"])(value)){addRelation({target:{name:name,value:value}});}};var handleMenuOpen=function handleMenuOpen(){setIsOpen(true);};var to="/content-manager/collectionType/".concat(targetModel,"/").concat(value?value.id:null);var searchToPersist=(0,_qs.stringify)(buildParams(query,paramsToKeep),{encode:false});var link=null;if(isSingle&&value&&shouldDisplayRelationLink){link=/*#__PURE__*/_react["default"].createElement(_Link.Link,{to:{pathname:to,state:{from:pathname},search:searchToPersist}},formatMessage({id:(0,_utils2.getTrad)('containers.Edit.seeDetails'),defaultMessage:'Details'}));}var Component=isSingle?_SelectOne["default"]:_SelectMany["default"];var associationsLength=(0,_isArray["default"])(value)?value.length:0;var isDisabled=(0,_react.useMemo)(function(){if(isMorph){return true;}if(!isCreatingEntry){return!isFieldAllowed&&isFieldReadable||!editable;}return!editable;},[isMorph,isCreatingEntry,editable,isFieldAllowed,isFieldReadable]);if(!isFieldAllowed&&isCreatingEntry){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.NotAllowedInput,{intlLabel:intlLabel,labelAction:labelAction});}if(!isCreatingEntry&&!isFieldAllowed&&!isFieldReadable){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.NotAllowedInput,{intlLabel:intlLabel,labelAction:labelAction});}var styles=(0,_getSelectStyles["default"])(theme);return/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:1},/*#__PURE__*/_react["default"].createElement(_Label["default"],{intlLabel:intlLabel,isSingle:isSingle,labelAction:labelAction,link:link,name:name,numberOfEntries:associationsLength}),/*#__PURE__*/_react["default"].createElement(Component,{addRelation:handleAddRelation,components:{ClearIndicator:_ClearIndicator["default"],DropdownIndicator:_DropdownIndicator["default"],IndicatorSeparator:_IndicatorSeparator["default"],Option:_Option["default"]},displayNavigationLink:shouldDisplayRelationLink,id:name,isDisabled:isDisabled,isLoading:isLoading,isClearable:true,mainField:mainField,move:moveRelation,name:name,options:filteredOptions// options={temp}
,onChange:handleChange,onInputChange:handleInputChange,onMenuClose:handleMenuClose,onMenuOpen:handleMenuOpen,onMenuScrollToBottom:handleMenuScrollToBottom,onRemove:onRemoveRelation,placeholder:placeholder,searchToPersist:searchToPersist,styles:styles,targetModel:targetModel,value:value,description:description}));// return (
//   <Padded>
//     <BaselineAlignment />
//     <Flex justifyContent="space-between">
//       <Flex>
//         <Text fontWeight="semiBold">
//           <span>
//             {label}
//             {!isSingle && ` (${associationsLength})`}
//           </span>
//         </Text>
//         {labelIconformatted && (
//           <div style={{ lineHeight: '13px' }}>
//             <LabelIconWrapper title={labelIconformatted.title}>
//               {labelIconformatted.icon}
//             </LabelIconWrapper>
//           </div>
//         )}
//       </Flex>
//       {isSingle && link}
//     </Flex>
//     {!isEmpty(description) && (
//       <Padded top size="xs">
//         <BaselineAlignment />
//         <Text fontSize="sm" color="grey" lineHeight="12px" ellipsis>
//           {description}
//         </Text>
//       </Padded>
//     )}
//     <Padded top size="sm">
//       <BaselineAlignment />
// <Component
//   addRelation={handleAddRelation}
//   components={{ ClearIndicator, DropdownIndicator, IndicatorSeparator, Option }}
//   displayNavigationLink={shouldDisplayRelationLink}
//   id={name}
//   isDisabled={isDisabled}
//   isLoading={isLoading}
//   isClearable
//   mainField={mainField}
//   move={moveRelation}
//   name={name}
//   options={filteredOptions}
//   onChange={handleChange}
//   onInputChange={handleInputChange}
//   onMenuClose={handleMenuClose}
//   onMenuOpen={handleMenuOpen}
//   onMenuScrollToBottom={handleMenuScrollToBottom}
//   onRemove={onRemoveRelation}
//   placeholder={
//     isEmpty(placeholder) ? (
//       <FormattedMessage id={getTrad('containers.Edit.addAnItem')} />
//     ) : (
//       placeholder
//     )
//   }
//   searchToPersist={searchToPersist}
//   styles={styles}
//   targetModel={targetModel}
//   value={value}
// />
//     </Padded>
//     <div style={{ marginBottom: 28 }} />
//   </Padded>
// );
}SelectWrapper.defaultProps={editable:true,description:'',labelAction:null,isFieldAllowed:true,placeholder:null};SelectWrapper.propTypes={editable:_propTypes["default"].bool,description:_propTypes["default"].string,intlLabel:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}).isRequired,labelAction:_propTypes["default"].element,isCreatingEntry:_propTypes["default"].bool.isRequired,isFieldAllowed:_propTypes["default"].bool,isFieldReadable:_propTypes["default"].bool.isRequired,mainField:_propTypes["default"].shape({name:_propTypes["default"].string.isRequired,schema:_propTypes["default"].shape({type:_propTypes["default"].string.isRequired}).isRequired}).isRequired,name:_propTypes["default"].string.isRequired,placeholder:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),relationType:_propTypes["default"].string.isRequired,targetModel:_propTypes["default"].string.isRequired,queryInfos:_propTypes["default"].shape({containsKey:_propTypes["default"].string.isRequired,defaultParams:_propTypes["default"].object,endPoint:_propTypes["default"].string.isRequired,shouldDisplayRelationLink:_propTypes["default"].bool.isRequired,paramsToKeep:_propTypes["default"].array}).isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(SelectWrapper);var _default=(0,_utils3.connect)(Memoized,_utils3.select);exports.default=_default;

/***/ }),

/***/ 32869:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select(props);return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports.default=_default;

/***/ }),

/***/ 11647:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getSelectStyles=function getSelectStyles(theme){return{clearIndicator:function clearIndicator(base){return _objectSpread(_objectSpread({},base),{},{padding:0,paddingRight:theme.spaces[3]});},container:function container(base){return _objectSpread(_objectSpread({},base),{},{background:theme.colors.neutral0,fontFamily:'Arial',lineHeight:'normal'});},control:function control(base,state){var border;var borderBottom;var backgroundColor;if(state.isFocused){border="1px solid ".concat(theme.colors.primary600," !important");}else{border="1px solid ".concat(theme.colors.neutral200," !important");}if(state.menuIsOpen===true){borderBottom="1px solid ".concat(theme.colors.primary600," !important");}if(state.isDisabled){backgroundColor='#fafafb !important';}return _objectSpread(_objectSpread({},base),{},{fontSize:14,height:40,border:border,outline:0,boxShadow:0,borderRadius:'2px !important',borderBottom:borderBottom,backgroundColor:backgroundColor,borderTopLeftRadius:'4px !important',borderTopRightRadius:'4px !important',borderBottomLeftRadius:'4px !important',borderBottomRightRadius:'4px !important'});},indicatorContainer:function indicatorContainer(base){return _objectSpread(_objectSpread({},base),{},{padding:0,paddingRight:theme.spaces[3]});},input:function input(base){return _objectSpread(_objectSpread({},base),{},{margin:0,padding:0});},menu:function menu(base){return _objectSpread(_objectSpread({},base),{},{width:'100%',marginTop:theme.spaces[1],borderRadius:'4px !important',borderTopLeftRadius:'4px !important',borderTopRightRadius:'4px !important',border:"1px solid ".concat(theme.colors.neutral200," !important"),boxShadow:0,fontSize:'14px',fontFamily:'Arial',zIndex:2});},menuList:function menuList(base){return _objectSpread(_objectSpread({},base),{},{paddingLeft:theme.spaces[1],paddingTop:theme.spaces[1],paddingRight:theme.spaces[1],paddingBottom:theme.spaces[1]});},option:function option(base,state){var backgroundColor=base.backgroundColor;if(state.isFocused){backgroundColor=theme.colors.primary100;}return _objectSpread(_objectSpread({},base),{},{lineHeight:theme.spaces[5],backgroundColor:backgroundColor,borderRadius:4});},placeholder:function placeholder(base){return _objectSpread(_objectSpread({},base),{},{marginLeft:0});},singleValue:function singleValue(base){return _objectSpread(_objectSpread({},base),{},{marginLeft:0});},valueContainer:function valueContainer(base){return _objectSpread(_objectSpread({},base),{},{padding:0,paddingLeft:theme.spaces[4],marginLeft:0,marginRight:0});}};};var _default=getSelectStyles;exports.default=_default;

/***/ }),

/***/ 58888:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "connect", ({enumerable:true,get:function get(){return _connect["default"];}}));Object.defineProperty(exports, "select", ({enumerable:true,get:function get(){return _select["default"];}}));var _connect=_interopRequireDefault(__webpack_require__(32869));var _select=_interopRequireDefault(__webpack_require__(19124));

/***/ }),

/***/ 19124:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var _helperPlugin=__webpack_require__(68547);function useSelect(_ref){var isUserAllowedToEditField=_ref.isUserAllowedToEditField,isUserAllowedToReadField=_ref.isUserAllowedToReadField,name=_ref.name;var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),isCreatingEntry=_useCMEditViewDataMan.isCreatingEntry,createActionAllowedFields=_useCMEditViewDataMan.createActionAllowedFields,readActionAllowedFields=_useCMEditViewDataMan.readActionAllowedFields,updateActionAllowedFields=_useCMEditViewDataMan.updateActionAllowedFields;var isFieldAllowed=(0,_react.useMemo)(function(){if(isUserAllowedToEditField===true){return true;}var allowedFields=isCreatingEntry?createActionAllowedFields:updateActionAllowedFields;return allowedFields.includes(name);},[isCreatingEntry,createActionAllowedFields,name,isUserAllowedToEditField,updateActionAllowedFields]);var isFieldReadable=(0,_react.useMemo)(function(){if(isUserAllowedToReadField){return true;}var allowedFields=isCreatingEntry?[]:readActionAllowedFields;return allowedFields.includes(name);},[isCreatingEntry,isUserAllowedToReadField,name,readActionAllowedFields]);return{isCreatingEntry:isCreatingEntry,isFieldAllowed:isFieldAllowed,isFieldReadable:isFieldReadable};}var _default=useSelect;exports.default=_default;

/***/ }),

/***/ 13995:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=__webpack_require__(67294);var _reactRouterDom=__webpack_require__(39711);var _get=_interopRequireDefault(__webpack_require__(27361));var _helperPlugin=__webpack_require__(68547);var _reactRedux=__webpack_require__(37424);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _axios=_interopRequireDefault(__webpack_require__(9669));var _utils=__webpack_require__(53777);var _utils2=__webpack_require__(28564);var _actions=__webpack_require__(98744);var _selectors=_interopRequireDefault(__webpack_require__(22787));var _utils3=__webpack_require__(40079);var _buildQueryString=_interopRequireDefault(__webpack_require__(62616));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}// This container is used to handle the CRUD
var SingleTypeFormWrapper=function SingleTypeFormWrapper(_ref){var allLayoutData=_ref.allLayoutData,children=_ref.children,slug=_ref.slug;var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push;var trackUsageRef=(0,_react.useRef)(trackUsage);var _useState=(0,_react.useState)(true),_useState2=(0,_slicedToArray2["default"])(_useState,2),isCreatingEntry=_useState2[0],setIsCreatingEntry=_useState2[1];var _useQueryParams=(0,_helperPlugin.useQueryParams)(),_useQueryParams2=(0,_slicedToArray2["default"])(_useQueryParams,1),_useQueryParams2$=_useQueryParams2[0],query=_useQueryParams2$.query,rawQuery=_useQueryParams2$.rawQuery;var searchToSend=(0,_buildQueryString["default"])(query);var toggleNotification=(0,_helperPlugin.useNotification)();var dispatch=(0,_reactRedux.useDispatch)();var _useSelector=(0,_reactRedux.useSelector)(_selectors["default"]),componentsDataStructure=_useSelector.componentsDataStructure,contentTypeDataStructure=_useSelector.contentTypeDataStructure,data=_useSelector.data,isLoading=_useSelector.isLoading,status=_useSelector.status;var cleanReceivedData=(0,_react.useCallback)(function(data){var cleaned=(0,_utils2.removePasswordFieldsFromData)(data,allLayoutData.contentType,allLayoutData.components);// This is needed in order to add a unique id for the repeatable components, in order to make the reorder easier
return(0,_helperPlugin.formatComponentData)(cleaned,allLayoutData.contentType,allLayoutData.components);},[allLayoutData]);(0,_react.useEffect)(function(){return function(){dispatch((0,_actions.resetProps)());};},[dispatch]);(0,_react.useEffect)(function(){var componentsDataStructure=Object.keys(allLayoutData.components).reduce(function(acc,current){var defaultComponentForm=(0,_utils2.createDefaultForm)((0,_get["default"])(allLayoutData,['components',current,'attributes'],{}),allLayoutData.components);acc[current]=(0,_helperPlugin.formatComponentData)(defaultComponentForm,allLayoutData.components[current],allLayoutData.components);return acc;},{});var contentTypeDataStructure=(0,_utils2.createDefaultForm)(allLayoutData.contentType.attributes,allLayoutData.components);var contentTypeDataStructureFormatted=(0,_helperPlugin.formatComponentData)(contentTypeDataStructure,allLayoutData.contentType,allLayoutData.components);dispatch((0,_actions.setDataStructures)(componentsDataStructure,contentTypeDataStructureFormatted));},[allLayoutData,dispatch]);// Check if creation mode or editing mode
(0,_react.useEffect)(function(){var CancelToken=_axios["default"].CancelToken;var source=CancelToken.source();var fetchData=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(source){var _yield$axiosInstance,_data,responseStatus;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch((0,_actions.getData)());setIsCreatingEntry(true);_context.prev=2;_context.next=5;return(0,_utils.axiosInstance)((0,_utils3.getRequestUrl)("".concat(slug).concat(searchToSend)),{cancelToken:source.token});case 5:_yield$axiosInstance=_context.sent;_data=_yield$axiosInstance.data;dispatch((0,_actions.getDataSucceeded)(cleanReceivedData(_data)));setIsCreatingEntry(false);_context.next=18;break;case 11:_context.prev=11;_context.t0=_context["catch"](2);if(!_axios["default"].isCancel(_context.t0)){_context.next=15;break;}return _context.abrupt("return");case 15:responseStatus=(0,_get["default"])(_context.t0,'response.status',null);// Creating a single type
if(responseStatus===404){dispatch((0,_actions.initForm)(rawQuery,true));}if(responseStatus===403){toggleNotification({type:'info',message:{id:(0,_utils2.getTrad)('permissions.not-allowed.update')}});push('/');}case 18:case"end":return _context.stop();}}},_callee,null,[[2,11]]);}));return function fetchData(_x){return _ref2.apply(this,arguments);};}();fetchData(source);return function(){return source.cancel('Operation canceled by the user.');};},[cleanReceivedData,push,slug,dispatch,searchToSend,rawQuery,toggleNotification]);var displayErrors=(0,_react.useCallback)(function(err){var errorPayload=err.response.payload;console.error(errorPayload);var errorMessage=(0,_get["default"])(errorPayload,['message'],'Bad Request');// TODO handle errors correctly when back-end ready
if(Array.isArray(errorMessage)){errorMessage=(0,_get["default"])(errorMessage,['0','messages','0','id']);}if(typeof errorMessage==='string'){toggleNotification({type:'warning',message:errorMessage});}},[toggleNotification]);var onDelete=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(trackerProperty){var _yield$axiosInstance$,_data2;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;trackUsageRef.current('willDeleteEntry',trackerProperty);_context2.next=4;return _utils.axiosInstance["delete"]((0,_utils3.getRequestUrl)("".concat(slug).concat(searchToSend)));case 4:_yield$axiosInstance$=_context2.sent;_data2=_yield$axiosInstance$.data;toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.delete')}});trackUsageRef.current('didDeleteEntry',trackerProperty);return _context2.abrupt("return",Promise.resolve(_data2));case 11:_context2.prev=11;_context2.t0=_context2["catch"](0);trackUsageRef.current('didNotDeleteEntry',_objectSpread({error:_context2.t0},trackerProperty));return _context2.abrupt("return",Promise.reject(_context2.t0));case 15:case"end":return _context2.stop();}}},_callee2,null,[[0,11]]);}));return function(_x2){return _ref3.apply(this,arguments);};}(),[slug,toggleNotification,searchToSend]);var onDeleteSucceeded=(0,_react.useCallback)(function(){setIsCreatingEntry(true);dispatch((0,_actions.initForm)(rawQuery,true));},[dispatch,rawQuery]);var onPost=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(body,trackerProperty){var endPoint,_yield$axiosInstance$2,_data3;return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:endPoint=(0,_utils3.getRequestUrl)("".concat(slug).concat(rawQuery));_context3.prev=1;dispatch((0,_actions.setStatus)('submit-pending'));_context3.next=5;return _utils.axiosInstance.put(endPoint,body);case 5:_yield$axiosInstance$2=_context3.sent;_data3=_yield$axiosInstance$2.data;trackUsageRef.current('didCreateEntry',trackerProperty);toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.save')}});dispatch((0,_actions.submitSucceeded)(cleanReceivedData(_data3)));setIsCreatingEntry(false);dispatch((0,_actions.setStatus)('resolved'));_context3.next=19;break;case 14:_context3.prev=14;_context3.t0=_context3["catch"](1);trackUsageRef.current('didNotCreateEntry',{error:_context3.t0,trackerProperty:trackerProperty});displayErrors(_context3.t0);dispatch((0,_actions.setStatus)('resolved'));case 19:case"end":return _context3.stop();}}},_callee3,null,[[1,14]]);}));return function(_x3,_x4){return _ref4.apply(this,arguments);};}(),[cleanReceivedData,displayErrors,slug,dispatch,rawQuery,toggleNotification]);var onPublish=(0,_react.useCallback)(/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee4(){var endPoint,_yield$axiosInstance$3,_data4;return _regenerator["default"].wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;trackUsageRef.current('willPublishEntry');endPoint=(0,_utils3.getRequestUrl)("".concat(slug,"/actions/publish").concat(searchToSend));dispatch((0,_actions.setStatus)('publish-pending'));_context4.next=6;return _utils.axiosInstance.post(endPoint);case 6:_yield$axiosInstance$3=_context4.sent;_data4=_yield$axiosInstance$3.data;trackUsageRef.current('didPublishEntry');toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.publish')}});dispatch((0,_actions.submitSucceeded)(cleanReceivedData(_data4)));dispatch((0,_actions.setStatus)('resolved'));_context4.next=18;break;case 14:_context4.prev=14;_context4.t0=_context4["catch"](0);displayErrors(_context4.t0);dispatch((0,_actions.setStatus)('resolved'));case 18:case"end":return _context4.stop();}}},_callee4,null,[[0,14]]);})),[cleanReceivedData,displayErrors,slug,searchToSend,dispatch,toggleNotification]);var onPut=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref6=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee5(body,trackerProperty){var endPoint,_yield$axiosInstance$4,_data5;return _regenerator["default"].wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:endPoint=(0,_utils3.getRequestUrl)("".concat(slug).concat(rawQuery));_context5.prev=1;trackUsageRef.current('willEditEntry',trackerProperty);dispatch((0,_actions.setStatus)('submit-pending'));_context5.next=6;return _utils.axiosInstance.put(endPoint,body);case 6:_yield$axiosInstance$4=_context5.sent;_data5=_yield$axiosInstance$4.data;toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.save')}});trackUsageRef.current('didEditEntry',{trackerProperty:trackerProperty});dispatch((0,_actions.submitSucceeded)(cleanReceivedData(_data5)));dispatch((0,_actions.setStatus)('resolved'));_context5.next=19;break;case 14:_context5.prev=14;_context5.t0=_context5["catch"](1);displayErrors(_context5.t0);trackUsageRef.current('didNotEditEntry',{error:_context5.t0,trackerProperty:trackerProperty});dispatch((0,_actions.setStatus)('resolved'));case 19:case"end":return _context5.stop();}}},_callee5,null,[[1,14]]);}));return function(_x5,_x6){return _ref6.apply(this,arguments);};}(),[cleanReceivedData,displayErrors,slug,dispatch,rawQuery,toggleNotification]);// The publish and unpublish method could be refactored but let's leave the duplication for now
var onUnpublish=(0,_react.useCallback)(/*#__PURE__*/(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee6(){var endPoint,_yield$axiosInstance$5,_data6;return _regenerator["default"].wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:endPoint=(0,_utils3.getRequestUrl)("".concat(slug,"/actions/unpublish").concat(searchToSend));dispatch((0,_actions.setStatus)('unpublish-pending'));_context6.prev=2;trackUsageRef.current('willUnpublishEntry');_context6.next=6;return _utils.axiosInstance.post(endPoint);case 6:_yield$axiosInstance$5=_context6.sent;_data6=_yield$axiosInstance$5.data;trackUsageRef.current('didUnpublishEntry');toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.unpublish')}});dispatch((0,_actions.submitSucceeded)(cleanReceivedData(_data6)));dispatch((0,_actions.setStatus)('resolved'));_context6.next=18;break;case 14:_context6.prev=14;_context6.t0=_context6["catch"](2);dispatch((0,_actions.setStatus)('resolved'));displayErrors(_context6.t0);case 18:case"end":return _context6.stop();}}},_callee6,null,[[2,14]]);})),[cleanReceivedData,toggleNotification,displayErrors,slug,dispatch,searchToSend]);return children({componentsDataStructure:componentsDataStructure,contentTypeDataStructure:contentTypeDataStructure,data:data,isCreatingEntry:isCreatingEntry,isLoadingForData:isLoading,onDelete:onDelete,onDeleteSucceeded:onDeleteSucceeded,onPost:onPost,onPublish:onPublish,onPut:onPut,onUnpublish:onUnpublish,redirectionLink:'/',status:status});};SingleTypeFormWrapper.propTypes={allLayoutData:_propTypes["default"].shape({components:_propTypes["default"].object.isRequired,contentType:_propTypes["default"].object.isRequired}).isRequired,children:_propTypes["default"].func.isRequired,slug:_propTypes["default"].string.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(SingleTypeFormWrapper);exports.default=_default;

/***/ }),

/***/ 14261:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _utils=__webpack_require__(28564);var requestURL=function requestURL(path){return(0,_utils.getRequestUrl)("single-types/".concat(path));};var _default=requestURL;exports.default=_default;

/***/ }),

/***/ 40079:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "getRequestUrl", ({enumerable:true,get:function get(){return _getRequestUrl["default"];}}));var _getRequestUrl=_interopRequireDefault(__webpack_require__(14261));

/***/ }),

/***/ 27301:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Typography=__webpack_require__(49425);var _Box=__webpack_require__(5493);var _utils=__webpack_require__(28564);var State=function State(_ref){var isPublished=_ref.isPublished;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var content=formatMessage({id:(0,_utils.getTrad)("containers.List.".concat(isPublished?'published':'draft'))});var background=isPublished?'success100':'secondary100';var textColor=isPublished?'success700':'secondary700';return/*#__PURE__*/_react["default"].createElement(_Box.Box,{background:background,hasRadius:true,paddingTop:1,paddingBottom:1,paddingLeft:2,paddingRight:2,style:{width:'fit-content'}},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold",textColor:textColor},content));};State.propTypes={isPublished:_propTypes["default"].bool.isRequired};var _default=State;exports.default=_default;

/***/ }),

/***/ 69030:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _codemirror=_interopRequireDefault(__webpack_require__(4631));__webpack_require__(88386);var _PreviewWysiwyg=_interopRequireDefault(__webpack_require__(76957));var _EditorStylesContainer=__webpack_require__(71281);var _WysiwygStyles=__webpack_require__(54273);var _continueList=_interopRequireDefault(__webpack_require__(25734));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Editor=function Editor(_ref){var disabled=_ref.disabled,editorRef=_ref.editorRef,error=_ref.error,isPreviewMode=_ref.isPreviewMode,name=_ref.name,onChange=_ref.onChange,placeholder=_ref.placeholder,textareaRef=_ref.textareaRef,value=_ref.value;var onChangeRef=(0,_react.useRef)(onChange);(0,_react.useEffect)(function(){editorRef.current=_codemirror["default"].fromTextArea(textareaRef.current,{lineWrapping:true,extraKeys:{Enter:'newlineAndIndentContinueMarkdownList'// Leaving this commented for now
// Tab: false,
// 'Shift-Tab': false,
},readOnly:false,smartIndent:false,placeholder:placeholder});_codemirror["default"].commands.newlineAndIndentContinueMarkdownList=_continueList["default"];editorRef.current.on('change',function(doc){onChangeRef.current({target:{name:name,value:doc.getValue(),type:'wysiwyg'}});});},[editorRef,textareaRef,name,placeholder]);(0,_react.useEffect)(function(){if(value&&!editorRef.current.state.focused){editorRef.current.setValue(value);}},[editorRef,value]);(0,_react.useEffect)(function(){if(isPreviewMode||disabled){editorRef.current.setOption('readOnly','nocursor');}else{editorRef.current.setOption('readOnly',false);}},[disabled,isPreviewMode,editorRef]);(0,_react.useEffect)(function(){if(error){editorRef.current.setOption('screenReaderLabel',error);}else{// to replace with translation
editorRef.current.setOption('screenReaderLabel','Editor');}},[editorRef,error]);return/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.EditorAndPreviewWrapper,null,/*#__PURE__*/_react["default"].createElement(_EditorStylesContainer.EditorStylesContainer,{disabled:disabled||isPreviewMode},/*#__PURE__*/_react["default"].createElement("textarea",{ref:textareaRef})),isPreviewMode&&/*#__PURE__*/_react["default"].createElement(_PreviewWysiwyg["default"],{data:value}));};Editor.defaultProps={disabled:false,error:undefined,isPreviewMode:false,placeholder:'',value:''};Editor.propTypes={disabled:_propTypes["default"].bool,editorRef:_propTypes["default"].shape({current:_propTypes["default"].any}).isRequired,error:_propTypes["default"].string,isPreviewMode:_propTypes["default"].bool,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].string,textareaRef:_propTypes["default"].shape({current:_propTypes["default"].any}).isRequired,value:_propTypes["default"].string};var _default=Editor;exports.default=_default;

/***/ }),

/***/ 57321:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.ExpandButton=exports.EditorLayout=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Flex=__webpack_require__(67826);var _Box=__webpack_require__(5493);var _FocusTrap=__webpack_require__(24824);var _Portal=__webpack_require__(59471);var _BaseButton=__webpack_require__(18445);var _Typography=__webpack_require__(49425);var _helperPlugin=__webpack_require__(68547);var _Collapse=_interopRequireDefault(__webpack_require__(76149));var _reactIntl=__webpack_require__(97132);var _PreviewWysiwyg=_interopRequireDefault(__webpack_require__(76957));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var setOpacity=function setOpacity(hex,alpha){return"".concat(hex).concat(Math.floor(alpha*255).toString(16).padStart(2,0));};var ExpandWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"EditorLayout__ExpandWrapper",componentId:"qmn252-0"})(["background:",";"],function(_ref){var theme=_ref.theme;return setOpacity(theme.colors.neutral800,0.2);});var BoxWithBorder=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"EditorLayout__BoxWithBorder",componentId:"qmn252-1"})(["border-right:1px solid ",";"],function(_ref2){var theme=_ref2.theme;return theme.colors.neutral200;});var ExpandButton=/*#__PURE__*/(0,_styledComponents["default"])(_BaseButton.BaseButton).withConfig({displayName:"EditorLayout__ExpandButton",componentId:"qmn252-2"})(["background-color:transparent;border:none;align-items:center;svg{margin-left:",";path{fill:",";width:","rem;height:","rem;}}"],function(_ref3){var theme=_ref3.theme;return"".concat(theme.spaces[2]);},function(_ref4){var theme=_ref4.theme;return theme.colors.neutral700;},12/16,12/16);exports.ExpandButton=ExpandButton;var EditorLayout=function EditorLayout(_ref5){var children=_ref5.children,isExpandMode=_ref5.isExpandMode,error=_ref5.error,previewContent=_ref5.previewContent,onCollapse=_ref5.onCollapse;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;(0,_react.useEffect)(function(){var body=document.body;if(isExpandMode){body.classList.add('lock-body-scroll');}return function(){if(isExpandMode){body.classList.remove('lock-body-scroll');}};},[isExpandMode]);if(isExpandMode){return/*#__PURE__*/_react["default"].createElement(_Portal.Portal,{role:"dialog","aria-modal":false},/*#__PURE__*/_react["default"].createElement(_FocusTrap.FocusTrap,{onEscape:onCollapse},/*#__PURE__*/_react["default"].createElement(ExpandWrapper,{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:4,justifyContent:"center"},/*#__PURE__*/_react["default"].createElement(_Box.Box,{id:"wysiwyg-expand",background:"neutral0",hasRadius:true,shadow:"popupShadow",overflow:"hidden",width:"70%",height:"70%"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{height:"100%",alignItems:"flex-start"},/*#__PURE__*/_react["default"].createElement(BoxWithBorder,{flex:"1",height:"100%"},children),/*#__PURE__*/_react["default"].createElement(_Box.Box,{flex:"1",height:"100%"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{height:(0,_helperPlugin.pxToRem)(48),background:"neutral100",justifyContent:"flex-end"},/*#__PURE__*/_react["default"].createElement(ExpandButton,{id:"collapse",onClick:onCollapse},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,null,formatMessage({id:'components.Wysiwyg.collapse',defaultMessage:'Collapse'})),/*#__PURE__*/_react["default"].createElement(_Collapse["default"],null))),/*#__PURE__*/_react["default"].createElement(_Box.Box,{position:"relative",height:"100%"},/*#__PURE__*/_react["default"].createElement(_PreviewWysiwyg["default"],{data:previewContent}))))))));}return/*#__PURE__*/_react["default"].createElement(_Box.Box,{borderColor:error?'danger600':'neutral200',borderStyle:"solid",borderWidth:"1px",hasRadius:true},children);};exports.EditorLayout=EditorLayout;EditorLayout.defaultProps={error:undefined,previewContent:''};EditorLayout.propTypes={children:_propTypes["default"].node.isRequired,error:_propTypes["default"].string,isExpandMode:_propTypes["default"].bool.isRequired,previewContent:_propTypes["default"].string,onCollapse:_propTypes["default"].func.isRequired};

/***/ }),

/***/ 71281:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.EditorStylesContainer=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));/* eslint-disable */ /* stylelint-disable */var EditorStylesContainer=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"EditorStylesContainer",componentId:"kl3z57-0"})(["cursor:",";.CodeMirror-placeholder{color:"," !important;}.CodeMirror{font-size:","rem;height:290px;color:",";direction:ltr;font-family:--apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;}.CodeMirror-lines{padding:",";}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:white;}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap;}.CodeMirror-linenumbers{}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap;}.CodeMirror-guttermarker{color:black;}.CodeMirror-guttermarker-subtle{color:#999;}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0;}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver;}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0 !important;background:#7e7;}.cm-fat-cursor div.CodeMirror-cursors{}.cm-fat-cursor-mark{background-color:rgba(20,255,20,0.5);-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;}.cm-animate-fat-cursor{width:auto;border:0;-webkit-animation:blink 1.06s steps(1) infinite;-moz-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite;background-color:#7e7;}.CodeMirror-overwrite .CodeMirror-cursor{}.cm-tab{display:inline-block;text-decoration:inherit;}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:0;overflow:hidden;}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute;}.cm-header,.cm-strong{font-weight:bold;}.cm-em{font-style:italic;}.cm-link{text-decoration:underline;}.cm-strikethrough{text-decoration:line-through;}.CodeMirror-composing{border-bottom:2px solid;}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0;}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22;}.CodeMirror-matchingtag{background:rgba(255,150,0,0.3);}.CodeMirror-activeline-background{background:#e8f2ff;}.CodeMirror{position:relative;overflow:hidden;background:white;}.CodeMirror-scroll{overflow:scroll !important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;}.CodeMirror-sizer{position:relative;border-right:50px solid transparent;}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:1;display:none;outline:none;}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll;}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll;}.CodeMirror-scrollbar-filler{right:0;bottom:0;}.CodeMirror-lines{cursor:text;min-height:1px;}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual;}.CodeMirror pre.CodeMirror-line-like{z-index:2;}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal;}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0;}.CodeMirror-linewidget{position:relative;padding:0.1px;}.CodeMirror-widget{}.CodeMirror-rtl pre{direction:rtl;}.CodeMirror-code{outline:none;}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box;}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden;}.CodeMirror-cursor{position:absolute;pointer-events:none;}.CodeMirror-measure pre{position:static;}div.CodeMirror-cursors{visibility:hidden;position:relative;+ div{z-index:0 !important;}}div.CodeMirror-dragcursors{visibility:visible;}.CodeMirror-focused div.CodeMirror-cursors{visibility:visible;}.CodeMirror-selected{background:",";}.CodeMirror-crosshair{cursor:crosshair;}.cm-force-border{padding-right:0.1px;}.cm-tab-wrap-hack:after{content:'';}span.CodeMirror-selectedtext{background:none;}span{color:"," !important;}"],function(_ref){var disabled=_ref.disabled;return disabled?'not-allowed !important':'auto';},function(_ref2){var theme=_ref2.theme;return theme.colors.neutral600;},14/16,function(_ref3){var theme=_ref3.theme;return theme.colors.neutral800;},function(_ref4){var theme=_ref4.theme;return"".concat(theme.spaces[3]," ").concat(theme.spaces[4]);},function(_ref5){var theme=_ref5.theme;return theme.colors.neutral200;},function(_ref6){var theme=_ref6.theme;return theme.colors.neutral800;});exports.EditorStylesContainer=EditorStylesContainer;

/***/ }),

/***/ 27705:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Expand=_interopRequireDefault(__webpack_require__(52286));var _WysiwygStyles=__webpack_require__(54273);var WysiwygFooter=function WysiwygFooter(_ref){var isPreviewMode=_ref.isPreviewMode,onToggleExpand=_ref.onToggleExpand;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:2,background:"neutral100",hasRadius:true},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"flex-end",alignItems:"flex-end"},/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.ExpandButton,{id:"expand",disabled:isPreviewMode,onClick:onToggleExpand},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,null,formatMessage({id:'components.WysiwygBottomControls.fullscreen',defaultMessage:'Expand'})),/*#__PURE__*/_react["default"].createElement(_Expand["default"],null))));};WysiwygFooter.defaultProps={onToggleExpand:function onToggleExpand(){},isPreviewMode:false};WysiwygFooter.propTypes={onToggleExpand:_propTypes["default"].func,isPreviewMode:_propTypes["default"].bool};var _default=WysiwygFooter;exports.default=_default;

/***/ }),

/***/ 17403:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Box=__webpack_require__(5493);var _Button=__webpack_require__(19408);var _IconButton=__webpack_require__(30741);var _Select=__webpack_require__(43808);var _Popover=__webpack_require__(24955);var _Flex=__webpack_require__(67826);var _Bold=_interopRequireDefault(__webpack_require__(53418));var _Italic=_interopRequireDefault(__webpack_require__(36531));var _Underline=_interopRequireDefault(__webpack_require__(89084));var _Strikethrough=_interopRequireDefault(__webpack_require__(76096));var _BulletList=_interopRequireDefault(__webpack_require__(61517));var _NumberList=_interopRequireDefault(__webpack_require__(24509));var _Code=_interopRequireDefault(__webpack_require__(74389));var _Picture=_interopRequireDefault(__webpack_require__(16305));var _Link=_interopRequireDefault(__webpack_require__(42724));var _Quote=_interopRequireDefault(__webpack_require__(50086));var _More=_interopRequireDefault(__webpack_require__(83657));var _WysiwygStyles=__webpack_require__(54273);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var WysiwygNav=function WysiwygNav(_ref){var editorRef=_ref.editorRef,isPreviewMode=_ref.isPreviewMode,onActionClick=_ref.onActionClick,onToggleMediaLib=_ref.onToggleMediaLib,onTogglePreviewMode=_ref.onTogglePreviewMode;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),visiblePopover=_useState2[0],setVisiblePopover=_useState2[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var selectPlaceholder=formatMessage({id:'components.Wysiwyg.selectOptions.title',defaultMessage:'Add a title'});var buttonMoreRef=(0,_react.useRef)();var handleTogglePopover=function handleTogglePopover(){return setVisiblePopover(function(prev){return!prev;});};if(isPreviewMode){return/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:2,background:"neutral100"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_Select.Select,{disabled:true,id:"selectTitle",placeholder:selectPlaceholder,size:"S","aria-label":selectPlaceholder},/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h1"},"h1"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h2"},"h2"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h3"},"h3"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h4"},"h4"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h5"},"h5"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h6"},"h6")),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.MainButtons,null,/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{disabled:true,id:"Bold",label:"Bold",name:"Bold",icon:/*#__PURE__*/_react["default"].createElement(_Bold["default"],null)}),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{disabled:true,id:"Italic",label:"Italic",name:"Italic",icon:/*#__PURE__*/_react["default"].createElement(_Italic["default"],null)}),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{disabled:true,id:"Underline",label:"Underline",name:"Underline",icon:/*#__PURE__*/_react["default"].createElement(_Underline["default"],null)})),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.MoreButton,{disabled:true,ref:buttonMoreRef,id:"more",label:"More",icon:/*#__PURE__*/_react["default"].createElement(_More["default"],null)})),/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onTogglePreviewMode,variant:"tertiary",size:"L",id:"preview"},formatMessage({id:'components.Wysiwyg.ToggleMode.markdown-mode',defaultMessage:'Markdown mode'}))));}return/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:2,background:"neutral100"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_Select.Select,{id:"selectTitle",placeholder:selectPlaceholder,size:"S",onChange:function onChange(value){return onActionClick(value,editorRef);}},/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h1"},"h1"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h2"},"h2"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h3"},"h3"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h4"},"h4"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h5"},"h5"),/*#__PURE__*/_react["default"].createElement(_Select.Option,{value:"h6"},"h6")),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.MainButtons,null,/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{onClick:function onClick(){return onActionClick('Bold',editorRef);},id:"Bold",label:"Bold",name:"Bold",icon:/*#__PURE__*/_react["default"].createElement(_Bold["default"],null)}),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{onClick:function onClick(){return onActionClick('Italic',editorRef);},id:"Italic",label:"Italic",name:"Italic",icon:/*#__PURE__*/_react["default"].createElement(_Italic["default"],null)}),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{onClick:function onClick(){return onActionClick('Underline',editorRef);},id:"Underline",label:"Underline",name:"Underline",icon:/*#__PURE__*/_react["default"].createElement(_Underline["default"],null)})),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.MoreButton,{ref:buttonMoreRef,onClick:handleTogglePopover,id:"more",label:"More",icon:/*#__PURE__*/_react["default"].createElement(_More["default"],null)}),visiblePopover&&/*#__PURE__*/_react["default"].createElement(_Popover.Popover,{centered:true,source:buttonMoreRef,spacing:4,id:"popover"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.IconButtonGroupMargin,null,/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{onClick:function onClick(){return onActionClick('Strikethrough',editorRef,handleTogglePopover);},id:"Strikethrough",label:"Strikethrough",name:"Strikethrough",icon:/*#__PURE__*/_react["default"].createElement(_Strikethrough["default"],null)}),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{onClick:function onClick(){return onActionClick('BulletList',editorRef,handleTogglePopover);},id:"BulletList",label:"BulletList",name:"BulletList",icon:/*#__PURE__*/_react["default"].createElement(_BulletList["default"],null)}),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{onClick:function onClick(){return onActionClick('NumberList',editorRef,handleTogglePopover);},id:"NumberList",label:"NumberList",name:"NumberList",icon:/*#__PURE__*/_react["default"].createElement(_NumberList["default"],null)})),/*#__PURE__*/_react["default"].createElement(_IconButton.IconButtonGroup,null,/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{onClick:function onClick(){return onActionClick('Code',editorRef,handleTogglePopover);},id:"Code",label:"Code",name:"Code",icon:/*#__PURE__*/_react["default"].createElement(_Code["default"],null)}),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{onClick:function onClick(){handleTogglePopover();onToggleMediaLib();},id:"Image",label:"Image",name:"Image",icon:/*#__PURE__*/_react["default"].createElement(_Picture["default"],null)}),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomLinkIconButton,{onClick:function onClick(){return onActionClick('Link',editorRef,handleTogglePopover);},id:"Link",label:"Link",name:"Link"// eslint-disable-next-line jsx-a11y/anchor-is-valid
,icon:/*#__PURE__*/_react["default"].createElement(_Link["default"],null)}),/*#__PURE__*/_react["default"].createElement(_WysiwygStyles.CustomIconButton,{onClick:function onClick(){return onActionClick('Quote',editorRef,handleTogglePopover);},id:"Quote",label:"Quote",name:"Quote",icon:/*#__PURE__*/_react["default"].createElement(_Quote["default"],null)}))))),onTogglePreviewMode&&/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onTogglePreviewMode,variant:"tertiary",id:"preview"},formatMessage({id:'components.Wysiwyg.ToggleMode.preview-mode',defaultMessage:'Preview mode'}))));};WysiwygNav.defaultProps={isPreviewMode:false,onActionClick:function onActionClick(){},onToggleMediaLib:function onToggleMediaLib(){},onTogglePreviewMode:undefined};WysiwygNav.propTypes={editorRef:_propTypes["default"].shape({current:_propTypes["default"].any}).isRequired,isPreviewMode:_propTypes["default"].bool,onActionClick:_propTypes["default"].func,onToggleMediaLib:_propTypes["default"].func,onTogglePreviewMode:_propTypes["default"].func};var _default=WysiwygNav;exports.default=_default;

/***/ }),

/***/ 54273:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.MoreButton=exports.MainButtons=exports.IconButtonGroupMargin=exports.ExpandButton=exports.EditorAndPreviewWrapper=exports.CustomLinkIconButton=exports.CustomIconButton=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _IconButton=__webpack_require__(30741);var _BaseButton=__webpack_require__(18445);// NAV BUTTONS
var CustomIconButton=/*#__PURE__*/(0,_styledComponents["default"])(_IconButton.IconButton).withConfig({displayName:"WysiwygStyles__CustomIconButton",componentId:"sc-1omeuq1-0"})(["padding:",";outline-offset:-2px !important;svg{width:","rem;height:","rem;}"],function(_ref){var theme=_ref.theme;return theme.spaces[2];},18/16,18/16);exports.CustomIconButton=CustomIconButton;var CustomLinkIconButton=/*#__PURE__*/(0,_styledComponents["default"])(CustomIconButton).withConfig({displayName:"WysiwygStyles__CustomLinkIconButton",componentId:"sc-1omeuq1-1"})(["svg{width:","rem;height:","rem;}"],8/16,8/16);exports.CustomLinkIconButton=CustomLinkIconButton;var MainButtons=/*#__PURE__*/(0,_styledComponents["default"])(_IconButton.IconButtonGroup).withConfig({displayName:"WysiwygStyles__MainButtons",componentId:"sc-1omeuq1-2"})(["margin-left:",";"],function(_ref2){var theme=_ref2.theme;return theme.spaces[4];});exports.MainButtons=MainButtons;var MoreButton=/*#__PURE__*/(0,_styledComponents["default"])(_IconButton.IconButton).withConfig({displayName:"WysiwygStyles__MoreButton",componentId:"sc-1omeuq1-3"})(["margin:",";padding:",";svg{width:","rem;height:","rem;}"],function(_ref3){var theme=_ref3.theme;return"0 ".concat(theme.spaces[2]);},function(_ref4){var theme=_ref4.theme;return theme.spaces[2];},18/16,18/16);// NAV
exports.MoreButton=MoreButton;var IconButtonGroupMargin=/*#__PURE__*/(0,_styledComponents["default"])(_IconButton.IconButtonGroup).withConfig({displayName:"WysiwygStyles__IconButtonGroupMargin",componentId:"sc-1omeuq1-4"})(["margin-right:",";"],function(_ref5){var theme=_ref5.theme;return"".concat(theme.spaces[2]);});// EDITOR && PREVIEW
exports.IconButtonGroupMargin=IconButtonGroupMargin;var EditorAndPreviewWrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"WysiwygStyles__EditorAndPreviewWrapper",componentId:"sc-1omeuq1-5"})(["position:relative;"]);// FOOTER
exports.EditorAndPreviewWrapper=EditorAndPreviewWrapper;var ExpandButton=/*#__PURE__*/(0,_styledComponents["default"])(_BaseButton.BaseButton).withConfig({displayName:"WysiwygStyles__ExpandButton",componentId:"sc-1omeuq1-6"})(["background-color:transparent;border:none;align-items:center;svg{margin-left:",";path{fill:",";width:","rem;height:","rem;}}"],function(_ref6){var theme=_ref6.theme;return"".concat(theme.spaces[2]);},function(_ref7){var theme=_ref7.theme;return theme.colors.neutral700;},12/16,12/16);exports.ExpandButton=ExpandButton;

/***/ }),

/***/ 50424:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactIntl=__webpack_require__(97132);var _Typography=__webpack_require__(49425);var _Box=__webpack_require__(5493);var _Stack=__webpack_require__(9008);var _helperPlugin=__webpack_require__(68547);var _Editor=_interopRequireDefault(__webpack_require__(69030));var _WysiwygNav=_interopRequireDefault(__webpack_require__(17403));var _WysiwygFooter=_interopRequireDefault(__webpack_require__(27705));var _Hint=_interopRequireDefault(__webpack_require__(32266));var _utils=__webpack_require__(15612);var _EditorLayout=__webpack_require__(57321);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var LabelAction=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Wysiwyg__LabelAction",componentId:"c0p90q-0"})(["svg path{fill:",";}"],function(_ref){var theme=_ref.theme;return theme.colors.neutral500;});var Wysiwyg=function Wysiwyg(_ref2){var description=_ref2.description,disabled=_ref2.disabled,error=_ref2.error,intlLabel=_ref2.intlLabel,labelAction=_ref2.labelAction,name=_ref2.name,onChange=_ref2.onChange,placeholder=_ref2.placeholder,value=_ref2.value;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var textareaRef=(0,_react.useRef)(null);var editorRef=(0,_react.useRef)(null);var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isPreviewMode=_useState2[0],setIsPreviewMode=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),mediaLibVisible=_useState4[0],setMediaLibVisible=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isExpandMode=_useState6[0],setIsExpandMode=_useState6[1];var _useLibrary=(0,_helperPlugin.useLibrary)(),components=_useLibrary.components;var MediaLibraryDialog=components['media-library'];var handleToggleMediaLib=function handleToggleMediaLib(){return setMediaLibVisible(function(prev){return!prev;});};var handleTogglePreviewMode=function handleTogglePreviewMode(){return setIsPreviewMode(function(prev){return!prev;});};var handleToggleExpand=function handleToggleExpand(){return setIsExpandMode(function(prev){return!prev;});};var handleActionClick=function handleActionClick(value,currentEditorRef,togglePopover){switch(value){case'Link':case'Strikethrough':{(0,_utils.markdownHandler)(currentEditorRef,value);togglePopover();break;}case'Code':case'Quote':{(0,_utils.quoteAndCodeHandler)(currentEditorRef,value);togglePopover();break;}case'Bold':case'Italic':case'Underline':{(0,_utils.markdownHandler)(currentEditorRef,value);break;}case'BulletList':case'NumberList':{(0,_utils.listHandler)(currentEditorRef,value);togglePopover();break;}case'h1':case'h2':case'h3':case'h4':case'h5':case'h6':{(0,_utils.titleHandler)(currentEditorRef,value);break;}default:{// Nothing
}}};var handleSelectAssets=function handleSelectAssets(files){var formattedFiles=files.map(function(f){return{alt:f.alternativeText||f.name,url:(0,_helperPlugin.prefixFileUrlWithBackendUrl)(f.url),mime:f.mime};});(0,_utils.insertFile)(editorRef,formattedFiles);setMediaLibVisible(false);};var formattedPlaceholder=placeholder?formatMessage({id:placeholder.id,defaultMessage:placeholder.defaultMessage},_objectSpread({},placeholder.values)):'';var errorMessage=error?formatMessage({id:error,defaultMessage:error}):'';var label=intlLabel.id?formatMessage({id:intlLabel.id,defaultMessage:intlLabel.defaultMessage},_objectSpread({},intlLabel.values)):name;return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:1},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:1},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},label),labelAction&&/*#__PURE__*/_react["default"].createElement(LabelAction,{paddingLeft:1},labelAction)),/*#__PURE__*/_react["default"].createElement(_EditorLayout.EditorLayout,{isExpandMode:isExpandMode,error:error,previewContent:value,onCollapse:handleToggleExpand},/*#__PURE__*/_react["default"].createElement(_WysiwygNav["default"],{editorRef:editorRef,isPreviewMode:isPreviewMode,onActionClick:handleActionClick,onToggleMediaLib:handleToggleMediaLib,onTogglePreviewMode:isExpandMode?undefined:handleTogglePreviewMode}),/*#__PURE__*/_react["default"].createElement(_Editor["default"],{disabled:disabled,editorRef:editorRef,error:errorMessage,isPreviewMode:isPreviewMode,name:name,onChange:onChange,placeholder:formattedPlaceholder,textareaRef:textareaRef,value:value}),!isExpandMode&&/*#__PURE__*/_react["default"].createElement(_WysiwygFooter["default"],{isPreviewMode:isPreviewMode,onToggleExpand:handleToggleExpand})),/*#__PURE__*/_react["default"].createElement(_Hint["default"],{description:description,name:name,error:error})),errorMessage&&/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:1},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",textColor:"danger600","data-strapi-field-error":true},errorMessage)),mediaLibVisible&&/*#__PURE__*/_react["default"].createElement(MediaLibraryDialog,{onClose:handleToggleMediaLib,onSelectAssets:handleSelectAssets}));};Wysiwyg.defaultProps={description:null,disabled:true,error:'',labelAction:undefined,placeholder:null,value:''};Wysiwyg.propTypes={description:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),disabled:_propTypes["default"].bool,error:_propTypes["default"].string,intlLabel:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}).isRequired,labelAction:_propTypes["default"].element,name:_propTypes["default"].string.isRequired,onChange:_propTypes["default"].func.isRequired,placeholder:_propTypes["default"].shape({id:_propTypes["default"].string.isRequired,defaultMessage:_propTypes["default"].string.isRequired,values:_propTypes["default"].object}),value:_propTypes["default"].string};var _default=Wysiwyg;exports.default=_default;

/***/ }),

/***/ 25734:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _codemirror=_interopRequireDefault(__webpack_require__(4631));// Disabling eslint on purpose
/* eslint-disable */var listRE=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,emptyListRE=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,unorderedListRE=/[*+-]\s/;/* 
  functions coming from CodeMirror addons continuelist.js
  ===> https://github.com/codemirror/CodeMirror/blob/master/addon/edit/continuelist.js 

  we imported it because the way the addon ask to use markdown mode
  since we have our own markdown preview system we couldn't use it directly
  only thing we changed is removing the part that enabled addon only with markdown mode
*/function newlineAndIndentContinueMarkdownList(cm){if(cm.getOption('disableInput'))return _codemirror["default"].Pass;var ranges=cm.listSelections(),replacements=[];for(var i=0;i<ranges.length;i++){var pos=ranges[i].head;var eolState=cm.getStateAfter(pos.line);var inList=eolState.list!==false;var inQuote=eolState.quote!==0;var line=cm.getLine(pos.line),match=listRE.exec(line);var cursorBeforeBullet=/^\s*$/.test(line.slice(0,pos.ch));if(!ranges[i].empty()||!inList&&!inQuote||!match||cursorBeforeBullet){cm.execCommand('newlineAndIndent');return;}if(emptyListRE.test(line)){var endOfQuote=inQuote&&/>\s*$/.test(line);var endOfList=!/>\s*$/.test(line);if(endOfQuote||endOfList)cm.replaceRange('',{line:pos.line,ch:0},{line:pos.line,ch:pos.ch+1});replacements[i]='\n';}else{var indent=match[1],after=match[5];var numbered=!(unorderedListRE.test(match[2])||match[2].indexOf('>')>=0);var bullet=numbered?parseInt(match[3],10)+1+match[4]:match[2].replace('x',' ');replacements[i]='\n'+indent+bullet+after;if(numbered)incrementRemainingMarkdownListNumbers(cm,pos);}}cm.replaceSelections(replacements);}function incrementRemainingMarkdownListNumbers(cm,pos){var startLine=pos.line,lookAhead=0,skipCount=0;var startItem=listRE.exec(cm.getLine(startLine)),startIndent=startItem[1];do{lookAhead+=1;var nextLineNumber=startLine+lookAhead;var nextLine=cm.getLine(nextLineNumber);var nextItem=listRE.exec(nextLine);if(nextItem){var nextIndent=nextItem[1];var newNumber=parseInt(startItem[3],10)+lookAhead-skipCount;var nextNumber=parseInt(nextItem[3],10),itemNumber=nextNumber;if(startIndent===nextIndent&&!isNaN(nextNumber)){if(newNumber===nextNumber)itemNumber=nextNumber+1;if(newNumber>nextNumber)itemNumber=newNumber+1;cm.replaceRange(nextLine.replace(listRE,nextIndent+itemNumber+nextItem[4]+nextItem[5]),{line:nextLineNumber,ch:0},{line:nextLineNumber,ch:nextLine.length});}else{if(startIndent.length>nextIndent.length)return;// This doesn't run if the next line immediately indents, as it is
// not clear of the users intention (new indented item or same level)
if(startIndent.length<nextIndent.length&&lookAhead===1)return;skipCount+=1;}}}while(nextItem);}var _default=newlineAndIndentContinueMarkdownList;exports.default=_default;

/***/ }),

/***/ 15612:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.titleHandler=exports.replaceText=exports.quoteAndCodeHandler=exports.markdownHandler=exports.listHandler=exports.insertText=exports.insertListOrTitle=exports.insertFile=void 0;var replaceText=function replaceText(markdownName,textToChange){var editedText;switch(markdownName){case'Strikethrough':editedText="~~".concat(textToChange,"~~");break;case'Bold':editedText="**".concat(textToChange,"**");break;case'Italic':editedText="_".concat(textToChange,"_");break;case'Underline':editedText="<u>".concat(textToChange,"</u>");break;case'Code':editedText="```\n".concat(textToChange,"\n```");break;case'Link':editedText="[".concat(textToChange,"](link)");break;case'Quote':editedText=">".concat(textToChange);break;default:editedText=textToChange;}return editedText;};exports.replaceText=replaceText;var insertText=function insertText(markdownName){var editedText;// object to calculate text that will be selected after insert of markdown
var selection={start:markdownName.length,end:0};switch(markdownName){case'Strikethrough':editedText="~~".concat(markdownName,"~~");selection.end=2;break;case'Bold':editedText="**".concat(markdownName,"**");selection.end=2;break;case'Italic':editedText="_".concat(markdownName,"_");selection.end=1;break;case'alt':editedText="[".concat(markdownName,"]()");selection.end=3;break;case'Underline':editedText="<u>".concat(markdownName,"</u>");selection.end=4;break;case'Code':editedText="```\n".concat(markdownName,"\n```");selection.end=3;break;case'Link':editedText="[".concat(markdownName,"](link)");selection.end=7;break;case'Quote':editedText=">".concat(markdownName);selection.end=0;break;default:editedText='';}return{editedText:editedText,selection:selection};};exports.insertText=insertText;var insertListOrTitle=function insertListOrTitle(markdown){var textToInsert;switch(markdown){case'BulletList':textToInsert='- ';break;case'NumberList':textToInsert='1. ';break;case'h1':textToInsert='# ';break;case'h2':textToInsert='## ';break;case'h3':textToInsert='### ';break;case'h4':textToInsert='#### ';break;case'h5':textToInsert='##### ';break;case'h6':textToInsert='###### ';break;default:return'';}return textToInsert;};// EDITOR ACTIONS FUNCTIONS
exports.insertListOrTitle=insertListOrTitle;var markdownHandler=function markdownHandler(editor,markdownType){var textToEdit=editor.current.getSelection();var textToInsert;if(textToEdit){var editedText=replaceText(markdownType,textToEdit);editor.current.replaceSelection(editedText);editor.current.focus();}else{textToInsert=insertText(markdownType);editor.current.replaceSelection(textToInsert.editedText);editor.current.focus();// set selection-focus to text to replace with content
var _editor$current$getCu=editor.current.getCursor(),line=_editor$current$getCu.line,ch=_editor$current$getCu.ch;var endSelection=ch-textToInsert.selection.end;var startSelection=ch-textToInsert.selection.end-textToInsert.selection.start;editor.current.setSelection({line:line,ch:startSelection},{line:line,ch:endSelection});}};exports.markdownHandler=markdownHandler;var listHandler=function listHandler(editor,listType){var doc=editor.current.getDoc();var insertion=listType==='BulletList'?'- ':'1. ';if(doc.somethingSelected()){var selections=doc.listSelections();var remove=null;editor.current.operation(function(){selections.forEach(function(selection){var pos=[selection.head.line,selection.anchor.line].sort();// Remove if the first text starts with it
if(remove==null){remove=doc.getLine(pos[0]).startsWith(insertion);}for(var i=pos[0];i<=pos[1];i++){if(remove){// Don't remove if we don't start with it
if(doc.getLine(i).startsWith(insertion)){doc.replaceRange('',{line:i,ch:0},{line:i,ch:insertion.length});}}else{var lineInsertion=listType==='BulletList'?'- ':"".concat(i+1,". ");doc.replaceRange(lineInsertion,{line:i,ch:0});}}});});}else{var _doc$getCursor=doc.getCursor(),currentLine=_doc$getCursor.line;var listToInsert=insertListOrTitle(listType);var lineContent=editor.current.getLine(currentLine);var textToInsert=listToInsert+lineContent;editor.current.setSelection({line:currentLine,ch:0},{line:currentLine,ch:lineContent.length});editor.current.replaceSelection(textToInsert);}editor.current.focus();};exports.listHandler=listHandler;var titleHandler=function titleHandler(editor,titleType){var _editor$current$getCu2=editor.current.getCursor(),currentLine=_editor$current$getCu2.line;var titleToInsert=insertListOrTitle(titleType);var lineContent=editor.current.getLine(currentLine);// replace hashtags followed by a space in case user want to change the type of title
var lineWithNoTitle=lineContent.replace(/#{1,6}\s/g,'').trim();var textToInsert=titleToInsert+lineWithNoTitle;editor.current.setSelection({line:currentLine,ch:0},{line:currentLine,ch:lineContent.length});editor.current.replaceSelection(textToInsert);setTimeout(function(){var newLastLineLength=editor.current.getLine(currentLine).length;editor.current.focus();editor.current.setCursor({line:currentLine,ch:newLastLineLength});},0);};exports.titleHandler=titleHandler;var insertFile=function insertFile(editor,files){var _editor$current$getCu3=editor.current.getCursor(),line=_editor$current$getCu3.line,ch=_editor$current$getCu3.ch;files.forEach(function(file,i){var contentLength=editor.current.getLine(line).length;editor.current.setCursor({line:line,ch:contentLength});// create a new line after first image markdown inserted
// or if there is content in current line
if(i>0||i===0&&ch!==0){contentLength=editor.current.getLine(line).length;editor.current.setCursor({line:line,ch:contentLength});line++;editor.current.replaceSelection('\n');}if(file.mime.includes('image')){editor.current.replaceSelection("![".concat(file.alt,"](").concat(file.url,")"));}else{editor.current.replaceSelection("[".concat(file.alt,"](").concat(file.url,")"));}});setTimeout(function(){return editor.current.focus();},0);};// NEXT FUNCTIONS FOR QUOTE OR CODE MARKDOWN
exports.insertFile=insertFile;var insertWithTextToEdit=function insertWithTextToEdit(editor,markdownType,line,contentLength,textToEdit){var textToInsert=replaceText(markdownType,textToEdit);// remove content after current line
var contentToMove=editor.current.getRange({line:line+1,ch:0},{line:Infinity,ch:Infinity});editor.current.replaceRange('',{line:line+1,ch:0},{line:Infinity,ch:Infinity});// remove word that was selected
// set cursor end of line + move to next line
// add text to insert
editor.current.replaceSelection('');editor.current.setCursor({line:line,ch:contentLength});editor.current.replaceSelection('\n');editor.current.replaceSelection(textToInsert);if(markdownType==='Code'){var _editor$current$getCu4=editor.current.getCursor(),newLine=_editor$current$getCu4.line;editor.current.setCursor({line:newLine-1,ch:textToEdit.length});}// add content we had to remove earlier
editor.current.replaceRange(contentToMove,{line:line+4,ch:0},{line:Infinity,ch:Infinity});editor.current.focus();};var insertWithoutTextToEdit=function insertWithoutTextToEdit(editor,markdownType,line,contentLength){var textToInsert=insertText(markdownType);// remove content after current line
var contentToMove=editor.current.getRange({line:line+1,ch:0},{line:Infinity,ch:Infinity});editor.current.replaceRange('',{line:line+1,ch:0},{line:Infinity,ch:Infinity});// replace cursor to next line
editor.current.setCursor({line:line,ch:contentLength});editor.current.replaceSelection('\n');editor.current.replaceSelection(textToInsert.editedText);// set selection on "Code" or "Quote" word
if(markdownType==='Code'){line+=2;editor.current.setSelection({line:line,ch:0},{line:line,ch:4});}else{line+=1;var _editor$current$getCu5=editor.current.getCursor(),ch=_editor$current$getCu5.ch;var endSelection=ch-textToInsert.selection.end;var startSelection=ch-textToInsert.selection.end-textToInsert.selection.start;editor.current.setSelection({line:line,ch:startSelection},{line:line,ch:endSelection});}// add content we had to remove earlier
editor.current.replaceRange(contentToMove,{line:line+2,ch:0},{line:Infinity,ch:Infinity});editor.current.focus();};var quoteAndCodeHandler=function quoteAndCodeHandler(editor,markdownType){var textToEdit=editor.current.getSelection();var _editor$current$getCu6=editor.current.getCursor(),line=_editor$current$getCu6.line;var contentLength=editor.current.getLine(line).length;if(textToEdit){insertWithTextToEdit(editor,markdownType,line,contentLength,textToEdit);}else{insertWithoutTextToEdit(editor,markdownType,line,contentLength);}};exports.quoteAndCodeHandler=quoteAndCodeHandler;

/***/ }),

/***/ 66755:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var ContentTypeLayout=/*#__PURE__*/(0,_react.createContext)();var _default=ContentTypeLayout;exports.default=_default;

/***/ }),

/***/ 22869:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var LayoutDndContext=/*#__PURE__*/(0,_react.createContext)();var _default=LayoutDndContext;exports.default=_default;

/***/ }),

/***/ 66973:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var ModelsContext=/*#__PURE__*/(0,_react.createContext)();var _default=ModelsContext;exports.default=_default;

/***/ }),

/***/ 91896:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var WysiwygContext=/*#__PURE__*/(0,_react.createContext)();var _default=WysiwygContext;exports.default=_default;

/***/ }),

/***/ 42688:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "ContentTypeLayoutContext", ({enumerable:true,get:function get(){return _ContentTypeLayout["default"];}}));Object.defineProperty(exports, "LayoutDndContext", ({enumerable:true,get:function get(){return _LayoutDnd["default"];}}));Object.defineProperty(exports, "WysiwygContext", ({enumerable:true,get:function get(){return _Wysiwyg["default"];}}));var _ContentTypeLayout=_interopRequireDefault(__webpack_require__(66755));var _LayoutDnd=_interopRequireDefault(__webpack_require__(22869));var _Wysiwyg=_interopRequireDefault(__webpack_require__(91896));

/***/ }),

/***/ 14772:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "useContentTypeLayout", ({enumerable:true,get:function get(){return _useContentTypeLayout["default"];}}));Object.defineProperty(exports, "useFetchContentTypeLayout", ({enumerable:true,get:function get(){return _useFetchContentTypeLayout["default"];}}));Object.defineProperty(exports, "useFindRedirectionLink", ({enumerable:true,get:function get(){return _useFindRedirectionLink["default"];}}));Object.defineProperty(exports, "useLayoutDnd", ({enumerable:true,get:function get(){return _useLayoutDnd["default"];}}));Object.defineProperty(exports, "usePluginsQueryParams", ({enumerable:true,get:function get(){return _usePluginsQueryParams["default"];}}));Object.defineProperty(exports, "useSyncRbac", ({enumerable:true,get:function get(){return _useSyncRbac["default"];}}));Object.defineProperty(exports, "useWysiwyg", ({enumerable:true,get:function get(){return _useWysiwyg["default"];}}));var _useContentTypeLayout=_interopRequireDefault(__webpack_require__(97094));var _useFetchContentTypeLayout=_interopRequireDefault(__webpack_require__(12222));var _useFindRedirectionLink=_interopRequireDefault(__webpack_require__(2550));var _useLayoutDnd=_interopRequireDefault(__webpack_require__(9196));var _usePluginsQueryParams=_interopRequireDefault(__webpack_require__(30995));var _useSyncRbac=_interopRequireDefault(__webpack_require__(30598));var _useWysiwyg=_interopRequireDefault(__webpack_require__(32392));

/***/ }),

/***/ 97094:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _react=__webpack_require__(67294);var _lodash=__webpack_require__(96486);var _reactRedux=__webpack_require__(37424);var _selectors=_interopRequireDefault(__webpack_require__(94622));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var useContentTypeLayout=function useContentTypeLayout(){var currentLayout=(0,_reactRedux.useSelector)(_selectors["default"]);var getComponentLayout=(0,_react.useCallback)(function(componentUid){return(0,_lodash.get)(currentLayout,['components',componentUid],{});},[currentLayout]);return _objectSpread(_objectSpread({},currentLayout),{},{getComponentLayout:getComponentLayout});};var _default=useContentTypeLayout;exports.default=_default;

/***/ }),

/***/ 12222:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=__webpack_require__(67294);var _reactRedux=__webpack_require__(37424);var _axios=_interopRequireDefault(__webpack_require__(9669));var _utils=__webpack_require__(53777);var _formatLayouts=_interopRequireDefault(__webpack_require__(14674));var _reducer=_interopRequireWildcard(__webpack_require__(50670));var _selectors=__webpack_require__(19763);var _utils2=__webpack_require__(28564);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var useFetchContentTypeLayout=function useFetchContentTypeLayout(contentTypeUID){var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),_useReducer2$=_useReducer2[0],error=_useReducer2$.error,isLoading=_useReducer2$.isLoading,layout=_useReducer2$.layout,layouts=_useReducer2$.layouts,dispatch=_useReducer2[1];var schemasSelector=(0,_react.useMemo)(_selectors.makeSelectModelAndComponentSchemas,[]);var _useSelector=(0,_reactRedux.useSelector)(function(state){return schemasSelector(state);},_reactRedux.shallowEqual),schemas=_useSelector.schemas;var isMounted=(0,_react.useRef)(true);var getData=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(uid,source){var endPoint,_yield$axiosInstance$,data;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!layouts[uid]){_context.next=3;break;}dispatch({type:'SET_LAYOUT_FROM_STATE',uid:uid});return _context.abrupt("return");case 3:dispatch({type:'GET_DATA'});_context.prev=4;endPoint=(0,_utils2.getRequestUrl)("content-types/".concat(uid,"/configuration"));_context.next=8;return _utils.axiosInstance.get(endPoint,{cancelToken:source.token});case 8:_yield$axiosInstance$=_context.sent;data=_yield$axiosInstance$.data.data;dispatch({type:'GET_DATA_SUCCEEDED',data:(0,_formatLayouts["default"])(data,schemas)});_context.next=19;break;case 13:_context.prev=13;_context.t0=_context["catch"](4);if(!_axios["default"].isCancel(_context.t0)){_context.next=17;break;}return _context.abrupt("return");case 17:if(isMounted.current){console.error(_context.t0);}if(isMounted.current){dispatch({type:'GET_DATA_ERROR',error:_context.t0});}case 19:case"end":return _context.stop();}}},_callee,null,[[4,13]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[layouts,schemas]);(0,_react.useEffect)(function(){return function(){isMounted.current=false;};},[]);(0,_react.useEffect)(function(){var CancelToken=_axios["default"].CancelToken;var source=CancelToken.source();getData(contentTypeUID,source);return function(){source.cancel('Operation canceled by the user.');};},[contentTypeUID,getData]);var updateLayout=(0,_react.useCallback)(function(newLayout){dispatch({type:'UPDATE_LAYOUT',newLayout:(0,_formatLayouts["default"])({contentType:newLayout,components:{}},schemas)});},[schemas]);return{error:error,isLoading:isLoading,layout:layout,updateLayout:updateLayout};};var _default=useFetchContentTypeLayout;exports.default=_default;

/***/ }),

/***/ 50670:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.initialState=exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _immer=_interopRequireDefault(__webpack_require__(66312));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var initialState={error:null,isLoading:true,layout:{},layouts:{}};exports.initialState=initialState;var reducer=function reducer(state,action){return(0,_immer["default"])(state,function(draftState){switch(action.type){case'GET_DATA':{draftState.isLoading=true;draftState.error=null;draftState.layout={};break;}case'GET_DATA_SUCCEEDED':{var contentTypeUid=action.data.contentType.uid;draftState.layout=action.data;draftState.layouts[contentTypeUid]=action.data;draftState.isLoading=false;break;}case'GET_DATA_ERROR':{draftState.isLoading=false;draftState.error=action.error;break;}case'SET_LAYOUT_FROM_STATE':{draftState.error=null;draftState.layout=state.layouts[action.uid];break;}case'UPDATE_LAYOUT':{var oldLayout=state.layout;draftState.layout=_objectSpread(_objectSpread({},oldLayout),{},{contentType:_objectSpread({uid:oldLayout.contentType.uid},action.newLayout.contentType)});draftState.layouts[oldLayout.contentType.uid]=_objectSpread(_objectSpread({},oldLayout),{},{contentType:_objectSpread({uid:oldLayout.contentType.uid},action.newLayout.contentType)});break;}default:return draftState;}});};var _default=reducer;exports.default=_default;

/***/ }),

/***/ 14674:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.getDisplayedModels=exports.generateRelationQueryInfosForComponents=exports.generateRelationQueryInfos=exports.formatListLayoutWithMetas=exports.formatLayoutWithMetas=exports.formatEditRelationsLayoutWithMetas=exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _lodash=__webpack_require__(96486);var _utils=__webpack_require__(28564);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getRelationModel=function getRelationModel(targetModel,models){return models.find(function(model){return model.uid===targetModel;});};// editRelations is an array of strings...
var formatEditRelationsLayoutWithMetas=function formatEditRelationsLayoutWithMetas(contentTypeConfiguration,models){var formatted=contentTypeConfiguration.layouts.editRelations.reduce(function(acc,current){var fieldSchema=(0,_lodash.get)(contentTypeConfiguration,['attributes',current],{});var targetModelUID=(0,_lodash.get)(contentTypeConfiguration,['attributes',current,'targetModel'],null);var targetModelSchema=getRelationModel(targetModelUID,models);var targetModelPluginOptions=targetModelSchema.pluginOptions||{};var metadatas=(0,_lodash.get)(contentTypeConfiguration,['metadatas',current,'edit'],{});var size=6;var queryInfos=generateRelationQueryInfos(contentTypeConfiguration,current,models);acc.push({name:current,size:size,fieldSchema:fieldSchema,metadatas:metadatas,queryInfos:queryInfos,targetModelPluginOptions:targetModelPluginOptions});return acc;},[]);return formatted;};exports.formatEditRelationsLayoutWithMetas=formatEditRelationsLayoutWithMetas;var formatLayouts=function formatLayouts(initialData,models){var data=createMetasSchema(initialData,models);var formattedCTEditLayout=formatLayoutWithMetas(data.contentType,null,models);var ctUid=data.contentType.uid;var formattedEditRelationsLayout=formatEditRelationsLayoutWithMetas(data.contentType,models);var formattedListLayout=formatListLayoutWithMetas(data.contentType,models);(0,_lodash.set)(data,['contentType','layouts','edit'],formattedCTEditLayout);(0,_lodash.set)(data,['contentType','layouts','editRelations'],formattedEditRelationsLayout);(0,_lodash.set)(data,['contentType','layouts','list'],formattedListLayout);Object.keys(data.components).forEach(function(compoUID){var formattedCompoEditLayout=formatLayoutWithMetas(data.components[compoUID],ctUid,models);(0,_lodash.set)(data,['components',compoUID,'layouts','edit'],formattedCompoEditLayout);});return data;};var createMetasSchema=function createMetasSchema(initialData,models){var data=(0,_utils.mergeMetasWithSchema)((0,_lodash.cloneDeep)(initialData),models,'contentType');var components=data.components,contentType=data.contentType;var formatMetadatas=function formatMetadatas(targetSchema){return Object.keys(targetSchema.metadatas).reduce(function(acc,current){var schema=(0,_lodash.get)(targetSchema,['attributes',current],{});var metadatas=targetSchema.metadatas[current];if(schema.type==='relation'){var relationModel=getRelationModel(schema.targetModel,models);var mainFieldName=metadatas.edit.mainField;var mainField={name:mainFieldName,schema:(0,_lodash.get)(relationModel,['attributes',mainFieldName])};metadatas={list:_objectSpread(_objectSpread({},metadatas.list),{},{mainField:mainField}),edit:_objectSpread(_objectSpread({},metadatas.edit),{},{mainField:mainField})};}acc[current]=metadatas;return acc;},{});};(0,_lodash.set)(data,['contentType','metadatas'],formatMetadatas(contentType));Object.keys(components).forEach(function(compoUID){var currentCompo=components[compoUID];var updatedMetas=formatMetadatas(currentCompo);(0,_lodash.set)(data,['components',compoUID,'metadatas'],updatedMetas);});return data;};var formatLayoutWithMetas=function formatLayoutWithMetas(contentTypeConfiguration,ctUid,models){var formatted=contentTypeConfiguration.layouts.edit.reduce(function(acc,current){var row=current.map(function(attribute){var fieldSchema=(0,_lodash.get)(contentTypeConfiguration,['attributes',attribute.name],{});var data=_objectSpread(_objectSpread({},attribute),{},{fieldSchema:fieldSchema,metadatas:(0,_lodash.get)(contentTypeConfiguration,['metadatas',attribute.name,'edit'],{})});if(fieldSchema.type==='relation'){var targetModelUID=fieldSchema.targetModel;var targetModelSchema=getRelationModel(targetModelUID,models);var targetModelPluginOptions=targetModelSchema.pluginOptions||{};var queryInfos=ctUid?generateRelationQueryInfosForComponents(contentTypeConfiguration,attribute.name,ctUid,models):generateRelationQueryInfos(contentTypeConfiguration,attribute.name,models);(0,_lodash.set)(data,'targetModelPluginOptions',targetModelPluginOptions);(0,_lodash.set)(data,'queryInfos',queryInfos);}return data;});acc.push(row);return acc;},[]);return formatted;};exports.formatLayoutWithMetas=formatLayoutWithMetas;var formatListLayoutWithMetas=function formatListLayoutWithMetas(contentTypeConfiguration){var formatted=contentTypeConfiguration.layouts.list.reduce(function(acc,current){var fieldSchema=(0,_lodash.get)(contentTypeConfiguration,['attributes',current],{});var metadatas=(0,_lodash.get)(contentTypeConfiguration,['metadatas',current,'list'],{});var type=fieldSchema.type;if(type==='relation'){var queryInfos={endPoint:"collection-types/".concat(contentTypeConfiguration.uid),defaultParams:{}};acc.push({key:"__".concat(current,"_key__"),name:current,fieldSchema:fieldSchema,metadatas:metadatas,queryInfos:queryInfos});return acc;}acc.push({key:"__".concat(current,"_key__"),name:current,fieldSchema:fieldSchema,metadatas:metadatas});return acc;},[]);return formatted;};exports.formatListLayoutWithMetas=formatListLayoutWithMetas;var generateRelationQueryInfos=function generateRelationQueryInfos(contentTypeConfiguration,fieldName,models){var uid=contentTypeConfiguration.uid;var endPoint=(0,_utils.getRequestUrl)("relations/".concat(uid,"/").concat(fieldName));var mainField=(0,_lodash.get)(contentTypeConfiguration,['metadatas',fieldName,'edit','mainField','name'],'');var targetModel=(0,_lodash.get)(contentTypeConfiguration,['attributes',fieldName,'targetModel'],'');var shouldDisplayRelationLink=getDisplayedModels(models).indexOf(targetModel)!==-1;var queryInfos={endPoint:endPoint,containsKey:"".concat(mainField,"_contains"),defaultParams:{},shouldDisplayRelationLink:shouldDisplayRelationLink};return queryInfos;};exports.generateRelationQueryInfos=generateRelationQueryInfos;var generateRelationQueryInfosForComponents=function generateRelationQueryInfosForComponents(contentTypeConfiguration,fieldName,ctUid,models){var endPoint=(0,_utils.getRequestUrl)("relations/".concat(ctUid,"/").concat(fieldName));var mainField=(0,_lodash.get)(contentTypeConfiguration,['metadatas',fieldName,'edit','mainField','name'],'');var targetModel=(0,_lodash.get)(contentTypeConfiguration,['attributes',fieldName,'targetModel'],'');var shouldDisplayRelationLink=getDisplayedModels(models).indexOf(targetModel)!==-1;var queryInfos={endPoint:endPoint,containsKey:"".concat(mainField,"_contains"),defaultParams:{_component:contentTypeConfiguration.uid},shouldDisplayRelationLink:shouldDisplayRelationLink};return queryInfos;};exports.generateRelationQueryInfosForComponents=generateRelationQueryInfosForComponents;var getDisplayedModels=function getDisplayedModels(models){return models.filter(function(model){return model.isDisplayed;}).map(function(_ref){var uid=_ref.uid;return uid;});};exports.getDisplayedModels=getDisplayedModels;var _default=formatLayouts;exports.default=_default;

/***/ }),

/***/ 2550:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _reactRedux=__webpack_require__(37424);var _helperPlugin=__webpack_require__(68547);var _selectors=_interopRequireDefault(__webpack_require__(70869));var _getRedirectionLink=_interopRequireDefault(__webpack_require__(25263));var useFindRedirectionLink=function useFindRedirectionLink(slug){var _useQueryParams=(0,_helperPlugin.useQueryParams)(),_useQueryParams2=(0,_slicedToArray2["default"])(_useQueryParams,1),rawQuery=_useQueryParams2[0].rawQuery;var collectionTypesMenuLinks=(0,_reactRedux.useSelector)(_selectors["default"]);var redirectionLink=(0,_getRedirectionLink["default"])(collectionTypesMenuLinks,slug,rawQuery);return redirectionLink;};var _default=useFindRedirectionLink;exports.default=_default;

/***/ }),

/***/ 70869:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var selectMenuLinks=function selectMenuLinks(state){var cmState=state['content-manager_app'];return cmState.collectionTypeLinks;};var _default=selectMenuLinks;exports.default=_default;

/***/ }),

/***/ 25263:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.mergeParams=exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _qs=__webpack_require__(80129);var _get=_interopRequireDefault(__webpack_require__(27361));var _isObject=_interopRequireDefault(__webpack_require__(13218));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/**
 * Updates the leafs of the first argument
 * @param {object} initialParams
 * @param {object} params
 * @returns string
 */var mergeParams=function mergeParams(initialParams,params){return Object.keys(initialParams).reduce(function(acc,current){var intialValue=initialParams[current];var nextValue=(0,_get["default"])(params,[current],intialValue);if((0,_isObject["default"])(intialValue)){return _objectSpread(_objectSpread({},acc),{},(0,_defineProperty2["default"])({},current,mergeParams(intialValue,nextValue)));}acc[current]=nextValue;return acc;},{});};exports.mergeParams=mergeParams;var getRedirectionLink=function getRedirectionLink(links,slug,rawQuery){var matchingLink=links.find(function(_ref){var to=_ref.to;return to.includes(slug);});if(!matchingLink){return'/';}var to=matchingLink.to,search=matchingLink.search;var searchQueryParams=(0,_qs.parse)(search);var currentQueryParams=(0,_qs.parse)(rawQuery.substring(1));var mergedParams=mergeParams(searchQueryParams,currentQueryParams);var link="".concat(to,"?").concat((0,_qs.stringify)(mergedParams,{encode:false}));return link;};var _default=getRedirectionLink;exports.default=_default;

/***/ }),

/***/ 9196:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var _LayoutDnd=_interopRequireDefault(__webpack_require__(22869));var useLayoutDnd=function useLayoutDnd(){return(0,_react.useContext)(_LayoutDnd["default"]);};var _default=useLayoutDnd;exports.default=_default;

/***/ }),

/***/ 30995:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _reactRouterDom=__webpack_require__(39711);var _qs=__webpack_require__(80129);var usePluginsQueryParams=function usePluginsQueryParams(){var _useLocation=(0,_reactRouterDom.useLocation)(),search=_useLocation.search;var query=search?(0,_qs.parse)(search.substring(1)):{};return query.plugins?(0,_qs.stringify)({plugins:query.plugins},{encode:false}):'';};var _default=usePluginsQueryParams;exports.default=_default;

/***/ }),

/***/ 59974:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.setPermissions=exports.resetPermissions=void 0;var _constants=__webpack_require__(14338);var setPermissions=function setPermissions(permissions,plugins,containerName){return{type:_constants.SET_PERMISSIONS,permissions:permissions,__meta__:{plugins:plugins,containerName:containerName}};};exports.setPermissions=setPermissions;var resetPermissions=function resetPermissions(){return{type:_constants.RESET_PERMISSIONS};};exports.resetPermissions=resetPermissions;

/***/ }),

/***/ 30598:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var _reactRedux=__webpack_require__(37424);var _actions=__webpack_require__(59974);var _selectors=__webpack_require__(52169);var useSyncRbac=function useSyncRbac(query,collectionTypeUID){var containerName=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'listView';var collectionTypesRelatedPermissions=(0,_reactRedux.useSelector)(_selectors.selectCollectionTypePermissions);var permissions=(0,_reactRedux.useSelector)(_selectors.selectPermissions);var dispatch=(0,_reactRedux.useDispatch)();var relatedPermissions=collectionTypesRelatedPermissions[collectionTypeUID];(0,_react.useEffect)(function(){if(relatedPermissions){dispatch((0,_actions.setPermissions)(relatedPermissions,query?query.plugins:null,containerName));return function(){dispatch((0,_actions.resetPermissions)());};}return function(){};},[relatedPermissions,dispatch,query,containerName]);return permissions;};var _default=useSyncRbac;exports.default=_default;

/***/ }),

/***/ 52169:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.selectPermissions=exports.selectCollectionTypePermissions=void 0;var selectPermissions=function selectPermissions(state){return state['content-manager_rbacManager'].permissions;};exports.selectPermissions=selectPermissions;var selectCollectionTypePermissions=function selectCollectionTypePermissions(state){return state.rbacProvider.collectionTypesRelatedPermissions;};exports.selectCollectionTypePermissions=selectCollectionTypePermissions;

/***/ }),

/***/ 32392:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var _Wysiwyg=_interopRequireDefault(__webpack_require__(91896));var useWysiwyg=function useWysiwyg(){return(0,_react.useContext)(_Wysiwyg["default"]);};var _default=useWysiwyg;exports.default=_default;

/***/ }),

/***/ 40551:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _SubNav=__webpack_require__(4021);var _reactRedux=__webpack_require__(37424);var _reactIntl=__webpack_require__(97132);var _matchSorter=_interopRequireDefault(__webpack_require__(63852));var _sortBy=_interopRequireDefault(__webpack_require__(89734));var _toLower=_interopRequireDefault(__webpack_require__(7334));var _getTrad=_interopRequireDefault(__webpack_require__(36169));var _selectors=__webpack_require__(19763);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var matchByTitle=function matchByTitle(links,search){return(0,_matchSorter["default"])(links,(0,_toLower["default"])(search),{keys:[function(item){return(0,_toLower["default"])(item.title);}]});};var LeftMenu=function LeftMenu(){var _useState=(0,_react.useState)(''),_useState2=(0,_slicedToArray2["default"])(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var modelLinksSelector=(0,_react.useMemo)(_selectors.makeSelectModelLinks,[]);var _useSelector=(0,_reactRedux.useSelector)(function(state){return modelLinksSelector(state);},_reactRedux.shallowEqual),collectionTypeLinks=_useSelector.collectionTypeLinks,singleTypeLinks=_useSelector.singleTypeLinks;var toIntl=function toIntl(links){return links.map(function(link){return _objectSpread(_objectSpread({},link),{},{title:formatMessage({id:link.title,defaultMessage:link.title})});});};var intlCollectionTypeLinks=toIntl(collectionTypeLinks);var intlSingleTypeLinks=toIntl(singleTypeLinks);var menu=[{id:'collectionTypes',title:{id:(0,_getTrad["default"])('components.LeftMenu.collection-types'),defaultMessage:'{number, plural, =0 {Collection Types} one {Collection Type } other {Collection Types}}',values:{number:intlCollectionTypeLinks.length}},searchable:true,links:(0,_sortBy["default"])(matchByTitle(intlCollectionTypeLinks,search),function(object){return object.title.toLowerCase();})},{id:'singleTypes',title:{id:(0,_getTrad["default"])('components.LeftMenu.single-types'),defaultMessage:'{number, plural, =0 {Single Types} one {Single Type } other {Single Types}}',values:{number:intlSingleTypeLinks.length}},searchable:true,links:(0,_sortBy["default"])(matchByTitle(intlSingleTypeLinks,search),function(object){return object.title.toLowerCase();})}];var handleClear=function handleClear(){setSearch('');};var handleChangeSearch=function handleChangeSearch(_ref){var value=_ref.target.value;setSearch(value);};var label=formatMessage({id:(0,_getTrad["default"])('header.name'),defaultMessage:'Content'});return/*#__PURE__*/_react["default"].createElement(_SubNav.SubNav,{ariaLabel:label},/*#__PURE__*/_react["default"].createElement(_SubNav.SubNavHeader,{label:label,searchable:true,value:search,onChange:handleChangeSearch,onClear:handleClear,searchLabel:formatMessage({id:'content-manager.components.LeftMenu.Search.label',defaultMessage:'Search for a content type'})}),/*#__PURE__*/_react["default"].createElement(_SubNav.SubNavSections,null,menu.map(function(section){var label=formatMessage({id:section.title.id,defaultMessage:section.title.defaultMessage},section.title.values);return/*#__PURE__*/_react["default"].createElement(_SubNav.SubNavSection,{key:section.id,label:label,badgeLabel:section.links.length.toString()},section.links.map(function(link){return/*#__PURE__*/_react["default"].createElement(_SubNav.SubNavLink,{key:link.uid,to:"".concat(link.to,"?").concat(link.search)},link.title);}));})));};var _default=LeftMenu;exports.default=_default;

/***/ }),

/***/ 67877:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.setContentTypeLinks=exports.resetProps=exports.getData=void 0;var _constants=__webpack_require__(54617);var getData=function getData(){return{type:_constants.GET_DATA};};exports.getData=getData;var resetProps=function resetProps(){return{type:_constants.RESET_PROPS};};exports.resetProps=resetProps;var setContentTypeLinks=function setContentTypeLinks(authorizedCtLinks,authorizedStLinks,models,components){return{type:_constants.SET_CONTENT_TYPE_LINKS,data:{authorizedCtLinks:authorizedCtLinks,authorizedStLinks:authorizedStLinks,components:components,contentTypeSchemas:models}};};exports.setContentTypeLinks=setContentTypeLinks;

/***/ }),

/***/ 45161:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.App=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _react=_interopRequireDefault(__webpack_require__(67294));var _reactHelmet=__webpack_require__(15482);var _reactRouterDom=__webpack_require__(39711);var _helperPlugin=__webpack_require__(68547);var _Layout=__webpack_require__(78862);var _Main=__webpack_require__(62031);var _reactIntl=__webpack_require__(97132);var _sortBy=_interopRequireDefault(__webpack_require__(89734));var _permissions=_interopRequireDefault(__webpack_require__(13240));var _getTrad=_interopRequireDefault(__webpack_require__(36169));var _DragLayer=_interopRequireDefault(__webpack_require__(5969));var _ModelsContext=_interopRequireDefault(__webpack_require__(66973));var _CollectionTypeRecursivePath=_interopRequireDefault(__webpack_require__(79396));var _ComponentSetttingsView=_interopRequireDefault(__webpack_require__(25195));var _NoContentType=_interopRequireDefault(__webpack_require__(65639));var _NoPermissions=_interopRequireDefault(__webpack_require__(20755));var _SingleTypeRecursivePath=_interopRequireDefault(__webpack_require__(88468));var _LeftMenu=_interopRequireDefault(__webpack_require__(40551));var _useModels2=_interopRequireDefault(__webpack_require__(3267));var cmPermissions=_permissions["default"].contentManager;var App=function App(){var contentTypeMatch=(0,_reactRouterDom.useRouteMatch)("/content-manager/:kind/:uid");var _useModels=(0,_useModels2["default"])(),status=_useModels.status,collectionTypeLinks=_useModels.collectionTypeLinks,singleTypeLinks=_useModels.singleTypeLinks,models=_useModels.models,refetchData=_useModels.refetchData;var authorisedModels=(0,_sortBy["default"])([].concat((0,_toConsumableArray2["default"])(collectionTypeLinks),(0,_toConsumableArray2["default"])(singleTypeLinks)),'title');var _useLocation=(0,_reactRouterDom.useLocation)(),pathname=_useLocation.pathname;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;if(status==='loading'){return/*#__PURE__*/_react["default"].createElement(_Main.Main,{"aria-busy":"true"},/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{title:formatMessage({id:(0,_getTrad["default"])('header.name'),defaultMessage:'Content'})}),/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null));}// Redirect the user to the 403 page
// FIXME when changing the routing
if(authorisedModels.length===0&&models.length>0&&pathname!=='/content-manager/403'){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:"/content-manager/403"});}// Redirect the user to the create content type page
if(models.length===0&&pathname!=='/content-manager/no-content-types'){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:"/content-manager/no-content-types"});}if(!contentTypeMatch&&authorisedModels.length>0){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:"".concat(authorisedModels[0].to).concat(authorisedModels[0].search?"?".concat(authorisedModels[0].search):'')});}return/*#__PURE__*/_react["default"].createElement(_Layout.Layout,{sideNav:/*#__PURE__*/_react["default"].createElement(_LeftMenu["default"],null)},/*#__PURE__*/_react["default"].createElement(_DragLayer["default"],null),/*#__PURE__*/_react["default"].createElement(_ModelsContext["default"].Provider,{value:{refetchData:refetchData}},/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Switch,null,/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"/content-manager/components/:uid/configurations/edit"},/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPagePermissions,{permissions:cmPermissions.componentsConfigurations},/*#__PURE__*/_react["default"].createElement(_ComponentSetttingsView["default"],null))),/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"/content-manager/collectionType/:slug",component:_CollectionTypeRecursivePath["default"]}),/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"/content-manager/singleType/:slug",component:_SingleTypeRecursivePath["default"]}),/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"/content-manager/403"},/*#__PURE__*/_react["default"].createElement(_NoPermissions["default"],null)),/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"/content-manager/no-content-types"},/*#__PURE__*/_react["default"].createElement(_NoContentType["default"],null)),/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"",component:_helperPlugin.NotFound}))));};exports.App=App;var _default=function _default(){var _useIntl2=(0,_reactIntl.useIntl)(),formatMessage=_useIntl2.formatMessage;return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_reactHelmet.Helmet,{title:formatMessage({id:(0,_getTrad["default"])('plugin.name'),defaultMessage:'Content Manager'})}),/*#__PURE__*/_react["default"].createElement(App,null));};exports.default=_default;

/***/ }),

/***/ 19763:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.selectAppDomain=exports.makeSelectModels=exports.makeSelectModelLinks=exports.makeSelectModelAndComponentSchemas=exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _reselect=__webpack_require__(42279);var _reducer=__webpack_require__(6446);var selectAppDomain=function selectAppDomain(){return function(state){return state['content-manager_app']||_reducer.initialState;};};exports.selectAppDomain=selectAppDomain;var makeSelectApp=function makeSelectApp(){return(0,_reselect.createSelector)(selectAppDomain(),function(substate){return substate;});};var makeSelectModels=function makeSelectModels(){return(0,_reselect.createSelector)(selectAppDomain(),function(state){return state.models;});};exports.makeSelectModels=makeSelectModels;var makeSelectModelLinks=function makeSelectModelLinks(){return(0,_reselect.createSelector)(selectAppDomain(),function(state){return{collectionTypeLinks:state.collectionTypeLinks,singleTypeLinks:state.singleTypeLinks};});};exports.makeSelectModelLinks=makeSelectModelLinks;var makeSelectModelAndComponentSchemas=function makeSelectModelAndComponentSchemas(){return(0,_reselect.createSelector)(selectAppDomain(),function(_ref){var components=_ref.components,models=_ref.models;return{schemas:[].concat((0,_toConsumableArray2["default"])(components),(0,_toConsumableArray2["default"])(models))};});};exports.makeSelectModelAndComponentSchemas=makeSelectModelAndComponentSchemas;var _default=makeSelectApp;exports.default=_default;

/***/ }),

/***/ 3267:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _helperPlugin=__webpack_require__(68547);var _react=__webpack_require__(67294);var _reactRedux=__webpack_require__(37424);var _LiveRegions=__webpack_require__(84686);var _axios=_interopRequireDefault(__webpack_require__(9669));var _reactIntl=__webpack_require__(97132);var _utils=__webpack_require__(53777);var _exposedHooks=__webpack_require__(29499);var _utils2=__webpack_require__(28564);var _actions=__webpack_require__(67877);var _selectors=__webpack_require__(19763);var _getContentTypeLinks=_interopRequireDefault(__webpack_require__(26036));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var useModels=function useModels(){var dispatch=(0,_reactRedux.useDispatch)();var toggleNotification=(0,_helperPlugin.useNotification)();var state=(0,_reactRedux.useSelector)((0,_selectors.selectAppDomain)());var fetchDataRef=(0,_react.useRef)();var _useRBACProvider=(0,_helperPlugin.useRBACProvider)(),allPermissions=_useRBACProvider.allPermissions;var _useStrapiApp=(0,_helperPlugin.useStrapiApp)(),runHookWaterfall=_useStrapiApp.runHookWaterfall;var CancelToken=_axios["default"].CancelToken;var source=CancelToken.source();var _useNotifyAT=(0,_LiveRegions.useNotifyAT)(),notifyStatus=_useNotifyAT.notifyStatus;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var fetchData=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var _yield$Promise$all,_yield$Promise$all2,components,models,_yield$getContentType,authorizedCtLinks,authorizedStLinks,_runHookWaterfall,ctLinks,_runHookWaterfall2,stLinks,actionToDispatch;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch((0,_actions.getData)());_context.prev=1;_context.next=4;return Promise.all(['components','content-types'].map(function(endPoint){return _utils.axiosInstance.get((0,_utils2.getRequestUrl)(endPoint),{cancelToken:source.token});}));case 4:_yield$Promise$all=_context.sent;_yield$Promise$all2=(0,_slicedToArray2["default"])(_yield$Promise$all,2);components=_yield$Promise$all2[0].data.data;models=_yield$Promise$all2[1].data.data;notifyStatus(formatMessage({id:(0,_utils2.getTrad)('App.schemas.data-loaded'),defaultMessage:'The schemas have been successfully loaded.'}));_context.next=11;return(0,_getContentTypeLinks["default"])(models,allPermissions,toggleNotification);case 11:_yield$getContentType=_context.sent;authorizedCtLinks=_yield$getContentType.authorizedCtLinks;authorizedStLinks=_yield$getContentType.authorizedStLinks;_runHookWaterfall=runHookWaterfall(_exposedHooks.MUTATE_COLLECTION_TYPES_LINKS,{ctLinks:authorizedCtLinks,models:models}),ctLinks=_runHookWaterfall.ctLinks;_runHookWaterfall2=runHookWaterfall(_exposedHooks.MUTATE_SINGLE_TYPES_LINKS,{stLinks:authorizedStLinks,models:models}),stLinks=_runHookWaterfall2.stLinks;actionToDispatch=(0,_actions.setContentTypeLinks)(ctLinks,stLinks,models,components);dispatch(actionToDispatch);_context.next=26;break;case 20:_context.prev=20;_context.t0=_context["catch"](1);if(!_axios["default"].isCancel(_context.t0)){_context.next=24;break;}return _context.abrupt("return");case 24:console.error(_context.t0);toggleNotification({type:'warning',message:{id:'notification.error'}});case 26:case"end":return _context.stop();}}},_callee,null,[[1,20]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchDataRef.current=fetchData;(0,_react.useEffect)(function(){fetchDataRef.current();return function(){source.cancel('Operation canceled by the user.');dispatch((0,_actions.resetProps)());};// eslint-disable-next-line react-hooks/exhaustive-deps
},[dispatch,toggleNotification]);return _objectSpread(_objectSpread({},state),{},{refetchData:fetchDataRef.current});};var _default=useModels;exports.default=_default;

/***/ }),

/***/ 75274:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _helperPlugin=__webpack_require__(68547);/**
 * This function resolves an array of Promises<boolean>
 * It puts at a specific index the status of a specific permission.
 * While this might look weird, we then iterate on this array
 * and check the different CT/ST/general/plugin sections
 * and make an index based comparisons
 */var checkPermissions=function checkPermissions(userPermissions,permissionsToCheck){return permissionsToCheck.map(function(_ref){var permissions=_ref.permissions;return(0,_helperPlugin.hasPermissions)(userPermissions,permissions);});};var _default=checkPermissions;exports.default=_default;

/***/ }),

/***/ 98891:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.generateLinks=exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _lodash=__webpack_require__(96486);var _qs=__webpack_require__(80129);var generateLinks=function generateLinks(links,type){var configurations=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];return links.filter(function(link){return link.isDisplayed;}).map(function(link){var collectionTypesPermissions=[{action:'plugin::content-manager.explorer.create',subject:link.uid},{action:'plugin::content-manager.explorer.read',subject:link.uid}];var singleTypesPermissions=[{action:'plugin::content-manager.explorer.read',subject:link.uid}];var permissions=type==='collectionTypes'?collectionTypesPermissions:singleTypesPermissions;var currentContentTypeConfig=configurations.find(function(_ref){var uid=_ref.uid;return uid===link.uid;});var search=null;if(currentContentTypeConfig){var searchParams={page:1,pageSize:currentContentTypeConfig.settings.pageSize,sort:"".concat(currentContentTypeConfig.settings.defaultSortBy,":").concat(currentContentTypeConfig.settings.defaultSortOrder)};search=(0,_qs.stringify)(searchParams,{encode:false});}return{permissions:permissions,search:search,kind:link.kind,title:link.info.displayName,to:"/content-manager/".concat(link.kind,"/").concat(link.uid),uid:link.uid,// Used for the list item key in the helper plugin
name:link.uid,isDisplayed:link.isDisplayed};});};exports.generateLinks=generateLinks;var generateModelsLinks=function generateModelsLinks(models,modelsConfigurations){var _chain$groupBy$map$so=(0,_lodash.chain)(models).groupBy('kind').map(function(value,key){return{name:key,links:value};}).sortBy('name').value(),_chain$groupBy$map$so2=(0,_slicedToArray2["default"])(_chain$groupBy$map$so,2),collectionTypes=_chain$groupBy$map$so2[0],singleTypes=_chain$groupBy$map$so2[1];return{collectionTypesSectionLinks:generateLinks((0,_lodash.get)(collectionTypes,'links',[]),'collectionTypes',modelsConfigurations),singleTypesSectionLinks:generateLinks((0,_lodash.get)(singleTypes,'links',[]),'singleTypes')};};var _default=generateModelsLinks;exports.default=_default;

/***/ }),

/***/ 26036:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _utils=__webpack_require__(53777);var _generateModelsLinks2=_interopRequireDefault(__webpack_require__(98891));var _checkPermissions=_interopRequireDefault(__webpack_require__(75274));var _utils2=__webpack_require__(28564);var getContentTypeLinks=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(models,userPermissions,toggleNotification){var _yield$axiosInstance$,contentTypeConfigurations,_generateModelsLinks,collectionTypesSectionLinks,singleTypesSectionLinks,ctLinksPermissionsPromises,ctLinksPermissions,authorizedCtLinks,stLinksPermissionsPromises,stLinksPermissions,authorizedStLinks;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _utils.axiosInstance.get((0,_utils2.getRequestUrl)('content-types-settings'));case 3:_yield$axiosInstance$=_context.sent;contentTypeConfigurations=_yield$axiosInstance$.data.data;_generateModelsLinks=(0,_generateModelsLinks2["default"])(models,contentTypeConfigurations),collectionTypesSectionLinks=_generateModelsLinks.collectionTypesSectionLinks,singleTypesSectionLinks=_generateModelsLinks.singleTypesSectionLinks;// Content Types verifications
ctLinksPermissionsPromises=(0,_checkPermissions["default"])(userPermissions,collectionTypesSectionLinks);_context.next=9;return Promise.all(ctLinksPermissionsPromises);case 9:ctLinksPermissions=_context.sent;authorizedCtLinks=collectionTypesSectionLinks.filter(function(_,index){return ctLinksPermissions[index];});// Single Types verifications
stLinksPermissionsPromises=(0,_checkPermissions["default"])(userPermissions,singleTypesSectionLinks);_context.next=14;return Promise.all(stLinksPermissionsPromises);case 14:stLinksPermissions=_context.sent;authorizedStLinks=singleTypesSectionLinks.filter(function(_,index){return stLinksPermissions[index];});return _context.abrupt("return",{authorizedCtLinks:authorizedCtLinks,authorizedStLinks:authorizedStLinks});case 19:_context.prev=19;_context.t0=_context["catch"](0);console.error(_context.t0);toggleNotification({type:'warning',message:{id:'notification.error'}});return _context.abrupt("return",{authorizedCtLinks:[],authorizedStLinks:[],contentTypes:[]});case 24:case"end":return _context.stop();}}},_callee,null,[[0,19]]);}));return function getContentTypeLinks(_x,_x2,_x3){return _ref.apply(this,arguments);};}();var _default=getContentTypeLinks;exports.default=_default;

/***/ }),

/***/ 79396:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactRouterDom=__webpack_require__(39711);var _reactErrorBoundary=__webpack_require__(66730);var _lodash=__webpack_require__(96486);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _helperPlugin=__webpack_require__(68547);var _permissions=_interopRequireDefault(__webpack_require__(13240));var _contexts=__webpack_require__(42688);var _hooks=__webpack_require__(14772);var _utils=__webpack_require__(28564);var _EditViewLayoutManager=_interopRequireDefault(__webpack_require__(11427));var _EditSettingsView=_interopRequireDefault(__webpack_require__(40224));var _ListViewLayoutManager=_interopRequireDefault(__webpack_require__(9017));var _ListSettingsView=_interopRequireDefault(__webpack_require__(41540));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var cmPermissions=_permissions["default"].contentManager;var CollectionTypeRecursivePath=function CollectionTypeRecursivePath(_ref){var _ref$match=_ref.match,slug=_ref$match.params.slug,url=_ref$match.url;var _useFetchContentTypeL=(0,_hooks.useFetchContentTypeLayout)(slug),isLoading=_useFetchContentTypeL.isLoading,layout=_useFetchContentTypeL.layout,updateLayout=_useFetchContentTypeL.updateLayout;var _useMemo=(0,_react.useMemo)(function(){var rawContentTypeLayout={};var rawComponentsLayouts={};if(layout.contentType){rawContentTypeLayout=(0,_utils.formatLayoutToApi)(layout.contentType);}if(layout.components){rawComponentsLayouts=Object.keys(layout.components).reduce(function(acc,current){acc[current]=(0,_utils.formatLayoutToApi)(layout.components[current]);return acc;},{});}return{rawContentTypeLayout:rawContentTypeLayout,rawComponentsLayouts:rawComponentsLayouts};},[layout]),rawContentTypeLayout=_useMemo.rawContentTypeLayout,rawComponentsLayouts=_useMemo.rawComponentsLayouts;var uid=(0,_lodash.get)(layout,['contentType','uid'],null);// This statement is needed in order to prevent the CollectionTypeFormWrapper effects clean up phase to be run twice.
// What can happen is that when navigating from one entry to another the cleanup phase of the fetch data effect is run twice : once when
// unmounting, once when the url changes.
// Since it can happen that the layout there's a delay when the layout is being fetched and the url changes adding the uid ! == slug
// statement prevent the component from being mounted and unmounted twice.
if(uid!==slug||isLoading){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null);}var renderRoute=function renderRoute(_ref2,Component){var state=_ref2.location.state,goBack=_ref2.history.goBack,_ref2$match$params=_ref2.match.params,id=_ref2$match$params.id,origin=_ref2$match$params.origin;return/*#__PURE__*/_react["default"].createElement(Component,{slug:slug,layout:layout,state:state,goBack:goBack,id:id,origin:origin});};var routes=[{path:'create/clone/:origin',comp:_EditViewLayoutManager["default"]},{path:'create',comp:_EditViewLayoutManager["default"]},{path:':id',comp:_EditViewLayoutManager["default"]},{path:'',comp:_ListViewLayoutManager["default"]}].map(function(_ref3){var path=_ref3.path,comp=_ref3.comp;return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{key:path,path:"".concat(url,"/").concat(path),render:function render(props){return renderRoute(props,comp);}});});return/*#__PURE__*/_react["default"].createElement(_reactErrorBoundary.ErrorBoundary,{FallbackComponent:_helperPlugin.ErrorFallback},/*#__PURE__*/_react["default"].createElement(_contexts.ContentTypeLayoutContext.Provider,{value:layout},/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Switch,null,/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"".concat(url,"/configurations/list")},/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPagePermissions,{permissions:cmPermissions.collectionTypesConfigurations},/*#__PURE__*/_react["default"].createElement(_ListSettingsView["default"],{layout:rawContentTypeLayout,slug:slug,updateLayout:updateLayout}))),/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"".concat(url,"/configurations/edit")},/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPagePermissions,{permissions:cmPermissions.collectionTypesConfigurations},/*#__PURE__*/_react["default"].createElement(_EditSettingsView["default"],{components:rawComponentsLayouts,isContentTypeView:true,mainLayout:rawContentTypeLayout,slug:slug,updateLayout:updateLayout}))),routes)));};CollectionTypeRecursivePath.propTypes={match:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired,params:_propTypes["default"].shape({slug:_propTypes["default"].string.isRequired}).isRequired}).isRequired};var _default=/*#__PURE__*/(0,_react.memo)(CollectionTypeRecursivePath);exports.default=_default;

/***/ }),

/***/ 25195:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactRouterDom=__webpack_require__(39711);var _helperPlugin=__webpack_require__(68547);var _reactRedux=__webpack_require__(37424);var _axios=_interopRequireDefault(__webpack_require__(9669));var _utils=__webpack_require__(53777);var _utils2=__webpack_require__(28564);var _selectors=__webpack_require__(19763);var _permissions=_interopRequireDefault(__webpack_require__(13240));var _reducer=_interopRequireWildcard(__webpack_require__(62476));var _actions=__webpack_require__(98744);var _EditSettingsView=_interopRequireDefault(__webpack_require__(40224));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var cmPermissions=_permissions["default"].contentManager;var ComponentSettingsView=function ComponentSettingsView(){var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.crudInitialState),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),_useReducer2$=_useReducer2[0],isLoading=_useReducer2$.isLoading,layout=_useReducer2$.data,dispatch=_useReducer2[1];var schemasSelector=(0,_react.useMemo)(_selectors.makeSelectModelAndComponentSchemas,[]);var _useSelector=(0,_reactRedux.useSelector)(function(state){return schemasSelector(state);},_reactRedux.shallowEqual),schemas=_useSelector.schemas;var _useParams=(0,_reactRouterDom.useParams)(),uid=_useParams.uid;(0,_react.useEffect)(function(){var CancelToken=_axios["default"].CancelToken;var source=CancelToken.source();var fetchData=/*#__PURE__*/function(){var _ref=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(source){var _yield$axiosInstance$,data;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch((0,_actions.getData)());_context.next=4;return _utils.axiosInstance.get((0,_utils2.getRequestUrl)("components/".concat(uid,"/configuration")),{cancelToken:source.token});case 4:_yield$axiosInstance$=_context.sent;data=_yield$axiosInstance$.data.data;dispatch((0,_actions.getDataSucceeded)((0,_utils2.mergeMetasWithSchema)(data,schemas,'component')));_context.next=14;break;case 9:_context.prev=9;_context.t0=_context["catch"](0);if(!_axios["default"].isCancel(_context.t0)){_context.next=13;break;}return _context.abrupt("return");case 13:console.error(_context.t0);case 14:case"end":return _context.stop();}}},_callee,null,[[0,9]]);}));return function fetchData(_x){return _ref.apply(this,arguments);};}();fetchData(source);return function(){source.cancel('Operation canceled by the user.');};},[uid,schemas]);if(isLoading){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null);}return/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPagePermissions,{permissions:cmPermissions.componentsConfigurations},/*#__PURE__*/_react["default"].createElement(_EditSettingsView["default"],{components:layout.components,mainLayout:layout.component,slug:uid}));};var _default=/*#__PURE__*/(0,_react.memo)(ComponentSettingsView);exports.default=_default;

/***/ }),

/***/ 65067:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Link=__webpack_require__(85104);var _Typography=__webpack_require__(49425);var _Cog=_interopRequireDefault(__webpack_require__(70736));var _reactIntl=__webpack_require__(97132);var _get=_interopRequireDefault(__webpack_require__(27361));var _Grid=__webpack_require__(34626);var _useLayoutDnd2=_interopRequireDefault(__webpack_require__(9196));var _getTrad=_interopRequireDefault(__webpack_require__(36169));var ComponentFieldList=function ComponentFieldList(_ref){var componentUid=_ref.componentUid;var _useLayoutDnd=(0,_useLayoutDnd2["default"])(),componentLayouts=_useLayoutDnd.componentLayouts;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var componentData=(0,_get["default"])(componentLayouts,[componentUid],{});var componentLayout=(0,_get["default"])(componentData,['layouts','edit'],[]);return/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:3},componentLayout.map(function(row,index){return/*#__PURE__*/ (// eslint-disable-next-line react/no-array-index-key
_react["default"].createElement(_Grid.Grid,{gap:4,key:index},row.map(function(rowContent){return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{key:rowContent.name,col:rowContent.size},/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:2},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{alignItems:"center",background:"neutral0",paddingLeft:3,paddingRight:3,height:"".concat(32/16,"rem"),hasRadius:true,borderColor:"neutral200"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"neutral800"},rowContent.name))));})));}),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:2},/*#__PURE__*/_react["default"].createElement(_Link.Link,{startIcon:/*#__PURE__*/_react["default"].createElement(_Cog["default"],null),to:"/content-manager/components/".concat(componentUid,"/configurations/edit")},formatMessage({id:(0,_getTrad["default"])('components.FieldItem.linkToComponentLayout'),defaultMessage:"Set the component's layout"}))));};ComponentFieldList.propTypes={componentUid:_propTypes["default"].string.isRequired};var _default=ComponentFieldList;exports.default=_default;

/***/ }),

/***/ 73566:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactDnd=__webpack_require__(99168);var _reactDndHtml5Backend=__webpack_require__(61080);var _Flex=__webpack_require__(67826);var _Box=__webpack_require__(5493);var _Grid=__webpack_require__(34626);var _Drag=_interopRequireDefault(__webpack_require__(88049));var _utils=__webpack_require__(28564);var _FieldButtonContent=_interopRequireDefault(__webpack_require__(95684));var _hooks=__webpack_require__(14772);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Wrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"DisplayedFieldButton__Wrapper",componentId:"sc-19kzwqt-0"})(["position:relative;"," ",";"],function(_ref){var isFirst=_ref.isFirst,isLast=_ref.isLast,hasHorizontalPadding=_ref.hasHorizontalPadding;if(isFirst){return"\n        padding-right: 4px;\n      ";}if(isLast){return"\n        padding-left: 4px;\n      ";}if(hasHorizontalPadding){return"\n        padding: 0 4px;\n      ";}return'';},function(_ref2){var showRightCarret=_ref2.showRightCarret,showLeftCarret=_ref2.showLeftCarret,theme=_ref2.theme;if(showRightCarret){return"\n        &:after {\n          content: '';\n          position: absolute;\n          right: -1px;\n          background-color: ".concat(theme.colors.primary600,";\n          width: 2px;\n          height: 100%;\n          align-self: stretch;\n          z-index: 1;\n        }\n      ");}if(showLeftCarret){return"\n        &:before {\n          content: '';\n          position: absolute;\n          left: -1px;\n          background-color: ".concat(theme.colors.primary600,";\n          width: 2px;\n          height: 100%;\n          align-self: stretch;\n          z-index: 1;\n        }\n      ");}return'';});var CustomDragIcon=/*#__PURE__*/(0,_styledComponents["default"])(_Drag["default"]).withConfig({displayName:"DisplayedFieldButton__CustomDragIcon",componentId:"sc-19kzwqt-1"})(["height:","rem;width:","rem;path{fill:",";}"],12/16,12/16,function(_ref3){var theme=_ref3.theme;return theme.colors.neutral600;});var CustomFlex=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"DisplayedFieldButton__CustomFlex",componentId:"sc-19kzwqt-2"})(["display:",";opacity:",";"],function(_ref4){var dragStart=_ref4.dragStart;return dragStart?'none':'flex';},function(_ref5){var isDragging=_ref5.isDragging,isFullSize=_ref5.isFullSize,isHidden=_ref5.isHidden;if(isDragging&&!isFullSize){return 0.2;}if(isDragging&&isFullSize||isHidden){return 0;}return 1;});var DragButton=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"DisplayedFieldButton__DragButton",componentId:"sc-19kzwqt-3"})(["cursor:all-scroll;border-right:1px solid ",";"],function(_ref6){var theme=_ref6.theme;return theme.colors.neutral200;});var DisplayedFieldButton=function DisplayedFieldButton(_ref7){var attribute=_ref7.attribute,children=_ref7.children,index=_ref7.index,lastIndex=_ref7.lastIndex,moveItem=_ref7.moveItem,moveRow=_ref7.moveRow,name=_ref7.name,onDeleteField=_ref7.onDeleteField,onEditField=_ref7.onEditField,rowIndex=_ref7.rowIndex,size=_ref7.size;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),dragStart=_useState2[0],setDragStart=_useState2[1];var isHidden=name==='_TEMP_';var _useLayoutDnd=(0,_hooks.useLayoutDnd)(),setIsDraggingSibling=_useLayoutDnd.setIsDraggingSibling;var isFullSize=size===12;var dragRef=(0,_react.useRef)(null);var dropRef=(0,_react.useRef)(null);var _useDrop=(0,_reactDnd.useDrop)({accept:_utils.ItemTypes.EDIT_FIELD,hover:function hover(item,monitor){if(!dropRef.current){return;}// We use the hover only to reorder full size items
// We use the hover only to reorder full size items
if(item.size!==12){return;}var dragIndex=monitor.getItem().index;var hoverIndex=index;var dragRow=monitor.getItem().rowIndex;var targetRow=rowIndex;// Don't replace item with themselves
// Don't replace item with themselves
if(dragIndex===hoverIndex&&dragRow===targetRow){return;}// Determine rectangle on screen
// Determine rectangle on screen
var hoverBoundingRect=dropRef.current.getBoundingClientRect();// Get vertical middle
// Get vertical middle
var hoverMiddleY=(hoverBoundingRect.bottom-hoverBoundingRect.top)/2;// Determine mouse position
// Determine mouse position
var clientOffset=monitor.getClientOffset();// Get pixels to the top
// Get pixels to the top
var hoverClientY=clientOffset.y-hoverBoundingRect.top;// Only perform the move when the mouse has crossed half of the items height
// When dragging downwards, only move when the cursor is below 50%
// When dragging upwards, only move when the cursor is above 50%
// Dragging downwards
// Only perform the move when the mouse has crossed half of the items height
// When dragging downwards, only move when the cursor is below 50%
// When dragging upwards, only move when the cursor is above 50%
// Dragging downwards
if(dragRow<targetRow&&hoverClientY<hoverMiddleY){return;}// Dragging upwards
// Dragging upwards
if(dragRow>targetRow&&hoverClientY>hoverMiddleY){return;}moveRow(dragRow,targetRow);item.rowIndex=targetRow;item.itemIndex=hoverIndex;},drop:function drop(item,monitor){if(!dropRef.current){return;}var dragIndex=monitor.getItem().index;var hoverIndex=index;var dragRow=monitor.getItem().rowIndex;var targetRow=rowIndex;// Don't reorder on drop for full size elements since it is already done in the hover
// Don't reorder on drop for full size elements since it is already done in the hover
if(item.size===12){return;}// Don't replace item with themselves
// Don't replace item with themselves
if(dragIndex===hoverIndex&&dragRow===targetRow){return;}// Determine rectangle on screen
// Determine rectangle on screen
var hoverBoundingRect=dropRef.current.getBoundingClientRect();// Scroll window if mouse near vertical edge(100px)
// Horizontal Check --
// Scroll window if mouse near vertical edge(100px)
// Horizontal Check --
if(Math.abs(monitor.getClientOffset().x-hoverBoundingRect.left)>hoverBoundingRect.width/1.8){moveItem(dragIndex,hoverIndex+1,dragRow,targetRow);item.itemIndex=hoverIndex+1;item.rowIndex=targetRow;return;}// Vertical Check |
// Time to actually perform the action
// Vertical Check |
// Time to actually perform the action
moveItem(dragIndex,hoverIndex,dragRow,targetRow);// Note: we're mutating the monitor item here!
// Generally it's better to avoid mutations,
// but it's good here for the sake of performance
// to avoid expensive index searches.
// Note: we're mutating the monitor item here!
// Generally it's better to avoid mutations,
// but it's good here for the sake of performance
// to avoid expensive index searches.
item.itemIndex=hoverIndex;item.rowIndex=targetRow;},collect:function collect(monitor){return{canDrop:monitor.canDrop(),clientOffset:monitor.getClientOffset(),isOver:monitor.isOver(),isOverCurrent:monitor.isOver({shallow:true}),itemType:monitor.getItemType()};}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),_useDrop2$=_useDrop2[0],clientOffset=_useDrop2$.clientOffset,isOver=_useDrop2$.isOver,drop=_useDrop2[1];var _useDrag=(0,_reactDnd.useDrag)({type:_utils.ItemTypes.EDIT_FIELD,item:function item(){setIsDraggingSibling(true);return{index:index,labelField:children,rowIndex:rowIndex,name:name,size:size};},canDrag:function canDrag(){// Each row of the layout has a max size of 12 (based on bootstrap grid system)
// So in order to offer a better drop zone we add the _TEMP_ div to complete the remaining substract (12 - existing)
// Those divs cannot be dragged
// If we wanted to offer the ability to create new lines in the layout (which will come later)
// We will need to add a 12 size _TEMP_ div to offer a drop target between each existing row.
return name!=='_TEMP_';},collect:function collect(monitor){return{isDragging:monitor.isDragging(),getItem:monitor.getItem()};},end:function end(){setIsDraggingSibling(false);}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),_useDrag2$=_useDrag2[0],isDragging=_useDrag2$.isDragging,getItem=_useDrag2$.getItem,drag=_useDrag2[1],dragPreview=_useDrag2[2];// Remove the default preview when the item is being dragged
// The preview is handled by the DragLayer
(0,_react.useEffect)(function(){dragPreview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:true});},[dragPreview]);// Create the refs
// We need 1 for the drop target
// 1 for the drag target
var refs={dragRef:drag(dragRef),dropRef:drop(dropRef)};var showLeftCarret=false;var showRightCarret=false;if(dropRef.current&&clientOffset){var hoverBoundingRect=dropRef.current.getBoundingClientRect();showLeftCarret=isOver&&getItem.size!==12&&Math.abs(clientOffset.x-hoverBoundingRect.left)<hoverBoundingRect.width/2;showRightCarret=isOver&&getItem.size!==12&&Math.abs(clientOffset.x-hoverBoundingRect.left)>hoverBoundingRect.width/2;if(name==='_TEMP_'){showLeftCarret=isOver&&getItem.size!==12;showRightCarret=false;}}var getHeight=function getHeight(){if(attribute&&isFullSize){return"".concat(74/16,"rem");}return"".concat(32/16,"rem");};var isFirst=index===0&&!isFullSize;var isLast=index===lastIndex&&!isFullSize;var hasHorizontalPadding=index!==0&&!isFullSize;return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:size},/*#__PURE__*/_react["default"].createElement(Wrapper,{ref:refs.dropRef,showLeftCarret:showLeftCarret,showRightCarret:showRightCarret,isFirst:isFirst,isLast:isLast,hasHorizontalPadding:hasHorizontalPadding,onDrag:function onDrag(){if(isFullSize&&!dragStart){setDragStart(true);}},onDragEnd:function onDragEnd(){if(isFullSize){setDragStart(false);}}},dragStart&&isFullSize&&/*#__PURE__*/_react["default"].createElement(_Box.Box// style={{ display: isDragging ? 'block' : 'none' }}
,{width:"100%",height:"2px",background:"primary600"}),/*#__PURE__*/_react["default"].createElement(CustomFlex,{width:isFullSize&&dragStart?0:'100%',borderColor:"neutral150",hasRadius:true,background:"neutral100",minHeight:getHeight(),alignItems:"stretch",isDragging:isDragging,dragStart:dragStart,isFullSize:isFullSize,isHidden:isHidden},/*#__PURE__*/_react["default"].createElement(DragButton,{as:"button",type:"button",ref:refs.dragRef,onClick:function onClick(e){return e.stopPropagation();},alignItems:"center",paddingLeft:3,paddingRight:3// Disable the keyboard navigation since the drag n drop isn't accessible with the keyboard for the moment
,tabIndex:-1},/*#__PURE__*/_react["default"].createElement(CustomDragIcon,null)),!isHidden&&/*#__PURE__*/_react["default"].createElement(_FieldButtonContent["default"],{attribute:attribute,onEditField:onEditField,onDeleteField:onDeleteField},children))));};DisplayedFieldButton.defaultProps={attribute:undefined};DisplayedFieldButton.propTypes={attribute:_propTypes["default"].shape({components:_propTypes["default"].array,component:_propTypes["default"].string,type:_propTypes["default"].string}),children:_propTypes["default"].string.isRequired,index:_propTypes["default"].number.isRequired,moveItem:_propTypes["default"].func.isRequired,moveRow:_propTypes["default"].func.isRequired,name:_propTypes["default"].string.isRequired,onDeleteField:_propTypes["default"].func.isRequired,onEditField:_propTypes["default"].func.isRequired,rowIndex:_propTypes["default"].number.isRequired,lastIndex:_propTypes["default"].number.isRequired,size:_propTypes["default"].number.isRequired};var _default=DisplayedFieldButton;exports.default=_default;

/***/ }),

/***/ 66650:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Button=__webpack_require__(19408);var _Box=__webpack_require__(5493);var _Typography=__webpack_require__(49425);var _Stack=__webpack_require__(9008);var _Flex=__webpack_require__(67826);var _SimpleMenu=__webpack_require__(33097);var _Plus=_interopRequireDefault(__webpack_require__(80768));var _utils=__webpack_require__(28564);var _RowsLayout=_interopRequireDefault(__webpack_require__(79075));var _LinkToCTB=_interopRequireDefault(__webpack_require__(20519));var DisplayedFields=function DisplayedFields(_ref){var editLayout=_ref.editLayout,editLayoutRemainingFields=_ref.editLayoutRemainingFields,onRemoveField=_ref.onRemoveField,onAddField=_ref.onAddField;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:4},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold"},formatMessage({id:(0,_utils.getTrad)('containers.ListPage.displayedFields'),defaultMessage:'Displayed fields'}))),/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",textColor:"neutral600"},formatMessage({id:'containers.SettingPage.editSettings.description',defaultMessage:'Drag & drop the fields to build the layout'})))),/*#__PURE__*/_react["default"].createElement(_LinkToCTB["default"],null)),/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:4,hasRadius:true,borderStyle:"dashed",borderWidth:"1px",borderColor:"neutral300"},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},editLayout.map(function(row,index){return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,{key:row.rowId},/*#__PURE__*/_react["default"].createElement(_RowsLayout["default"],{row:row,rowIndex:index,onRemoveField:onRemoveField}));}),/*#__PURE__*/_react["default"].createElement(_SimpleMenu.SimpleMenu,{id:"label",label:formatMessage({id:(0,_utils.getTrad)('containers.SettingPage.add.field'),defaultMessage:'Insert another field'}),as:_Button.Button,"data-testid":"add-field",fullWidth:true,startIcon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null),endIcon:null,variant:"secondary",disabled:editLayoutRemainingFields.length===0},editLayoutRemainingFields.map(function(field){return/*#__PURE__*/_react["default"].createElement(_SimpleMenu.MenuItem,{key:field,onClick:function onClick(){return onAddField(field);}},field);})))));};DisplayedFields.propTypes={editLayout:_propTypes["default"].array.isRequired,editLayoutRemainingFields:_propTypes["default"].array.isRequired,onAddField:_propTypes["default"].func.isRequired,onRemoveField:_propTypes["default"].func.isRequired};var _default=DisplayedFields;exports.default=_default;

/***/ }),

/***/ 19039:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _get=_interopRequireDefault(__webpack_require__(27361));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Box=__webpack_require__(5493);var _Stack=__webpack_require__(9008);var _reactFontawesome=__webpack_require__(67814);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactRouterDom=__webpack_require__(39711);var _useLayoutDnd2=_interopRequireDefault(__webpack_require__(9196));var CustomFlex=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"DynamicZoneList__CustomFlex",componentId:"sc-1v54jae-0"})(["border-radius:50%;svg{& > *{fill:",";}width:12px;height:12px;}"],function(_ref){var theme=_ref.theme;return theme.colors.neutral500;});var CustomLink=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"DynamicZoneList__CustomLink",componentId:"sc-1v54jae-1"})(["text-decoration:none;&:hover{","}"],function(_ref2){var theme=_ref2.theme;return"\n      background: ".concat(theme.colors.primary100,";\n      svg {\n        & > * {\n          fill: ").concat(theme.colors.primary600,";\n        }\n      }\n      ").concat(_Typography.Typography," {\n          color: ").concat(theme.colors.primary600,";\n      }\n      ").concat(CustomFlex," {\n        background: ").concat(theme.colors.primary200,";\n      }\n      border-color: ").concat(theme.colors.primary200,";\n    ");});var DynamicZoneList=function DynamicZoneList(_ref3){var components=_ref3.components;var _useLayoutDnd=(0,_useLayoutDnd2["default"])(),componentLayouts=_useLayoutDnd.componentLayouts;return/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2,horizontal:true,overflow:"scroll hidden",padding:3},components.map(function(componentUid){return/*#__PURE__*/_react["default"].createElement(CustomLink,{hasRadius:true,background:"neutral0",justifyContent:"center",alignItems:"center",height:"".concat(84/16,"rem"),minWidth:"".concat(140/16,"rem"),key:componentUid,padding:2,direction:"column",borderColor:"neutral200",as:_reactRouterDom.Link,to:"/content-manager/components/".concat(componentUid,"/configurations/edit")},/*#__PURE__*/_react["default"].createElement(CustomFlex,{width:"".concat(32/16,"rem"),height:"".concat(32/16,"rem"),background:"neutral150",justifyContent:"center",alignItems:"center",padding:2},/*#__PURE__*/_react["default"].createElement(_reactFontawesome.FontAwesomeIcon,{icon:(0,_get["default"])(componentLayouts,[componentUid,'info','icon'],'')})),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:1},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontSize:1,textColor:"neutral600",fontWeight:"bold"},(0,_get["default"])(componentLayouts,[componentUid,'info','displayName'],''))));}));};DynamicZoneList.propTypes={components:_propTypes["default"].arrayOf(_propTypes["default"].string).isRequired};var _default=DynamicZoneList;exports.default=_default;

/***/ }),

/***/ 95684:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _IconButton=__webpack_require__(30741);var _Typography=__webpack_require__(49425);var _Pencil=_interopRequireDefault(__webpack_require__(19352));var _Trash=_interopRequireDefault(__webpack_require__(18568));var _utils=__webpack_require__(28564);var _ComponentFieldList=_interopRequireDefault(__webpack_require__(65067));var _DynamicZoneList=_interopRequireDefault(__webpack_require__(19039));var CustomIconButton=/*#__PURE__*/(0,_styledComponents["default"])(_IconButton.IconButton).withConfig({displayName:"FieldButtonContent__CustomIconButton",componentId:"fps4fp-0"})(["background-color:transparent;path{fill:",";}"],function(_ref){var theme=_ref.theme;return theme.colors.neutral600;});var FieldButtonContent=function FieldButtonContent(_ref2){var attribute=_ref2.attribute,onEditField=_ref2.onEditField,onDeleteField=_ref2.onDeleteField,children=_ref2.children;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(_Box.Box,{overflow:"hidden",width:"100%"},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{paddingLeft:3,alignItems:"baseline",justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"semiBold",textColor:"neutral800",ellipsis:true},children),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(CustomIconButton,{label:formatMessage({id:(0,_utils.getTrad)('containers.ListSettingsView.modal-form.edit-label'),defaultMessage:"Edit {fieldName}"},{fieldName:children}),onClick:onEditField,icon:/*#__PURE__*/_react["default"].createElement(_Pencil["default"],null),noBorder:true}),/*#__PURE__*/_react["default"].createElement(CustomIconButton,{label:formatMessage({id:(0,_utils.getTrad)('app.component.table.delete'),defaultMessage:"Delete {target}"},{target:children}),"data-testid":"delete-field",onClick:onDeleteField,icon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null),noBorder:true}))),(attribute===null||attribute===void 0?void 0:attribute.type)==='component'&&/*#__PURE__*/_react["default"].createElement(_ComponentFieldList["default"],{componentUid:attribute.component}),(attribute===null||attribute===void 0?void 0:attribute.type)==='dynamiczone'&&/*#__PURE__*/_react["default"].createElement(_DynamicZoneList["default"],{components:attribute.components}));};FieldButtonContent.defaultProps={attribute:undefined};FieldButtonContent.propTypes={attribute:_propTypes["default"].shape({components:_propTypes["default"].array,component:_propTypes["default"].string,type:_propTypes["default"].string}),onEditField:_propTypes["default"].func.isRequired,onDeleteField:_propTypes["default"].func.isRequired,children:_propTypes["default"].string.isRequired};var _default=FieldButtonContent;exports.default=_default;

/***/ }),

/***/ 71667:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _upperFirst=_interopRequireDefault(__webpack_require__(11700));var _ModalLayout=__webpack_require__(75146);var _Typography=__webpack_require__(49425);var _Button=__webpack_require__(19408);var _Flex=__webpack_require__(67826);var _Grid=__webpack_require__(34626);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _utils=__webpack_require__(28564);var _hooks=__webpack_require__(14772);var _FieldTypeIcon=_interopRequireDefault(__webpack_require__(74373));var _ModalForm=_interopRequireDefault(__webpack_require__(75007));var HeaderContainer=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"FormModal__HeaderContainer",componentId:"jabfhd-0"})(["svg{width:","rem;height:","rem;margin-right:",";}"],32/16,24/16,function(_ref){var theme=_ref.theme;return theme.spaces[3];});var FormModal=function FormModal(_ref2){var onToggle=_ref2.onToggle,onChange=_ref2.onChange,onSubmit=_ref2.onSubmit,type=_ref2.type;var _useLayoutDnd=(0,_hooks.useLayoutDnd)(),selectedField=_useLayoutDnd.selectedField;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var getAttrType=function getAttrType(){if(type==='timestamp'){return'date';}if(['decimal','float','integer','biginter'].includes(type)){return'number';}return type;};return/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalLayout,{onClose:onToggle,labelledBy:"title"},/*#__PURE__*/_react["default"].createElement("form",{onSubmit:onSubmit},/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalHeader,null,/*#__PURE__*/_react["default"].createElement(HeaderContainer,null,/*#__PURE__*/_react["default"].createElement(_FieldTypeIcon["default"],{type:getAttrType(type)}),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},formatMessage({id:(0,_utils.getTrad)('containers.ListSettingsView.modal-form.edit-label'),defaultMessage:'Edit {fieldName}'},{fieldName:(0,_upperFirst["default"])(selectedField)})))),/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalBody,null,/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_ModalForm["default"],{onChange:onChange}))),/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalFooter,{startActions:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onToggle,variant:"tertiary"},formatMessage({id:'app.components.Button.cancel',defaultMessage:'Cancel'})),endActions:/*#__PURE__*/_react["default"].createElement(_Button.Button,{type:"submit"},formatMessage({id:'form.button.finish',defaultMessage:'Finish'}))})));};FormModal.propTypes={onSubmit:_propTypes["default"].func.isRequired,onToggle:_propTypes["default"].func.isRequired,onChange:_propTypes["default"].func.isRequired,type:_propTypes["default"].string.isRequired};var _default=FormModal;exports.default=_default;

/***/ }),

/***/ 88544:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _TextInput=__webpack_require__(55967);var _ToggleInput=__webpack_require__(47857);var _Select=__webpack_require__(43808);var _reactIntl=__webpack_require__(97132);var _excluded=["type","options","onChange","value","name"];var GenericInput=function GenericInput(_ref){var type=_ref.type,options=_ref.options,_onChange=_ref.onChange,value=_ref.value,name=_ref.name,inputProps=(0,_objectWithoutProperties2["default"])(_ref,_excluded);var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;switch(type){case'text':{return/*#__PURE__*/_react["default"].createElement(_TextInput.TextInput,(0,_extends2["default"])({onChange:_onChange,value:value,name:name},inputProps));}case'bool':{return/*#__PURE__*/_react["default"].createElement(_ToggleInput.ToggleInput,(0,_extends2["default"])({onChange:function onChange(e){_onChange({target:{name:name,value:e.target.checked}});},checked:value,name:name,onLabel:formatMessage({id:'app.components.ToggleCheckbox.on-label',defaultMessage:'On'}),offLabel:formatMessage({id:'app.components.ToggleCheckbox.off-label',defaultMessage:'Off'})},inputProps));}case'select':{return/*#__PURE__*/_react["default"].createElement(_Select.Select,(0,_extends2["default"])({value:value,name:name,onChange:function onChange(value){return _onChange({target:{name:name,value:value}});}},inputProps),options.map(function(option){return/*#__PURE__*/_react["default"].createElement(_Select.Option,{key:option,value:option},option);}));}default:return null;}};GenericInput.defaultProps={options:undefined};GenericInput.propTypes={type:_propTypes["default"].string.isRequired,options:_propTypes["default"].arrayOf(_propTypes["default"].string),onChange:_propTypes["default"].func.isRequired,value:_propTypes["default"].oneOfType([_propTypes["default"].string,_propTypes["default"].bool]).isRequired,name:_propTypes["default"].string.isRequired};var _default=GenericInput;exports.default=_default;

/***/ }),

/***/ 20519:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _helperPlugin=__webpack_require__(68547);var _reactIntl=__webpack_require__(97132);var _get=_interopRequireDefault(__webpack_require__(27361));var _LinkButton=__webpack_require__(60985);var _Pencil=_interopRequireDefault(__webpack_require__(19352));var _getTrad=_interopRequireDefault(__webpack_require__(36169));var _useLayoutDnd2=_interopRequireDefault(__webpack_require__(9196));/**
 *
 * EditViewButton
 *
 */var permissions=[{action:'plugin::content-type-builder.read',subject:null}];// Create link from content-type-builder to content-manager
var LinkToCTB=function LinkToCTB(){var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useLayoutDnd=(0,_useLayoutDnd2["default"])(),slug=_useLayoutDnd.slug,modifiedData=_useLayoutDnd.modifiedData,isContentTypeView=_useLayoutDnd.isContentTypeView;var type=isContentTypeView?'content-types':'components';var baseUrl="/plugins/content-type-builder/".concat(type==='content-types'?type:'component-categories');var category=(0,_get["default"])(modifiedData,'category','');var suffixUrl=type==='content-types'?slug:"".concat(category,"/").concat(slug);var handleClick=function handleClick(){trackUsage('willEditEditLayout');};if(slug==='strapi::administrator'){return null;}return/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPermissions,{permissions:permissions},/*#__PURE__*/_react["default"].createElement(_LinkButton.LinkButton,{to:"".concat(baseUrl,"/").concat(suffixUrl),onClick:handleClick,size:"S",startIcon:/*#__PURE__*/_react["default"].createElement(_Pencil["default"],null),variant:"secondary"},formatMessage({id:(0,_getTrad["default"])("edit-settings-view.link-to-ctb.".concat(type)),defaultMessage:'Edit the content type'})));};var _default=LinkToCTB;exports.default=_default;

/***/ }),

/***/ 75007:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _get=_interopRequireDefault(__webpack_require__(27361));var _Grid=__webpack_require__(34626);var _reactRedux=__webpack_require__(37424);var _reactIntl=__webpack_require__(97132);var _hooks=__webpack_require__(14772);var _utils=__webpack_require__(13107);var _selectors=__webpack_require__(19763);var _getTrad=_interopRequireDefault(__webpack_require__(36169));var _GenericInput=_interopRequireDefault(__webpack_require__(88544));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var ModalForm=function ModalForm(_ref){var onChange=_ref.onChange;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useLayoutDnd=(0,_hooks.useLayoutDnd)(),modifiedData=_useLayoutDnd.modifiedData,selectedField=_useLayoutDnd.selectedField,attributes=_useLayoutDnd.attributes,fieldForm=_useLayoutDnd.fieldForm;var schemasSelector=(0,_react.useMemo)(_selectors.makeSelectModelAndComponentSchemas,[]);var _useSelector=(0,_reactRedux.useSelector)(function(state){return schemasSelector(state);},_reactRedux.shallowEqual),schemas=_useSelector.schemas;var formToDisplay=(0,_react.useMemo)(function(){if(!selectedField){return[];}var associatedMetas=(0,_get["default"])(modifiedData,['metadatas',selectedField,'edit'],{});return Object.keys(associatedMetas).filter(function(meta){return meta!=='visible';});},[selectedField,modifiedData]);var componentsAndModelsPossibleMainFields=(0,_react.useMemo)(function(){return(0,_utils.createPossibleMainFieldsForModelsAndComponents)(schemas);},[schemas]);var getSelectedItemSelectOptions=(0,_react.useCallback)(function(formType){if(formType!=='relation'&&formType!=='component'){return[];}var targetKey=formType==='component'?'component':'targetModel';var key=(0,_get["default"])(modifiedData,['attributes',selectedField,targetKey],'');return(0,_get["default"])(componentsAndModelsPossibleMainFields,[key],[]);},[selectedField,componentsAndModelsPossibleMainFields,modifiedData]);return formToDisplay.map(function(meta){var formType=(0,_get["default"])(attributes,[selectedField,'type']);if(formType==='dynamiczone'&&!['label','description'].includes(meta)){return null;}if((formType==='component'||formType==='media')&&meta!=='label'){return null;}if((formType==='json'||formType==='boolean')&&meta==='placeholder'){return null;}if(formType==='richtext'&&meta==='editable'){return null;}return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6,key:meta},/*#__PURE__*/_react["default"].createElement(_GenericInput["default"],{type:(0,_utils.getInputProps)(meta).type,hint:meta==='mainField'?formatMessage({id:(0,_getTrad["default"])('containers.SettingPage.editSettings.relation-field.description')}):'',label:formatMessage({id:(0,_get["default"])((0,_utils.getInputProps)(meta),'label.id','app.utils.defaultMessage')}),name:meta,onChange:onChange,value:(0,_get["default"])(fieldForm,meta,''),options:getSelectedItemSelectOptions(formType)}));});};var _default=ModalForm;exports.default=_default;

/***/ }),

/***/ 50225:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactDnd=__webpack_require__(99168);var _reactDndHtml5Backend=__webpack_require__(61080);var _Flex=__webpack_require__(67826);var _Drag=_interopRequireDefault(__webpack_require__(88049));var _utils=__webpack_require__(28564);var _FieldButtonContent=_interopRequireDefault(__webpack_require__(95684));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var CustomDragIcon=/*#__PURE__*/(0,_styledComponents["default"])(_Drag["default"]).withConfig({displayName:"RelationalFieldButton__CustomDragIcon",componentId:"sc-1fz9b02-0"})(["height:","rem;width:","rem;path{fill:",";}"],12/16,12/16,function(_ref){var theme=_ref.theme;return theme.colors.neutral600;});var CustomFlex=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"RelationalFieldButton__CustomFlex",componentId:"sc-1fz9b02-1"})(["opacity:",";"],function(_ref2){var isDragging=_ref2.isDragging;return isDragging?0:1;});var DragButton=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"RelationalFieldButton__DragButton",componentId:"sc-1fz9b02-2"})(["cursor:all-scroll;border-right:1px solid ",";"],function(_ref3){var theme=_ref3.theme;return theme.colors.neutral200;});var RelationalFieldButton=function RelationalFieldButton(_ref4){var attribute=_ref4.attribute,onEditField=_ref4.onEditField,onDeleteField=_ref4.onDeleteField,children=_ref4.children,index=_ref4.index,name=_ref4.name,onMoveField=_ref4.onMoveField;var dragButtonRef=(0,_react.useRef)();var _useDrop=(0,_reactDnd.useDrop)({accept:_utils.ItemTypes.EDIT_RELATION,hover:function hover(item){if(!dragButtonRef.current){return;}var dragIndex=item.index;var hoverIndex=index;// Don't replace items with themselves
// Don't replace items with themselves
if(dragIndex===hoverIndex){return;}onMoveField(dragIndex,hoverIndex);item.index=hoverIndex;}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var _useDrag=(0,_reactDnd.useDrag)({type:_utils.ItemTypes.EDIT_RELATION,item:function item(){return{index:index,labelField:children,name:name};},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],dragPreview=_useDrag2[2];(0,_react.useEffect)(function(){dragPreview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:true});},[dragPreview]);drag(drop(dragButtonRef));var getHeight=function getHeight(){var higherFields=['json','text','file','media','component','richtext','dynamiczone'];if(attribute&&higherFields.includes(attribute.type)){return"".concat(74/16,"rem");}return"".concat(32/16,"rem");};return/*#__PURE__*/_react["default"].createElement(CustomFlex,{width:"100%",borderColor:"neutral150",hasRadius:true,background:"neutral100",minHeight:getHeight(),alignItems:"stretch",isDragging:isDragging},/*#__PURE__*/_react["default"].createElement(DragButton,{as:"button",type:"button",ref:dragButtonRef,onClick:function onClick(e){return e.stopPropagation();},alignItems:"center",paddingLeft:3,paddingRight:3// Disable the keyboard navigation since the drag n drop isn't accessible with the keyboard for the moment
,tabIndex:-1},/*#__PURE__*/_react["default"].createElement(CustomDragIcon,null)),/*#__PURE__*/_react["default"].createElement(_FieldButtonContent["default"],{attribute:attribute,onEditField:onEditField,onDeleteField:onDeleteField},children));};RelationalFieldButton.defaultProps={attribute:undefined};RelationalFieldButton.propTypes={attribute:_propTypes["default"].shape({components:_propTypes["default"].array,component:_propTypes["default"].string,type:_propTypes["default"].string}),onEditField:_propTypes["default"].func.isRequired,onDeleteField:_propTypes["default"].func.isRequired,children:_propTypes["default"].string.isRequired,index:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,onMoveField:_propTypes["default"].func.isRequired};var _default=RelationalFieldButton;exports.default=_default;

/***/ }),

/***/ 8010:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _get=_interopRequireDefault(__webpack_require__(27361));var _reactIntl=__webpack_require__(97132);var _Button=__webpack_require__(19408);var _Box=__webpack_require__(5493);var _Typography=__webpack_require__(49425);var _Stack=__webpack_require__(9008);var _SimpleMenu=__webpack_require__(33097);var _Plus=_interopRequireDefault(__webpack_require__(80768));var _utils=__webpack_require__(28564);var _hooks=__webpack_require__(14772);var _RelationalFieldButton=_interopRequireDefault(__webpack_require__(50225));var RelationalFields=function RelationalFields(_ref){var relationsLayout=_ref.relationsLayout,editRelationsLayoutRemainingFields=_ref.editRelationsLayoutRemainingFields,onRemoveField=_ref.onRemoveField,onAddField=_ref.onAddField;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useLayoutDnd=(0,_hooks.useLayoutDnd)(),setEditFieldToSelect=_useLayoutDnd.setEditFieldToSelect,modifiedData=_useLayoutDnd.modifiedData,onMoveRelation=_useLayoutDnd.onMoveRelation;return/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:4},/*#__PURE__*/_react["default"].createElement("div",null,/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold"},formatMessage({id:(0,_utils.getTrad)('containers.SettingPage.relations'),defaultMessage:'Relational fields'}))),/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",textColor:"neutral600"},formatMessage({id:'containers.SettingPage.editSettings.description',defaultMessage:'Drag & drop the fields to build the layout'})))),/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:4,hasRadius:true,borderStyle:"dashed",borderWidth:"1px",borderColor:"neutral300"},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},relationsLayout.map(function(relationName,index){var relationLabel=(0,_get["default"])(modifiedData,['metadatas',relationName,'edit','label'],'');return/*#__PURE__*/_react["default"].createElement(_RelationalFieldButton["default"],{onEditField:function onEditField(){return setEditFieldToSelect(relationName);},onDeleteField:function onDeleteField(){return onRemoveField(index);},key:relationName,index:index,name:relationName,onMoveField:onMoveRelation},relationLabel||relationName);}),/*#__PURE__*/_react["default"].createElement(_SimpleMenu.SimpleMenu,{id:"label",label:formatMessage({id:'containers.SettingPage.add.relational-field',defaultMessage:'Insert another relational field'}),"data-testid":"add-relation",as:_Button.Button,fullWidth:true,startIcon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null),endIcon:null,variant:"secondary",disabled:editRelationsLayoutRemainingFields.length===0},editRelationsLayoutRemainingFields.map(function(remainingRelation){return/*#__PURE__*/_react["default"].createElement(_SimpleMenu.MenuItem,{id:"menuItem-".concat(remainingRelation),key:"menuItem-".concat(remainingRelation),onClick:function onClick(){return onAddField(remainingRelation);}},remainingRelation);})))));};RelationalFields.propTypes={relationsLayout:_propTypes["default"].array.isRequired,editRelationsLayoutRemainingFields:_propTypes["default"].array.isRequired,onRemoveField:_propTypes["default"].func.isRequired,onAddField:_propTypes["default"].func.isRequired};var _default=RelationalFields;exports.default=_default;

/***/ }),

/***/ 10198:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _get=_interopRequireDefault(__webpack_require__(27361));var _hooks=__webpack_require__(14772);var _DisplayedFieldButton=_interopRequireDefault(__webpack_require__(73566));var RowItemsLayout=function RowItemsLayout(_ref){var rowItem=_ref.rowItem,onRemoveField=_ref.onRemoveField,rowId=_ref.rowId,rowIndex=_ref.rowIndex,index=_ref.index,lastIndex=_ref.lastIndex;var _useLayoutDnd=(0,_hooks.useLayoutDnd)(),setEditFieldToSelect=_useLayoutDnd.setEditFieldToSelect,attributes=_useLayoutDnd.attributes,modifiedData=_useLayoutDnd.modifiedData,moveRow=_useLayoutDnd.moveRow,moveItem=_useLayoutDnd.moveItem;var attribute=(0,_get["default"])(attributes,[rowItem.name],{});var attributeLabel=(0,_get["default"])(modifiedData,['metadatas',rowItem.name,'edit','label'],'');return/*#__PURE__*/_react["default"].createElement(_DisplayedFieldButton["default"],{onEditField:function onEditField(){return setEditFieldToSelect(rowItem.name);},onDeleteField:function onDeleteField(){return onRemoveField(rowId,index);},attribute:attribute,index:index,lastIndex:lastIndex,rowIndex:rowIndex,name:rowItem.name,size:rowItem.size,moveRow:moveRow,moveItem:moveItem},attributeLabel||rowItem.name);};RowItemsLayout.propTypes={index:_propTypes["default"].number.isRequired,lastIndex:_propTypes["default"].number.isRequired,onRemoveField:_propTypes["default"].func.isRequired,rowId:_propTypes["default"].number.isRequired,rowIndex:_propTypes["default"].number.isRequired,rowItem:_propTypes["default"].object.isRequired};var _default=RowItemsLayout;exports.default=_default;

/***/ }),

/***/ 79075:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Grid=__webpack_require__(34626);var _RowItemsLayout=_interopRequireDefault(__webpack_require__(10198));var RowsLayout=function RowsLayout(_ref){var row=_ref.row,onRemoveField=_ref.onRemoveField,rowIndex=_ref.rowIndex;return/*#__PURE__*/_react["default"].createElement(_Grid.Grid,null,row.rowContent.map(function(rowItem,index){return/*#__PURE__*/_react["default"].createElement(_RowItemsLayout["default"],{key:rowItem.name,rowItem:rowItem,index:index,rowId:row.rowId,onRemoveField:onRemoveField,rowIndex:rowIndex,lastIndex:row.rowContent.length-1});}));};RowsLayout.propTypes={onRemoveField:_propTypes["default"].func.isRequired,row:_propTypes["default"].object.isRequired,rowIndex:_propTypes["default"].number.isRequired};var _default=RowsLayout;exports.default=_default;

/***/ }),

/***/ 40224:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _reactQuery=__webpack_require__(23724);var _upperFirst=_interopRequireDefault(__webpack_require__(11700));var _pick=_interopRequireDefault(__webpack_require__(78718));var _cloneDeep=_interopRequireDefault(__webpack_require__(50361));var _flatMap=_interopRequireDefault(__webpack_require__(94654));var _isEqual=_interopRequireDefault(__webpack_require__(18446));var _get=_interopRequireDefault(__webpack_require__(27361));var _set=_interopRequireDefault(__webpack_require__(36968));var _helperPlugin=__webpack_require__(68547);var _reactRouterDom=__webpack_require__(39711);var _Main=__webpack_require__(62031);var _Layout=__webpack_require__(78862);var _Link=__webpack_require__(85104);var _Button=__webpack_require__(19408);var _Box=__webpack_require__(5493);var _Typography=__webpack_require__(49425);var _Grid=__webpack_require__(34626);var _Select=__webpack_require__(43808);var _Stack=__webpack_require__(9008);var _Divider=__webpack_require__(14276);var _ArrowLeft=_interopRequireDefault(__webpack_require__(68717));var _Check=_interopRequireDefault(__webpack_require__(84734));var _utils=__webpack_require__(28564);var _reducer=_interopRequireWildcard(__webpack_require__(74569));var _init=_interopRequireDefault(__webpack_require__(98608));var _DisplayedFields=_interopRequireDefault(__webpack_require__(66650));var _RelationalFields=_interopRequireDefault(__webpack_require__(8010));var _FormModal=_interopRequireDefault(__webpack_require__(71667));var _LayoutDndProvider=_interopRequireDefault(__webpack_require__(95758));var _layout=__webpack_require__(28550);var _api=_interopRequireDefault(__webpack_require__(1189));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var EditSettingsView=function EditSettingsView(_ref){var mainLayout=_ref.mainLayout,components=_ref.components,isContentTypeView=_ref.isContentTypeView,slug=_ref.slug,updateLayout=_ref.updateLayout;var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,function(){return(0,_init["default"])(_reducer.initialState,mainLayout,components);}),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),reducerState=_useReducer2[0],dispatch=_useReducer2[1];var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isDraggingSibling=_useState2[0],setIsDraggingSibling=_useState2[1];var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var toggleNotification=(0,_helperPlugin.useNotification)();var _useHistory=(0,_reactRouterDom.useHistory)(),goBack=_useHistory.goBack;var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),isModalFormOpen=_useState4[0],setIsModalFormOpen=_useState4[1];var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2["default"])(_useState5,2),isConfirmDialogOpen=_useState6[0],setIsConfirmDialogOpen=_useState6[1];var componentLayouts=reducerState.componentLayouts,initialData=reducerState.initialData,modifiedData=reducerState.modifiedData,metaToEdit=reducerState.metaToEdit,metaForm=reducerState.metaForm;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var modelName=(0,_get["default"])(mainLayout,['info','displayName'],'');var attributes=(0,_get["default"])(modifiedData,['attributes'],{});var entryTitleOptions=Object.keys(attributes).filter(function(attr){var type=(0,_get["default"])(attributes,[attr,'type'],'');return!['dynamiczone','json','text','relation','component','boolean','date','media','richtext','timestamp'].includes(type)&&!!type;});var editLayout=(0,_get["default"])(modifiedData,['layouts','edit'],[]);var displayedFields=(0,_flatMap["default"])(editLayout,'rowContent');var editLayoutRemainingFields=Object.keys(modifiedData.attributes).filter(function(attr){if(!isContentTypeView){return true;}return(0,_get["default"])(modifiedData,['attributes',attr,'type'],'')!=='relation';}).filter(function(attr){return(0,_get["default"])(modifiedData,['metadatas',attr,'edit','visible'],false)===true;}).filter(function(attr){return displayedFields.findIndex(function(el){return el.name===attr;})===-1;}).sort();var relationsLayout=(0,_get["default"])(modifiedData,['layouts','editRelations'],[]);var editRelationsLayoutRemainingFields=Object.keys(attributes).filter(function(attr){return attributes[attr].type==='relation';}).filter(function(attr){return relationsLayout.indexOf(attr)===-1;});var handleChange=function handleChange(_ref2){var _ref2$target=_ref2.target,name=_ref2$target.name,value=_ref2$target.value;dispatch({type:'ON_CHANGE',keys:name.split('.'),value:value});};var handleToggleModal=function handleToggleModal(){setIsModalFormOpen(function(prev){return!prev;});};var toggleConfirmDialog=function toggleConfirmDialog(){setIsConfirmDialogOpen(function(prev){return!prev;});};var handleMetaChange=function handleMetaChange(_ref3){var _ref3$target=_ref3.target,name=_ref3$target.name,value=_ref3$target.value;dispatch({type:'ON_CHANGE_META',keys:name.split('.'),value:value});};var handleMetaSubmit=function handleMetaSubmit(e){e.preventDefault();dispatch({type:'SUBMIT_META_FORM'});handleToggleModal();};var handleSubmit=function handleSubmit(e){e.preventDefault();toggleConfirmDialog();};var submitMutation=(0,_reactQuery.useMutation)(function(body){return(0,_api["default"])(body,slug,isContentTypeView);},{onSuccess:function onSuccess(_ref4){var data=_ref4.data;if(updateLayout){updateLayout(data.data);}dispatch({type:'SUBMIT_SUCCEEDED'});toggleConfirmDialog();trackUsage('didEditEditSettings');},onError:function onError(){toggleNotification({type:'warning',message:{id:'notification.error'}});}});var isSubmittingForm=submitMutation.isLoading;var handleConfirm=function handleConfirm(){var body=(0,_pick["default"])((0,_cloneDeep["default"])(modifiedData),['layouts','metadatas','settings']);(0,_set["default"])(body,'layouts.edit',(0,_layout.unformatLayout)(body.layouts.edit));submitMutation.mutate(body);};var handleMoveRelation=function handleMoveRelation(fromIndex,toIndex){dispatch({type:'MOVE_RELATION',fromIndex:fromIndex,toIndex:toIndex});};var handleMoveField=function handleMoveField(fromIndex,toIndex){dispatch({type:'MOVE_FIELD',fromIndex:fromIndex,toIndex:toIndex});};var moveItem=function moveItem(dragIndex,hoverIndex,dragRowIndex,hoverRowIndex){// Same row = just reorder
if(dragRowIndex===hoverRowIndex){dispatch({type:'REORDER_ROW',dragRowIndex:dragRowIndex,dragIndex:dragIndex,hoverIndex:hoverIndex});}else{dispatch({type:'REORDER_DIFF_ROW',dragIndex:dragIndex,hoverIndex:hoverIndex,dragRowIndex:dragRowIndex,hoverRowIndex:hoverRowIndex});}};var moveRow=function moveRow(fromIndex,toIndex){dispatch({type:'MOVE_ROW',fromIndex:fromIndex,toIndex:toIndex});};return/*#__PURE__*/_react["default"].createElement(_LayoutDndProvider["default"],{isContentTypeView:isContentTypeView,attributes:attributes,modifiedData:modifiedData,slug:slug,componentLayouts:componentLayouts,selectedField:metaToEdit,fieldForm:metaForm,onMoveRelation:handleMoveRelation,onMoveField:handleMoveField,moveRow:moveRow,moveItem:moveItem,setEditFieldToSelect:function setEditFieldToSelect(name){dispatch({type:'SET_FIELD_TO_EDIT',name:name});handleToggleModal();},isDraggingSibling:isDraggingSibling,setIsDraggingSibling:setIsDraggingSibling},/*#__PURE__*/_react["default"].createElement(_Main.Main,null,/*#__PURE__*/_react["default"].createElement("form",{onSubmit:handleSubmit},/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{title:formatMessage({id:(0,_utils.getTrad)('components.SettingsViewWrapper.pluginHeader.title'),defaultMessage:"Configure the view - ".concat((0,_upperFirst["default"])(modelName))},{name:(0,_upperFirst["default"])(modelName)}),subtitle:formatMessage({id:(0,_utils.getTrad)('components.SettingsViewWrapper.pluginHeader.description.edit-settings'),defaultMessage:'Customize how the edit view will look like.'}),navigationAction:/*#__PURE__*/_react["default"].createElement(_Link.Link,{startIcon:/*#__PURE__*/_react["default"].createElement(_ArrowLeft["default"],null),onClick:function onClick(e){e.preventDefault();goBack();},to:"/"},formatMessage({id:'app.components.go-back',defaultMessage:'Go back'})),primaryAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{disabled:(0,_isEqual["default"])(initialData,modifiedData),startIcon:/*#__PURE__*/_react["default"].createElement(_Check["default"],null),type:"submit"},formatMessage({id:'form.button.save',defaultMessage:'Save'}))}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{background:"neutral0",hasRadius:true,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:4},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"delta",as:"h2"},formatMessage({id:(0,_utils.getTrad)('containers.SettingPage.settings'),defaultMessage:'Settings'})),/*#__PURE__*/_react["default"].createElement(_Grid.Grid,null,/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6,s:12},/*#__PURE__*/_react["default"].createElement(_Select.Select,{label:formatMessage({id:(0,_utils.getTrad)('containers.SettingPage.editSettings.entry.title'),defaultMessage:'Entry title'}),hint:formatMessage({id:(0,_utils.getTrad)('containers.SettingPage.editSettings.entry.title.description'),defaultMessage:'Set the display field of your entry'}),onChange:function onChange(value){handleChange({target:{name:'settings.mainField',value:value===''?null:value}});},value:modifiedData.settings.mainField},entryTitleOptions.map(function(attribute){return/*#__PURE__*/_react["default"].createElement(_Select.Option,{key:attribute,value:attribute},attribute);})))),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:2,paddingBottom:2},/*#__PURE__*/_react["default"].createElement(_Divider.Divider,null)),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"delta",as:"h3"},formatMessage({id:(0,_utils.getTrad)('containers.SettingPage.view'),defaultMessage:'View'})),/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:isContentTypeView?8:12,s:12},/*#__PURE__*/_react["default"].createElement(_DisplayedFields["default"],{attributes:attributes,editLayout:editLayout,editLayoutRemainingFields:editLayoutRemainingFields,onAddField:function onAddField(field){dispatch({type:'ON_ADD_FIELD',name:field});},onRemoveField:function onRemoveField(rowId,index){dispatch({type:'REMOVE_FIELD',rowIndex:rowId,fieldIndex:index});}})),isContentTypeView&&/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:4,s:12},/*#__PURE__*/_react["default"].createElement(_RelationalFields["default"],{editRelationsLayoutRemainingFields:editRelationsLayoutRemainingFields,relationsLayout:relationsLayout,onAddField:function onAddField(name){return dispatch({type:'ADD_RELATION',name:name});},onRemoveField:function onRemoveField(index){return dispatch({type:'REMOVE_RELATION',index:index});}})))))),/*#__PURE__*/_react["default"].createElement(_helperPlugin.ConfirmDialog,{bodyText:{id:(0,_utils.getTrad)('popUpWarning.warning.updateAllSettings'),defaultMessage:'This will modify all your settings'},iconRightButton:/*#__PURE__*/_react["default"].createElement(_Check["default"],null),isConfirmButtonLoading:isSubmittingForm,isOpen:isConfirmDialogOpen,onToggleDialog:toggleConfirmDialog,onConfirm:handleConfirm,variantRightButton:"success-light"})),isModalFormOpen&&/*#__PURE__*/_react["default"].createElement(_FormModal["default"],{onSubmit:handleMetaSubmit,onToggle:handleToggleModal,type:(0,_get["default"])(attributes,[metaToEdit,'type'],''),onChange:handleMetaChange})));};EditSettingsView.defaultProps={isContentTypeView:false,updateLayout:null};EditSettingsView.propTypes={components:_propTypes["default"].object.isRequired,isContentTypeView:_propTypes["default"].bool,mainLayout:_propTypes["default"].shape({attributes:_propTypes["default"].object.isRequired,info:_propTypes["default"].object.isRequired,layouts:_propTypes["default"].shape({list:_propTypes["default"].array.isRequired,editRelations:_propTypes["default"].array.isRequired,edit:_propTypes["default"].array.isRequired}).isRequired,metadatas:_propTypes["default"].object.isRequired,options:_propTypes["default"].object.isRequired}).isRequired,slug:_propTypes["default"].string.isRequired,updateLayout:_propTypes["default"].func};var _default=EditSettingsView;exports.default=_default;

/***/ }),

/***/ 98608:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _lodash=__webpack_require__(96486);var _layout=__webpack_require__(28550);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var init=function init(initialState,mainLayout,components){var initialData=(0,_lodash.cloneDeep)(mainLayout);(0,_lodash.set)(initialData,['layouts','edit'],(0,_layout.formatLayout)((0,_layout.createLayout)(mainLayout.layouts.edit)));return _objectSpread(_objectSpread({},initialState),{},{initialData:initialData,modifiedData:initialData,componentLayouts:components});};var _default=init;exports.default=_default;

/***/ }),

/***/ 74569:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.initialState=exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _immer=_interopRequireDefault(__webpack_require__(66312));var _set=_interopRequireDefault(__webpack_require__(36968));var _get=_interopRequireDefault(__webpack_require__(27361));var _cloneDeep=_interopRequireDefault(__webpack_require__(50361));var _utils=__webpack_require__(28564);var _layout=__webpack_require__(28550);var initialState={fieldForm:{},componentLayouts:{},metaToEdit:'',initialData:{},metaForm:{},modifiedData:{}};exports.initialState=initialState;var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;return(// eslint-disable-next-line consistent-return
(0,_immer["default"])(state,function(draftState){var layoutPathEdit=['modifiedData','layouts','edit'];var layoutPathRelations=['modifiedData','layouts','editRelations'];switch(action.type){case'ADD_RELATION':{var editRelationLayoutValue=(0,_get["default"])(state,layoutPathRelations,[]);(0,_set["default"])(draftState,layoutPathRelations,[].concat((0,_toConsumableArray2["default"])(editRelationLayoutValue),[action.name]));break;}case'MOVE_RELATION':{var _editRelationLayoutValue=(0,_get["default"])(state,layoutPathRelations,[]);var fromIndex=action.fromIndex,toIndex=action.toIndex;(0,_set["default"])(draftState,layoutPathRelations,(0,_utils.arrayMoveItem)(_editRelationLayoutValue,fromIndex,toIndex));break;}case'MOVE_ROW':{var editFieldLayoutValue=(0,_get["default"])(state,layoutPathEdit,[]);var _fromIndex=action.fromIndex,_toIndex=action.toIndex;(0,_set["default"])(draftState,layoutPathEdit,(0,_utils.arrayMoveItem)(editFieldLayoutValue,_fromIndex,_toIndex));break;}case'ON_ADD_FIELD':{var newState=(0,_cloneDeep["default"])(state);var size=(0,_layout.getInputSize)((0,_get["default"])(newState,['modifiedData','attributes',action.name,'type'],''));var listSize=(0,_get["default"])(newState,layoutPathEdit,[]).length;var actualRowContentPath=[].concat(layoutPathEdit,[listSize-1,'rowContent']);var rowContentToSet=(0,_get["default"])(newState,actualRowContentPath,[]);var newList=(0,_get["default"])(newState,layoutPathEdit,[]);if(Array.isArray(rowContentToSet)){(0,_set["default"])(newList,[listSize>0?listSize-1:0,'rowContent'],[].concat((0,_toConsumableArray2["default"])(rowContentToSet),[{name:action.name,size:size}]));}else{(0,_set["default"])(newList,[listSize>0?listSize-1:0,'rowContent'],[{name:action.name,size:size}]);}var formattedList=(0,_layout.formatLayout)(newList);(0,_set["default"])(draftState,layoutPathEdit,formattedList);break;}case'ON_CHANGE':{(0,_set["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys)),action.value);break;}case'ON_CHANGE_META':{(0,_set["default"])(draftState,['metaForm'].concat((0,_toConsumableArray2["default"])(action.keys)),action.value);break;}case'ON_RESET':{draftState.modifiedData=state.initialData;break;}case'REMOVE_FIELD':{var row=(0,_get["default"])(state,[].concat(layoutPathEdit,[action.rowIndex,'rowContent']),[]);var _newState=(0,_cloneDeep["default"])(state);if(row.length===1||row.length===2&&(0,_get["default"])(row,[1,'name'],'')==='_TEMP_'){var currentRowFieldList=(0,_get["default"])(state,layoutPathEdit,[]);(0,_set["default"])(_newState,layoutPathEdit,currentRowFieldList.filter(function(_,index){return action.rowIndex!==index;}));}else{(0,_set["default"])(_newState,[].concat(layoutPathEdit,[action.rowIndex,'rowContent']),row.filter(function(_,index){return index!==action.fieldIndex;}));}var updatedList=(0,_layout.formatLayout)((0,_get["default"])(_newState,layoutPathEdit,[]));(0,_set["default"])(draftState,layoutPathEdit,updatedList);break;}case'REMOVE_RELATION':{var relationList=(0,_get["default"])(state,layoutPathRelations,[]);(0,_set["default"])(draftState,layoutPathRelations,relationList.filter(function(_,index){return action.index!==index;}));break;}case'REORDER_DIFF_ROW':{var actualRowContent=(0,_get["default"])(state,[].concat(layoutPathEdit,[action.dragRowIndex,'rowContent']),[]);var targetRowContent=(0,_get["default"])(state,[].concat(layoutPathEdit,[action.hoverRowIndex,'rowContent']),[]);var itemToInsert=(0,_get["default"])(state,[].concat(layoutPathEdit,[action.dragRowIndex,'rowContent',action.dragIndex]),{});var rowContent=[].concat((0,_toConsumableArray2["default"])(targetRowContent),[itemToInsert]);var _newState2=(0,_cloneDeep["default"])(state);(0,_set["default"])(_newState2,[].concat(layoutPathEdit,[action.dragRowIndex,'rowContent']),actualRowContent.filter(function(_,index){return action.dragIndex!==index;}));(0,_set["default"])(_newState2,[].concat(layoutPathEdit,[action.hoverRowIndex,'rowContent']),(0,_utils.arrayMoveItem)(rowContent,rowContent.length-1,action.hoverIndex));var _updatedList=(0,_layout.formatLayout)((0,_get["default"])(_newState2,layoutPathEdit,[]));(0,_set["default"])(draftState,layoutPathEdit,_updatedList);break;}case'REORDER_ROW':{var _newState3=(0,_cloneDeep["default"])(state);var _rowContent=(0,_get["default"])(_newState3,[].concat(layoutPathEdit,[action.dragRowIndex,'rowContent']),[]);(0,_set["default"])(_newState3,[].concat(layoutPathEdit,[action.dragRowIndex,'rowContent']),(0,_utils.arrayMoveItem)(_rowContent,action.dragIndex,action.hoverIndex));var _updatedList2=(0,_layout.formatLayout)((0,_get["default"])(_newState3,layoutPathEdit,[]));(0,_set["default"])(draftState,layoutPathEdit,_updatedList2);break;}case'SET_FIELD_TO_EDIT':{draftState.metaToEdit=action.name;draftState.metaForm=(0,_get["default"])(state,['modifiedData','metadatas',action.name,'edit'],{});break;}case'SUBMIT_META_FORM':{(0,_set["default"])(draftState,['modifiedData','metadatas',state.metaToEdit,'edit'],state.metaForm);break;}case'SUBMIT_SUCCEEDED':{draftState.initialData=state.modifiedData;break;}case'UNSET_FIELD_TO_EDIT':{draftState.metaToEdit='';draftState.metaForm={};break;}default:return draftState;}}));};var _default=reducer;exports.default=_default;

/***/ }),

/***/ 1189:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _utils=__webpack_require__(53777);var _utils2=__webpack_require__(28564);var putCMSettingsEV=function putCMSettingsEV(body,slug,isContentTypeView){return _utils.axiosInstance.put((0,_utils2.getRequestUrl)(isContentTypeView?"content-types/".concat(slug,"/configuration"):"components/".concat(slug,"/configuration")),body);};var _default=putCMSettingsEV;exports.default=_default;

/***/ }),

/***/ 71830:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var createPossibleMainFieldsForModelsAndComponents=function createPossibleMainFieldsForModelsAndComponents(array){return array.reduce(function(acc,current){var attributes=(0,_lodash.get)(current,['attributes'],{});var possibleMainFields=Object.keys(attributes).filter(function(attr){return!['boolean','component','dynamiczone','json','media','password','relation','text','richtext'].includes((0,_lodash.get)(attributes,[attr,'type'],''));});acc[current.uid]=possibleMainFields;return acc;},{});};var _default=createPossibleMainFieldsForModelsAndComponents;exports.default=_default;

/***/ }),

/***/ 357:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _utils=__webpack_require__(28564);var getInputProps=function getInputProps(fieldName){var type;switch(fieldName){case'description':case'label':case'placeholder':type='text';break;case'mainField':type='select';break;case'editable':type='bool';break;default:type='';}var labelId=fieldName==='mainField'?(0,_utils.getTrad)('containers.SettingPage.editSettings.entry.title'):(0,_utils.getTrad)("form.Input.".concat(fieldName));return{type:type,label:{id:labelId}};};var _default=getInputProps;exports.default=_default;

/***/ }),

/***/ 13107:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "createPossibleMainFieldsForModelsAndComponents", ({enumerable:true,get:function get(){return _createPossibleMainFieldsForModelsAndComponents["default"];}}));Object.defineProperty(exports, "getInputProps", ({enumerable:true,get:function get(){return _getInputProps["default"];}}));var _createPossibleMainFieldsForModelsAndComponents=_interopRequireDefault(__webpack_require__(71830));var _getInputProps=_interopRequireDefault(__webpack_require__(357));

/***/ }),

/***/ 28550:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.unformatLayout=exports.getRowSize=exports.getInputSize=exports.formatLayout=exports.createLayout=void 0;/* eslint-disable indent */var getRowSize=function getRowSize(arr){return arr.reduce(function(sum,value){return sum+value.size;},0);};exports.getRowSize=getRowSize;var createLayout=function createLayout(arr){return arr.reduce(function(acc,current,index){var row={rowId:index,rowContent:current};return acc.concat(row);},[]);};exports.createLayout=createLayout;var formatLayout=function formatLayout(arr){return arr.reduce(function(acc,current){var toPush=[];var currentRow=current.rowContent.reduce(function(acc2,curr){var acc2Size=getRowSize(acc2);if(curr.name==='_TEMP_'){return acc2;}if(acc2Size+curr.size<=12){acc2.push(curr);}else{toPush.push(curr);}return acc2;},[]);var rowId=acc.length===0?0:Math.max.apply(Math,acc.map(function(o){return o.rowId;}))+1;var currentRowSize=getRowSize(currentRow);if(currentRowSize<12){currentRow.push({name:'_TEMP_',size:12-currentRowSize});}acc.push({rowId:rowId,rowContent:currentRow});if(toPush.length>0){var toPushSize=getRowSize(toPush);if(toPushSize<12){toPush.push({name:'_TEMP_',size:12-toPushSize});}acc.push({rowId:rowId+1,rowContent:toPush});toPush=[];}return acc;},[]).filter(function(row){return row.rowContent.length>0;}).filter(function(row){if(row.rowContent.length===1){return row.rowContent[0].name!=='_TEMP_';}return true;});};exports.formatLayout=formatLayout;var unformatLayout=function unformatLayout(arr){return arr.reduce(function(acc,current){var currentRow=current.rowContent.filter(function(content){return content.name!=='_TEMP_';});return acc.concat([currentRow]);},[]);};exports.unformatLayout=unformatLayout;var getInputSize=function getInputSize(type){switch(type){case'boolean':case'date':case'integer':case'float':case'biginteger':case'decimal':case'time':return 4;case'json':case'component':case'richtext':case'dynamiczone':return 12;default:return 6;}};exports.getInputSize=getInputSize;

/***/ }),

/***/ 96155:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactIntl=__webpack_require__(97132);var _get=_interopRequireDefault(__webpack_require__(27361));var _reactFastCompare=_interopRequireDefault(__webpack_require__(39918));var _Button=__webpack_require__(19408);var _Trash=_interopRequireDefault(__webpack_require__(18568));var _helperPlugin=__webpack_require__(68547);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _utils=__webpack_require__(28564);var _utils2=__webpack_require__(87227);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var DeleteLink=function DeleteLink(_ref){var isCreatingEntry=_ref.isCreatingEntry,onDelete=_ref.onDelete,onDeleteSucceeded=_ref.onDeleteSucceeded,trackerProperty=_ref.trackerProperty;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showWarningDelete=_useState2[0],setWarningDelete=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),isModalConfirmButtonLoading=_useState4[0],setIsModalConfirmButtonLoading=_useState4[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var toggleNotification=(0,_helperPlugin.useNotification)();var toggleWarningDelete=function toggleWarningDelete(){return setWarningDelete(function(prevState){return!prevState;});};var handleConfirmDelete=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var errorMessage;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;// Show the loading state
setIsModalConfirmButtonLoading(true);_context.next=4;return onDelete(trackerProperty);case 4:setIsModalConfirmButtonLoading(false);toggleWarningDelete();onDeleteSucceeded();_context.next=15;break;case 9:_context.prev=9;_context.t0=_context["catch"](0);errorMessage=(0,_get["default"])(_context.t0,'response.payload.message',formatMessage({id:(0,_utils.getTrad)('error.record.delete')}));setIsModalConfirmButtonLoading(false);toggleWarningDelete();toggleNotification({type:'warning',message:errorMessage});case 15:case"end":return _context.stop();}}},_callee,null,[[0,9]]);}));return function handleConfirmDelete(){return _ref2.apply(this,arguments);};}();if(isCreatingEntry){return null;}return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:toggleWarningDelete,size:"S",startIcon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null),variant:"danger-light"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.delete-entry'),defaultMessage:'Delete this entry'})),/*#__PURE__*/_react["default"].createElement(_helperPlugin.ConfirmDialog,{isConfirmButtonLoading:isModalConfirmButtonLoading,isOpen:showWarningDelete,onConfirm:handleConfirmDelete,onToggleDialog:toggleWarningDelete}));};DeleteLink.propTypes={isCreatingEntry:_propTypes["default"].bool.isRequired,onDelete:_propTypes["default"].func.isRequired,onDeleteSucceeded:_propTypes["default"].func.isRequired,trackerProperty:_propTypes["default"].object.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(DeleteLink,_reactFastCompare["default"]);var _default=(0,_utils2.connect)(Memoized,_utils2.select);exports.default=_default;

/***/ }),

/***/ 42404:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select();return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports.default=_default;

/***/ }),

/***/ 87227:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "connect", ({enumerable:true,get:function get(){return _connect["default"];}}));Object.defineProperty(exports, "select", ({enumerable:true,get:function get(){return _select["default"];}}));var _connect=_interopRequireDefault(__webpack_require__(42404));var _select=_interopRequireDefault(__webpack_require__(35591));

/***/ }),

/***/ 35591:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var _helperPlugin=__webpack_require__(68547);function useSelect(){var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),hasDraftAndPublish=_useCMEditViewDataMan.hasDraftAndPublish,modifiedData=_useCMEditViewDataMan.modifiedData;var trackerProperty={};if(hasDraftAndPublish){var isDraft=(0,_lodash.isEmpty)(modifiedData.publishedAt);trackerProperty=isDraft?{status:'draft'}:{status:'published'};}return{hasDraftAndPublish:hasDraftAndPublish,trackerProperty:trackerProperty};}var _default=useSelect;exports.default=_default;

/***/ }),

/***/ 18382:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.DraftAndPublishBadge=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Dot=_interopRequireDefault(__webpack_require__(8743));var _helperPlugin=__webpack_require__(68547);var _utils=__webpack_require__(28564);var _utils2=__webpack_require__(62090);var CustomBullet=/*#__PURE__*/(0,_styledComponents["default"])(_Dot["default"]).withConfig({displayName:"DraftAndPublishBadge__CustomBullet",componentId:"q3ebj8-0"})(["width:",";height:",";*{fill:",";}"],(0,_helperPlugin.pxToRem)(6),(0,_helperPlugin.pxToRem)(6),function(_ref){var theme=_ref.theme,$bulletColor=_ref.$bulletColor;return theme.colors[$bulletColor];});var DraftAndPublishBadge=function DraftAndPublishBadge(_ref2){var hasDraftAndPublish=_ref2.hasDraftAndPublish,isPublished=_ref2.isPublished;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;if(!hasDraftAndPublish){return null;}var colors={draft:{textColor:'secondary700',bulletColor:'secondary600',box:{background:'secondary100',borderColor:'secondary200'}},published:{textColor:'success700',bulletColor:'success600',box:{background:'success100',borderColor:'success200'}}};var colorProps=isPublished?colors.published:colors.draft;return/*#__PURE__*/_react["default"].createElement(_Box.Box,(0,_extends2["default"])({hasRadius:true,as:"aside",paddingTop:4,paddingBottom:4,paddingLeft:5,paddingRight:5},colorProps.box),/*#__PURE__*/_react["default"].createElement(_Box.Box,{as:_Flex.Flex},/*#__PURE__*/_react["default"].createElement(CustomBullet,{$bulletColor:colorProps.bulletColor}),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:3},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:colorProps.textColor},formatMessage({id:(0,_utils.getTrad)('containers.Edit.information.editing'),defaultMessage:'Editing'}),"\xA0"),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold",textColor:colorProps.textColor},isPublished&&formatMessage({id:(0,_utils.getTrad)('containers.Edit.information.publishedVersion'),defaultMessage:'published version'}),!isPublished&&formatMessage({id:(0,_utils.getTrad)('containers.Edit.information.draftVersion'),defaultMessage:'draft version'})))));};exports.DraftAndPublishBadge=DraftAndPublishBadge;DraftAndPublishBadge.propTypes={hasDraftAndPublish:_propTypes["default"].bool.isRequired,isPublished:_propTypes["default"].bool.isRequired};var _default=(0,_utils2.connect)(DraftAndPublishBadge,_utils2.select);exports.default=_default;

/***/ }),

/***/ 27951:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select();return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports.default=_default;

/***/ }),

/***/ 62090:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "connect", ({enumerable:true,get:function get(){return _connect["default"];}}));Object.defineProperty(exports, "select", ({enumerable:true,get:function get(){return _select["default"];}}));var _connect=_interopRequireDefault(__webpack_require__(27951));var _select=_interopRequireDefault(__webpack_require__(43237));

/***/ }),

/***/ 43237:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _helperPlugin=__webpack_require__(68547);function useSelect(){var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),initialData=_useCMEditViewDataMan.initialData,hasDraftAndPublish=_useCMEditViewDataMan.hasDraftAndPublish;var isPublished=initialData.publishedAt!==undefined&&initialData.publishedAt!==null;return{hasDraftAndPublish:hasDraftAndPublish,isPublished:isPublished};}var _default=useSelect;exports.default=_default;

/***/ }),

/***/ 22543:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.Header=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactIntl=__webpack_require__(97132);var _reactRouterDom=__webpack_require__(39711);var _get=_interopRequireDefault(__webpack_require__(27361));var _isEqual=_interopRequireDefault(__webpack_require__(18446));var _isEmpty=_interopRequireDefault(__webpack_require__(41609));var _ArrowLeft=_interopRequireDefault(__webpack_require__(68717));var _Layout=__webpack_require__(78862);var _Box=__webpack_require__(5493);var _Button=__webpack_require__(19408);var _Dialog=__webpack_require__(16758);var _Link=__webpack_require__(85104);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Stack=__webpack_require__(9008);var _ExclamationMarkCircle=_interopRequireDefault(__webpack_require__(51359));var _Check=_interopRequireDefault(__webpack_require__(84734));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactFastCompare=_interopRequireDefault(__webpack_require__(39918));var _utils=__webpack_require__(28564);var _utils2=__webpack_require__(87172);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Header=function Header(_ref){var _ref$allowedActions=_ref.allowedActions,canUpdate=_ref$allowedActions.canUpdate,canCreate=_ref$allowedActions.canCreate,canPublish=_ref$allowedActions.canPublish,componentLayouts=_ref.componentLayouts,initialData=_ref.initialData,isCreatingEntry=_ref.isCreatingEntry,isSingleType=_ref.isSingleType,hasDraftAndPublish=_ref.hasDraftAndPublish,layout=_ref.layout,modifiedData=_ref.modifiedData,onPublish=_ref.onPublish,onUnpublish=_ref.onUnpublish,status=_ref.status;var _useHistory=(0,_reactRouterDom.useHistory)(),goBack=_useHistory.goBack;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showWarningUnpublish=_useState2[0],setWarningUnpublish=_useState2[1];var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),showWarningDraftRelation=_useState4[0],setShowWarningDraftRelation=_useState4[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var draftRelationsCountRef=(0,_react.useRef)(0);var currentContentTypeMainField=(0,_get["default"])(layout,['settings','mainField'],'id');var currentContentTypeName=(0,_get["default"])(layout,['info','displayName'],'NOT FOUND');var didChangeData=!(0,_isEqual["default"])(initialData,modifiedData)||isCreatingEntry&&!(0,_isEmpty["default"])(modifiedData);var createEntryIntlTitle=formatMessage({id:(0,_utils.getTrad)('containers.Edit.pluginHeader.title.new'),defaultMessage:'Create an entry'});var title=createEntryIntlTitle;if(!isCreatingEntry&&!isSingleType){title=initialData[currentContentTypeMainField]||currentContentTypeName;}if(isSingleType){title=currentContentTypeName;}var checkIfHasDraftRelations=function checkIfHasDraftRelations(){var count=(0,_utils2.getDraftRelations)(modifiedData,layout,componentLayouts);draftRelationsCountRef.current=count;return count;};var primaryAction=null;if(isCreatingEntry&&canCreate){primaryAction=/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:2},hasDraftAndPublish&&/*#__PURE__*/_react["default"].createElement(_Button.Button,{disabled:true,startIcon:/*#__PURE__*/_react["default"].createElement(_Check["default"],null),variant:"secondary"},formatMessage({id:'app.utils.publish',defaultMessage:'Publish'})),/*#__PURE__*/_react["default"].createElement(_Button.Button,{disabled:!didChangeData,isLoading:status==='submit-pending',type:"submit"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.submit'),defaultMessage:'Save'})));}if(!isCreatingEntry&&canUpdate){var shouldShowPublishButton=hasDraftAndPublish&&canPublish;var isPublished=!(0,_isEmpty["default"])(initialData.publishedAt);var isPublishButtonLoading=isPublished?status==='unpublish-pending':status==='publish-pending';var pubishButtonLabel=isPublished?{id:'app.utils.unpublish',defaultMessage:'Unpublish'}:{id:'app.utils.publish',defaultMessage:'Publish'};/* eslint-disable indent */var onClick=isPublished?function(){return setWarningUnpublish(true);}:function(){if(checkIfHasDraftRelations()===0){onPublish();}else{setShowWarningDraftRelation(true);}};/* eslint-enable indent */primaryAction=/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,shouldShowPublishButton&&/*#__PURE__*/_react["default"].createElement(_Button.Button,{disabled:didChangeData,loading:isPublishButtonLoading,onClick:onClick,startIcon:/*#__PURE__*/_react["default"].createElement(_Check["default"],null),variant:"secondary"},formatMessage(pubishButtonLabel)),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:shouldShowPublishButton?2:0},/*#__PURE__*/_react["default"].createElement(_Button.Button,{disabled:!didChangeData,loading:status==='submit-pending',type:"submit"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.submit'),defaultMessage:'Save'}))));}var toggleWarningUnpublish=function toggleWarningUnpublish(){return setWarningUnpublish(function(prevState){return!prevState;});};var toggleWarningDraftRelation=function toggleWarningDraftRelation(){return setShowWarningDraftRelation(function(prevState){return!prevState;});};var handlePublish=function handlePublish(){toggleWarningDraftRelation();draftRelationsCountRef.current=0;onPublish();};var handleUnpublish=function handleUnpublish(){toggleWarningUnpublish();onUnpublish();};var subtitle="".concat(formatMessage({id:(0,_utils.getTrad)('api.id'),defaultMessage:'API ID '})," : ").concat(layout.apiID);return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{title:title.toString(),primaryAction:primaryAction,subtitle:subtitle,navigationAction:/*#__PURE__*/_react["default"].createElement(_Link.Link,{startIcon:/*#__PURE__*/_react["default"].createElement(_ArrowLeft["default"],null)// Needed in order to redirect the user with the correct search params
// Since parts is using a link from react-router-dom the best way to do it is to disable the
// event
,onClick:function onClick(e){e.preventDefault();goBack();},to:"/"},formatMessage({id:'app.components.HeaderLayout.link.go-back',defaultMessage:'Back'}))}),showWarningUnpublish&&/*#__PURE__*/_react["default"].createElement(_Dialog.Dialog,{onClose:toggleWarningUnpublish,title:"Confirmation",labelledBy:"confirmation",describedBy:"confirm-description",isOpen:showWarningUnpublish},/*#__PURE__*/_react["default"].createElement(_Dialog.DialogBody,{icon:/*#__PURE__*/_react["default"].createElement(_ExclamationMarkCircle["default"],null)},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center",style:{textAlign:'center'}},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{id:"confirm-description"},formatMessage({id:(0,_utils.getTrad)('popUpWarning.warning.unpublish'),defaultMessage:'Unpublish this content will automatically change it to a draft.'},{br:function br(){return/*#__PURE__*/_react["default"].createElement("br",null);}}))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center",style:{textAlign:'center'}},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{id:"confirm-description"},formatMessage({id:(0,_utils.getTrad)('popUpWarning.warning.unpublish-question'),defaultMessage:'Are you sure you want to unpublish it?'}))))),/*#__PURE__*/_react["default"].createElement(_Dialog.DialogFooter,{startAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:toggleWarningUnpublish,variant:"tertiary"},formatMessage({id:'components.popUpWarning.button.cancel',defaultMessage:'No, cancel'})),endAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{variant:"danger-light",onClick:handleUnpublish},formatMessage({id:'components.popUpWarning.button.confirm',defaultMessage:'Yes, confirm'}))})),showWarningDraftRelation&&/*#__PURE__*/_react["default"].createElement(_Dialog.Dialog,{onClose:toggleWarningDraftRelation,title:"Confirmation",labelledBy:"confirmation",describedBy:"confirm-description",isOpen:showWarningDraftRelation},/*#__PURE__*/_react["default"].createElement(_Dialog.DialogBody,{icon:/*#__PURE__*/_react["default"].createElement(_ExclamationMarkCircle["default"],null)},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center",style:{textAlign:'center'}},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{id:"confirm-description"},draftRelationsCountRef.current,formatMessage({id:(0,_utils.getTrad)("popUpwarning.warning.has-draft-relations.message"),defaultMessage:'<b>{count, plural, =0 { of your content relations is} one { of your content relations is} other { of your content relations are}}</b> not published yet.<br></br>It might engender broken links and errors on your project.'},{br:function br(){return/*#__PURE__*/_react["default"].createElement("br",null);},b:function b(chunks){return/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold"},chunks);},count:draftRelationsCountRef.current}))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"center",style:{textAlign:'center'}},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{id:"confirm-description"},formatMessage({id:(0,_utils.getTrad)('popUpWarning.warning.publish-question'),defaultMessage:'Do you still want to publish it?'}))))),/*#__PURE__*/_react["default"].createElement(_Dialog.DialogFooter,{startAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:toggleWarningDraftRelation,variant:"tertiary"},formatMessage({id:'components.popUpWarning.button.cancel',defaultMessage:'No, cancel'})),endAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{variant:"success",onClick:handlePublish},formatMessage({id:(0,_utils.getTrad)('popUpwarning.warning.has-draft-relations.button-confirm'),defaultMessage:'Yes, publish'}))})));};exports.Header=Header;Header.propTypes={allowedActions:_propTypes["default"].shape({canUpdate:_propTypes["default"].bool.isRequired,canCreate:_propTypes["default"].bool.isRequired,canPublish:_propTypes["default"].bool.isRequired}).isRequired,componentLayouts:_propTypes["default"].object.isRequired,initialData:_propTypes["default"].object.isRequired,isCreatingEntry:_propTypes["default"].bool.isRequired,isSingleType:_propTypes["default"].bool.isRequired,status:_propTypes["default"].string.isRequired,layout:_propTypes["default"].object.isRequired,hasDraftAndPublish:_propTypes["default"].bool.isRequired,modifiedData:_propTypes["default"].object.isRequired,onPublish:_propTypes["default"].func.isRequired,onUnpublish:_propTypes["default"].func.isRequired};var Memoized=/*#__PURE__*/(0,_react.memo)(Header,_reactFastCompare["default"]);var _default=(0,_utils2.connect)(Memoized,_utils2.select);exports.default=_default;

/***/ }),

/***/ 96860:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));function connect(WrappedComponent,select){return function(props){// eslint-disable-next-line react/prop-types
var selectors=select();return/*#__PURE__*/_react["default"].createElement(WrappedComponent,(0,_extends2["default"])({},props,selectors));};}var _default=connect;exports.default=_default;

/***/ }),

/***/ 81375:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var getDraftRelations=function getDraftRelations(data,ctSchema,components){var getDraftRelationsCount=function getDraftRelationsCount(data,schema){return Object.keys(data).reduce(function(acc,current){var type=(0,_lodash.get)(schema,['attributes',current,'type'],'string');var relationType=(0,_lodash.get)(schema,['attributes',current,'relationType'],'');var isMorph=relationType.toLowerCase().includes('morph');var oneWayTypes=['oneWay','oneToOne','manyToOne'];var currentData=data[current];if((0,_lodash.isNil)(currentData)){return acc;}if(type==='dynamiczone'){currentData.forEach(function(curr){var compoSchema=(0,_lodash.get)(components,curr.__component,{});acc+=getDraftRelationsCount(curr,compoSchema);});}if(type==='component'){var isRepeatable=(0,_lodash.get)(schema,['attributes',current,'repeatable'],false);var compoUID=(0,_lodash.get)(schema,['attributes',current,'component'],'');var compoSchema=(0,_lodash.get)(components,compoUID,{});if(isRepeatable){currentData.forEach(function(curr){acc+=getDraftRelationsCount(curr,compoSchema);});}else{acc+=getDraftRelationsCount(currentData,compoSchema);}}if(type==='relation'&&!isMorph){if(oneWayTypes.includes(relationType)){var hasDraftAndPublish=(0,_lodash.has)(currentData,'publishedAt');if(hasDraftAndPublish&&(0,_lodash.isEmpty)(currentData.publishedAt)){acc+=1;}}else{currentData.forEach(function(value){if((0,_lodash.has)(value,'publishedAt')&&(0,_lodash.isEmpty)(value.publishedAt)){acc+=1;}});}}return acc;},0);};var count=getDraftRelationsCount(data,ctSchema,components);return count;};var _default=getDraftRelations;exports.default=_default;

/***/ }),

/***/ 87172:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "connect", ({enumerable:true,get:function get(){return _connect["default"];}}));Object.defineProperty(exports, "getDraftRelations", ({enumerable:true,get:function get(){return _getDraftRelations["default"];}}));Object.defineProperty(exports, "select", ({enumerable:true,get:function get(){return _select["default"];}}));var _connect=_interopRequireDefault(__webpack_require__(96860));var _getDraftRelations=_interopRequireDefault(__webpack_require__(81375));var _select=_interopRequireDefault(__webpack_require__(26041));

/***/ }),

/***/ 26041:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _helperPlugin=__webpack_require__(68547);function useSelect(){var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),allLayoutData=_useCMEditViewDataMan.allLayoutData,initialData=_useCMEditViewDataMan.initialData,isCreatingEntry=_useCMEditViewDataMan.isCreatingEntry,isSingleType=_useCMEditViewDataMan.isSingleType,status=_useCMEditViewDataMan.status,layout=_useCMEditViewDataMan.layout,hasDraftAndPublish=_useCMEditViewDataMan.hasDraftAndPublish,modifiedData=_useCMEditViewDataMan.modifiedData,onPublish=_useCMEditViewDataMan.onPublish,onUnpublish=_useCMEditViewDataMan.onUnpublish;return{componentLayouts:allLayoutData.components,initialData:initialData,isCreatingEntry:isCreatingEntry,isSingleType:isSingleType,status:status,layout:layout,hasDraftAndPublish:hasDraftAndPublish,modifiedData:modifiedData,onPublish:onPublish,onUnpublish:onUnpublish};}var _default=useSelect;exports.default=_default;

/***/ }),

/***/ 61154:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactIntl=__webpack_require__(97132);var _helperPlugin=__webpack_require__(68547);var _Box=__webpack_require__(5493);var _Divider=__webpack_require__(14276);var _Typography=__webpack_require__(49425);var _Flex=__webpack_require__(67826);var _Stack=__webpack_require__(9008);var _utils=__webpack_require__(28564);var _getUnits2=_interopRequireDefault(__webpack_require__(20962));var _utils2=__webpack_require__(26595);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Informations=function Informations(){var _initialData$updatedB,_initialData$updatedB2,_initialData$updatedB3;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage,formatRelativeTime=_useIntl.formatRelativeTime;var _useCMEditViewDataMan=(0,_helperPlugin.useCMEditViewDataManager)(),initialData=_useCMEditViewDataMan.initialData,isCreatingEntry=_useCMEditViewDataMan.isCreatingEntry;var updatedAt='updatedAt';var updatedByFirstname=((_initialData$updatedB=initialData.updatedBy)===null||_initialData$updatedB===void 0?void 0:_initialData$updatedB.firstname)||'';var updatedByLastname=((_initialData$updatedB2=initialData.updatedBy)===null||_initialData$updatedB2===void 0?void 0:_initialData$updatedB2.lastname)||'';var updatedByUsername=(_initialData$updatedB3=initialData.updatedBy)===null||_initialData$updatedB3===void 0?void 0:_initialData$updatedB3.username;var updatedBy=updatedByUsername||(0,_utils2.getFullName)(updatedByFirstname,updatedByLastname);var currentTime=(0,_react.useRef)(Date.now());var timestamp=initialData[updatedAt]?new Date(initialData[updatedAt]).getTime():Date.now();var elapsed=timestamp-currentTime.current;var _getUnits=(0,_getUnits2["default"])(-elapsed),unit=_getUnits.unit,value=_getUnits.value;return/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600",id:"additional-informations"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.information'),defaultMessage:'Information'})),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:2,paddingBottom:6},/*#__PURE__*/_react["default"].createElement(_Divider.Divider,null)),/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:4},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.information.lastUpdate'),defaultMessage:'Last update'})),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,null,formatRelativeTime(value,unit,{numeric:'auto'}))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.information.by'),defaultMessage:'By'})),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,null,isCreatingEntry?'-':updatedBy))));};var _default=Informations;exports.default=_default;

/***/ }),

/***/ 20962:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var msPerMinute=60*1000;var msPerHour=msPerMinute*60;var msPerDay=msPerHour*24;var msPerMonth=msPerDay*30;var msPerYear=msPerDay*365;var getUnits=function getUnits(value){if(value<msPerMinute){return{unit:'second',value:-Math.round(value/1000)};}if(value<msPerHour){return{unit:'minute',value:-Math.round(value/msPerMinute)};}if(value<msPerDay){return{unit:'hour',value:-Math.round(value/msPerHour)};}if(value<msPerMonth){return{unit:'day',value:-Math.round(value/msPerDay)};}if(value<msPerYear){return{unit:'month',value:-Math.round(value/msPerMonth)};}return{unit:'year',value:-Math.round(value/msPerYear)};};var _default=getUnits;exports.default=_default;

/***/ }),

/***/ 13420:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.EditView=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _get=_interopRequireDefault(__webpack_require__(27361));var _helperPlugin=__webpack_require__(68547);var _reactIntl=__webpack_require__(97132);var _Layout=__webpack_require__(78862);var _Box=__webpack_require__(5493);var _Divider=__webpack_require__(14276);var _Grid=__webpack_require__(34626);var _LinkButton=__webpack_require__(60985);var _Main=__webpack_require__(62031);var _Stack=__webpack_require__(9008);var _Typography=__webpack_require__(49425);var _Layer=_interopRequireDefault(__webpack_require__(85557));var _Pencil=_interopRequireDefault(__webpack_require__(19352));var _components=__webpack_require__(78024);var _permissions=_interopRequireDefault(__webpack_require__(13240));var _DynamicZone=_interopRequireDefault(__webpack_require__(58827));var _FieldComponent=_interopRequireDefault(__webpack_require__(49925));var _Inputs=_interopRequireDefault(__webpack_require__(15141));var _SelectWrapper=_interopRequireDefault(__webpack_require__(54865));var _CollectionTypeFormWrapper=_interopRequireDefault(__webpack_require__(56229));var _EditViewDataManagerProvider=_interopRequireDefault(__webpack_require__(80249));var _SingleTypeFormWrapper=_interopRequireDefault(__webpack_require__(13995));var _utils=__webpack_require__(28564);var _DraftAndPublishBadge=_interopRequireDefault(__webpack_require__(18382));var _Informations=_interopRequireDefault(__webpack_require__(61154));var _Header=_interopRequireDefault(__webpack_require__(22543));var _utils2=__webpack_require__(73391);var _DeleteLink=_interopRequireDefault(__webpack_require__(96155));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}// import Container from '../../components/Container';
// import FormWrapper from '../../components/FormWrapper';
var cmPermissions=_permissions["default"].contentManager;var ctbPermissions=[{action:'plugin::content-type-builder.read',subject:null}];/* eslint-disable  react/no-array-index-key */var EditView=function EditView(_ref){var allowedActions=_ref.allowedActions,isSingleType=_ref.isSingleType,goBack=_ref.goBack,layout=_ref.layout,slug=_ref.slug,id=_ref.id,origin=_ref.origin,userPermissions=_ref.userPermissions;var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useMemo=(0,_react.useMemo)(function(){return(0,_utils2.getFieldsActionMatchingPermissions)(userPermissions,slug);},[userPermissions,slug]),createActionAllowedFields=_useMemo.createActionAllowedFields,readActionAllowedFields=_useMemo.readActionAllowedFields,updateActionAllowedFields=_useMemo.updateActionAllowedFields;var configurationPermissions=(0,_react.useMemo)(function(){return isSingleType?cmPermissions.singleTypesConfigurations:cmPermissions.collectionTypesConfigurations;},[isSingleType]);// // FIXME when changing the routing
var configurationsURL="/content-manager/".concat(isSingleType?'singleType':'collectionType',"/").concat(slug,"/configurations/edit");var currentContentTypeLayoutData=(0,_get["default"])(layout,['contentType'],{});var DataManagementWrapper=(0,_react.useMemo)(function(){return isSingleType?_SingleTypeFormWrapper["default"]:_CollectionTypeFormWrapper["default"];},[isSingleType]);// Check if a block is a dynamic zone
var isDynamicZone=(0,_react.useCallback)(function(block){return block.every(function(subBlock){return subBlock.every(function(obj){return obj.fieldSchema.type==='dynamiczone';});});},[]);var formattedContentTypeLayout=(0,_react.useMemo)(function(){if(!currentContentTypeLayoutData.layouts){return[];}return(0,_utils2.createAttributesLayout)(currentContentTypeLayoutData.layouts.edit,currentContentTypeLayoutData.attributes);},[currentContentTypeLayoutData]);var relationsLayout=currentContentTypeLayoutData.layouts.editRelations;var displayedRelationsLength=relationsLayout.length;return/*#__PURE__*/_react["default"].createElement(DataManagementWrapper,{allLayoutData:layout,slug:slug,id:id,origin:origin},function(_ref2){var componentsDataStructure=_ref2.componentsDataStructure,contentTypeDataStructure=_ref2.contentTypeDataStructure,data=_ref2.data,isCreatingEntry=_ref2.isCreatingEntry,isLoadingForData=_ref2.isLoadingForData,onDelete=_ref2.onDelete,onDeleteSucceeded=_ref2.onDeleteSucceeded,onPost=_ref2.onPost,onPublish=_ref2.onPublish,onPut=_ref2.onPut,onUnpublish=_ref2.onUnpublish,redirectionLink=_ref2.redirectionLink,status=_ref2.status;return/*#__PURE__*/_react["default"].createElement(_EditViewDataManagerProvider["default"],{allowedActions:allowedActions,allLayoutData:layout,createActionAllowedFields:createActionAllowedFields,componentsDataStructure:componentsDataStructure,contentTypeDataStructure:contentTypeDataStructure,from:redirectionLink,initialValues:data,isCreatingEntry:isCreatingEntry,isLoadingForData:isLoadingForData,isSingleType:isSingleType,onPost:onPost,onPublish:onPublish,onPut:onPut,onUnpublish:onUnpublish,readActionAllowedFields:readActionAllowedFields,redirectToPreviousPage:goBack,slug:slug,status:status,updateActionAllowedFields:updateActionAllowedFields},/*#__PURE__*/_react["default"].createElement(_Main.Main,{"aria-busy":status!=='resolved'},/*#__PURE__*/_react["default"].createElement(_Header["default"],{allowedActions:allowedActions}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:9,s:12},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:6},formattedContentTypeLayout.map(function(row,index){if(isDynamicZone(row)){var _row$0$=row[0][0],name=_row$0$.name,fieldSchema=_row$0$.fieldSchema,metadatas=_row$0$.metadatas,labelAction=_row$0$.labelAction;return/*#__PURE__*/_react["default"].createElement(_Box.Box,{key:index},/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:12,s:12,xs:12},/*#__PURE__*/_react["default"].createElement(_DynamicZone["default"],{name:name,fieldSchema:fieldSchema,labelAction:labelAction,metadatas:metadatas}))));}return/*#__PURE__*/_react["default"].createElement(_Box.Box,{key:index,hasRadius:true,background:"neutral0",shadow:"tableShadow",paddingLeft:6,paddingRight:6,paddingTop:6,paddingBottom:6,borderColor:"neutral150"},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:6},row.map(function(grid,gridIndex){return/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4,key:gridIndex},grid.map(function(_ref3){var fieldSchema=_ref3.fieldSchema,labelAction=_ref3.labelAction,metadatas=_ref3.metadatas,name=_ref3.name,size=_ref3.size;var isComponent=fieldSchema.type==='component';if(isComponent){var component=fieldSchema.component,max=fieldSchema.max,min=fieldSchema.min,_fieldSchema$repeatab=fieldSchema.repeatable,repeatable=_fieldSchema$repeatab===void 0?false:_fieldSchema$repeatab,_fieldSchema$required=fieldSchema.required,required=_fieldSchema$required===void 0?false:_fieldSchema$required;return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:size,s:12,xs:12,key:component},/*#__PURE__*/_react["default"].createElement(_FieldComponent["default"],{componentUid:component,labelAction:labelAction,isRepeatable:repeatable,intlLabel:{id:metadatas.label,defaultMessage:metadatas.label},max:max,min:min,name:name,required:required}));}return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:size,key:name,s:12,xs:12},/*#__PURE__*/_react["default"].createElement(_Inputs["default"],{fieldSchema:fieldSchema,keys:name,labelAction:labelAction,metadatas:metadatas}));}));})));}))),/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:3,s:12},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},/*#__PURE__*/_react["default"].createElement(_DraftAndPublishBadge["default"],null),/*#__PURE__*/_react["default"].createElement(_Box.Box,{as:"aside","aria-labelledby":"additional-informations",background:"neutral0",borderColor:"neutral150",hasRadius:true,paddingBottom:4,paddingLeft:4,paddingRight:4,paddingTop:6,shadow:"tableShadow"},/*#__PURE__*/_react["default"].createElement(_Informations["default"],null),/*#__PURE__*/_react["default"].createElement(_components.InjectionZone,{area:"contentManager.editView.informations"})),displayedRelationsLength>0&&/*#__PURE__*/_react["default"].createElement(_Box.Box,{as:"aside","aria-labelledby":"relations-title",background:"neutral0",borderColor:"neutral150",hasRadius:true,paddingBottom:4,paddingLeft:4,paddingRight:4,paddingTop:6,shadow:"tableShadow"},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600",id:"relations-title"},formatMessage({id:(0,_utils.getTrad)('containers.Edit.relations'),defaultMessage:'{number, plural, =0 {relations} one {relation} other {relations}}'},{number:displayedRelationsLength})),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:2,paddingBottom:6},/*#__PURE__*/_react["default"].createElement(_Divider.Divider,null)),/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:4},relationsLayout.map(function(_ref4){var name=_ref4.name,fieldSchema=_ref4.fieldSchema,labelAction=_ref4.labelAction,metadatas=_ref4.metadatas,queryInfos=_ref4.queryInfos;return/*#__PURE__*/_react["default"].createElement(_SelectWrapper["default"],(0,_extends2["default"])({},fieldSchema,metadatas,{key:name,description:metadatas.description,intlLabel:{id:metadatas.label,defaultMessage:metadatas.label},labelAction:labelAction,name:name,relationsType:fieldSchema.relationType,queryInfos:queryInfos,placeholder:metadatas.placeholder?{id:metadatas.placeholder,defaultMessage:metadatas.placeholder}:null}));}))),/*#__PURE__*/_react["default"].createElement(_Box.Box,{as:"aside","aria-labelledby":"links"},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},slug!=='strapi::administrator'&&/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPermissions,{permissions:ctbPermissions},/*#__PURE__*/_react["default"].createElement(_LinkButton.LinkButton,{onClick:function onClick(){trackUsage('willEditEditLayout');},size:"S",startIcon:/*#__PURE__*/_react["default"].createElement(_Pencil["default"],null),style:{width:'100%'},to:"/plugins/content-type-builder/content-types/".concat(slug),variant:"secondary"},formatMessage({id:(0,_utils.getTrad)('link-to-ctb'),defaultMessage:'Edit the model'}))),/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPermissions,{permissions:configurationPermissions},/*#__PURE__*/_react["default"].createElement(_LinkButton.LinkButton,{size:"S",startIcon:/*#__PURE__*/_react["default"].createElement(_Layer["default"],null),style:{width:'100%'},to:configurationsURL,variant:"secondary"},formatMessage({id:'app.links.configure-view',defaultMessage:'Configure the view'}))),/*#__PURE__*/_react["default"].createElement(_components.InjectionZone,{area:"contentManager.editView.right-links",slug:slug}),allowedActions.canDelete&&/*#__PURE__*/_react["default"].createElement(_DeleteLink["default"],{isCreatingEntry:isCreatingEntry,onDelete:onDelete,onDeleteSucceeded:onDeleteSucceeded})))))))));});// return (
//   <DataManagementWrapper allLayoutData={layout} slug={slug} id={id} origin={origin}>
//     {({
// componentsDataStructure,
// contentTypeDataStructure,
// data,
// isCreatingEntry,
// isLoadingForData,
// onDelete,
// onDeleteSucceeded,
// onPost,
// onPublish,
// onPut,
// onUnpublish,
// redirectionLink,
// status,
//     }) => {
// return (
//   <EditViewDataManagerProvider
//     allowedActions={allowedActions}
//     allLayoutData={layout}
//     createActionAllowedFields={createActionAllowedFields}
//     componentsDataStructure={componentsDataStructure}
//     contentTypeDataStructure={contentTypeDataStructure}
//     from={redirectionLink}
//     initialValues={data}
//     isCreatingEntry={isCreatingEntry}
//     isLoadingForData={isLoadingForData}
//     isSingleType={isSingleType}
//     onPost={onPost}
//     onPublish={onPublish}
//     onPut={onPut}
//     onUnpublish={onUnpublish}
//     readActionAllowedFields={readActionAllowedFields}
//     redirectToPreviousPage={goBack}
//     slug={slug}
//     status={status}
//     updateActionAllowedFields={updateActionAllowedFields}
//   >
//           <Container className="container-fluid">
//             <Header allowedActions={allowedActions} />
//             <div className="row" style={{ paddingTop: 3 }}>
//               <div className="col-md-12 col-lg-9" style={{ marginBottom: 13 }}>
//                 {formattedContentTypeLayout.map((block, blockIndex) => {
//                   if (isDynamicZone(block)) {
//                     const {
//                       0: {
//                         0: { name, fieldSchema, metadatas, labelIcon },
//                       },
//                     } = block;
//                     const baselineAlignementSize = blockIndex === 0 ? '3px' : '0';
//                     return (
//                       <BaselineAlignment key={blockIndex} top size={baselineAlignementSize}>
// <DynamicZone
//   name={name}
//   fieldSchema={fieldSchema}
//   labelIcon={labelIcon}
//   metadatas={metadatas}
// />
//                       </BaselineAlignment>
//                     );
//                   }
//                   return (
//                     <FormWrapper key={blockIndex}>
//                       {block.map((fieldsBlock, fieldsBlockIndex) => {
//                         return (
//                           <div className="row" key={fieldsBlockIndex}>
//                             {fieldsBlock.map(
//                               ({ name, size, fieldSchema, labelIcon, metadatas }, fieldIndex) => {
//                                 const isComponent = fieldSchema.type === 'component';
//                                 if (isComponent) {
//                                   const { component, max, min, repeatable = false } = fieldSchema;
//                                   const componentUid = fieldSchema.component;
//                                   return (
//                                     <FieldComponent
//                                       key={componentUid}
//                                       componentUid={component}
//                                       labelIcon={labelIcon}
//                                       isRepeatable={repeatable}
//                                       label={metadatas.label}
//                                       max={max}
//                                       min={min}
//                                       name={name}
//                                     />
//                                   );
//                                 }
//                                 return (
//                                   <div className={`col-${size}`} key={name}>
//                                     <Inputs
//                                       autoFocus={
//                                         blockIndex === 0 &&
//                                         fieldsBlockIndex === 0 &&
//                                         fieldIndex === 0
//                                       }
//                                       fieldSchema={fieldSchema}
//                                       keys={name}
//                                       labelIcon={labelIcon}
//                                       metadatas={metadatas}
//                                     />
//                                   </div>
//                                 );
//                               }
//                             )}
//                           </div>
//                         );
//                       })}
//                     </FormWrapper>
//                   );
//                 })}
//               </div>
//               <div className="col-md-12 col-lg-3">
//                 <InformationCard />
//                 <Padded size="smd" top />
//                 {currentContentTypeLayoutData.layouts.editRelations.length > 0 && (
//                   <SubWrapper style={{ padding: '0 20px 1px', marginBottom: '25px' }}>
//                     <div style={{ paddingTop: '22px' }}>
//                       {currentContentTypeLayoutData.layouts.editRelations.map(
//                         ({ name, fieldSchema, labelIcon, metadatas, queryInfos }) => {
//                           return (
//                             <SelectWrapper
// {...fieldSchema}
// {...metadatas}
// key={name}
// labelIcon={labelIcon}
// name={name}
// relationsType={fieldSchema.relationType}
// queryInfos={queryInfos}
//                             />
//                           );
//                         }
//                       )}
//                     </div>
//                   </SubWrapper>
//                 )}
//                 <LinkWrapper>
//                   <ul>
// <CheckPermissions permissions={configurationPermissions}>
//   <LiLink
//     message={{
//       id: 'app.links.configure-view',
//     }}
//     icon="layout"
//     url={configurationsURL}
//     onClick={() => {
//       // trackUsage('willEditContentTypeLayoutFromEditView');
//     }}
//   />
// </CheckPermissions>
//                     {slug !== 'strapi::administrator' && (
//                       <CheckPermissions permissions={ctbPermissions}>
//                         <LiLink
//                           message={{
//                             id: getTrad('containers.Edit.Link.Fields'),
//                           }}
// onClick={() => {
//   trackUsage('willEditEditLayout');
// }}
//                           icon="fa-cog"
//                           url={`/plugins/content-type-builder/content-types/${slug}`}
//                         />
//                       </CheckPermissions>
//                     )}
//                     {/*  TODO add DOCUMENTATION */}
//                     <InjectionZone area="contentManager.editView.right-links" slug={slug} />
// {allowedActions.canDelete && (
//   <DeleteLink
//     isCreatingEntry={isCreatingEntry}
//     onDelete={onDelete}
//     onDeleteSucceeded={onDeleteSucceeded}
//   />
// )}
//                   </ul>
//                 </LinkWrapper>
//               </div>
//             </div>
//           </Container>
//         </EditViewDataManagerProvider>
//       );
//     }}
//   </DataManagementWrapper>
// );
};exports.EditView=EditView;EditView.defaultProps={id:null,isSingleType:false,origin:null,userPermissions:[]};EditView.propTypes={allowedActions:_propTypes["default"].shape({canRead:_propTypes["default"].bool.isRequired,canUpdate:_propTypes["default"].bool.isRequired,canCreate:_propTypes["default"].bool.isRequired,canDelete:_propTypes["default"].bool.isRequired}).isRequired,layout:_propTypes["default"].shape({components:_propTypes["default"].object.isRequired,contentType:_propTypes["default"].shape({uid:_propTypes["default"].string.isRequired,settings:_propTypes["default"].object.isRequired,metadatas:_propTypes["default"].object.isRequired,options:_propTypes["default"].object.isRequired,attributes:_propTypes["default"].object.isRequired}).isRequired}).isRequired,id:_propTypes["default"].string,isSingleType:_propTypes["default"].bool,goBack:_propTypes["default"].func.isRequired,origin:_propTypes["default"].string,slug:_propTypes["default"].string.isRequired,userPermissions:_propTypes["default"].array};var _default=/*#__PURE__*/(0,_react.memo)(EditView);// export default () => 'TODO Edit view';
exports.default=_default;

/***/ }),

/***/ 22653:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);function _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}// TODO: refacto this file to avoid eslint issues
/* eslint-disable no-restricted-syntax */ /* eslint-disable no-unused-vars */var createAttributesLayout=function createAttributesLayout(currentLayout,attributes){var getType=function getType(name){return(0,_lodash.get)(attributes,[name,'type'],'');};var currentRowIndex=0;var newLayout=[];var _iterator=_createForOfIteratorHelper(currentLayout),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var row=_step.value;var hasDynamicZone=row.some(function(_ref){var name=_ref.name;return getType(name)==='dynamiczone';});if(!newLayout[currentRowIndex]){newLayout[currentRowIndex]=[];}if(hasDynamicZone){currentRowIndex=currentRowIndex===0&&(0,_lodash.isEmpty)(newLayout[0])?0:currentRowIndex+1;if(!newLayout[currentRowIndex]){newLayout[currentRowIndex]=[];}newLayout[currentRowIndex].push(row);currentRowIndex+=1;}else{newLayout[currentRowIndex].push(row);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return newLayout.filter(function(arr){return arr.length>0;});};var _default=createAttributesLayout;exports.default=_default;

/***/ }),

/***/ 15834:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var _helperPlugin=__webpack_require__(68547);var getFieldsActionMatchingPermissions=function getFieldsActionMatchingPermissions(userPermissions,slug){var getMatchingPermissions=function getMatchingPermissions(action){var matched=(0,_helperPlugin.findMatchingPermissions)(userPermissions,[{action:"plugin::content-manager.explorer.".concat(action),subject:slug}]);return(0,_lodash.uniq)((0,_lodash.flatMap)(matched,'properties.fields'));};return{createActionAllowedFields:getMatchingPermissions('create'),readActionAllowedFields:getMatchingPermissions('read'),updateActionAllowedFields:getMatchingPermissions('update')};};var _default=getFieldsActionMatchingPermissions;exports.default=_default;

/***/ }),

/***/ 73391:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "createAttributesLayout", ({enumerable:true,get:function get(){return _createAttributesLayout["default"];}}));Object.defineProperty(exports, "getFieldsActionMatchingPermissions", ({enumerable:true,get:function get(){return _getFieldsActionMatchingPermissions["default"];}}));var _createAttributesLayout=_interopRequireDefault(__webpack_require__(22653));var _getFieldsActionMatchingPermissions=_interopRequireDefault(__webpack_require__(15834));

/***/ }),

/***/ 1260:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _helperPlugin=__webpack_require__(68547);var _reactFastCompare=_interopRequireDefault(__webpack_require__(39918));var _EditView=_interopRequireDefault(__webpack_require__(13420));var _utils=__webpack_require__(28564);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Permissions=function Permissions(props){var viewPermissions=(0,_react.useMemo)(function(){return(0,_utils.generatePermissionsObject)(props.slug);},[props.slug]);var _useRBAC=(0,_helperPlugin.useRBAC)(viewPermissions,props.userPermissions),isLoading=_useRBAC.isLoading,allowedActions=_useRBAC.allowedActions;if(isLoading){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null);}return/*#__PURE__*/_react["default"].createElement(_EditView["default"],(0,_extends2["default"])({},props,{allowedActions:allowedActions}));};Permissions.defaultProps={permissions:[]};Permissions.propTypes={permissions:_propTypes["default"].array,slug:_propTypes["default"].string.isRequired,userPermissions:_propTypes["default"].array.isRequired};// This avoids the components to rerender on params change causing multiple requests to be fired
var _default=/*#__PURE__*/(0,_react.memo)(Permissions,_reactFastCompare["default"]);exports.default=_default;

/***/ }),

/***/ 70595:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.setLayout=exports.resetProps=void 0;var _constants=__webpack_require__(79906);var resetProps=function resetProps(){return{type:_constants.RESET_PROPS};};exports.resetProps=resetProps;var setLayout=function setLayout(layout,query){return{type:_constants.SET_LAYOUT,layout:layout,query:query};};exports.setLayout=setLayout;

/***/ }),

/***/ 11427:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactRedux=__webpack_require__(37424);var _helperPlugin=__webpack_require__(68547);var _exposedHooks=__webpack_require__(29499);var _hooks=__webpack_require__(14772);var _actions=__webpack_require__(70595);var _selectors=_interopRequireDefault(__webpack_require__(94622));var _Permissions=_interopRequireDefault(__webpack_require__(1260));var _excluded=["layout"];function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var EditViewLayoutManager=function EditViewLayoutManager(_ref){var layout=_ref.layout,rest=(0,_objectWithoutProperties2["default"])(_ref,_excluded);var currentLayout=(0,_reactRedux.useSelector)(_selectors["default"]);var dispatch=(0,_reactRedux.useDispatch)();var _useQueryParams=(0,_helperPlugin.useQueryParams)(),_useQueryParams2=(0,_slicedToArray2["default"])(_useQueryParams,1),query=_useQueryParams2[0].query;var _useStrapiApp=(0,_helperPlugin.useStrapiApp)(),runHookWaterfall=_useStrapiApp.runHookWaterfall;var permissions=(0,_hooks.useSyncRbac)(query,rest.slug,'editView');(0,_react.useEffect)(function(){// Allow the plugins to extend the edit view layout
var mutatedLayout=runHookWaterfall(_exposedHooks.MUTATE_EDIT_VIEW_LAYOUT,{layout:layout,query:query});dispatch((0,_actions.setLayout)(mutatedLayout.layout,query));return function(){dispatch((0,_actions.resetProps)());};},[layout,dispatch,query,runHookWaterfall]);if(!currentLayout||!permissions){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null);}return/*#__PURE__*/_react["default"].createElement(_Permissions["default"],(0,_extends2["default"])({},rest,{layout:currentLayout,userPermissions:permissions}));};EditViewLayoutManager.propTypes={layout:_propTypes["default"].shape({components:_propTypes["default"].object.isRequired,contentType:_propTypes["default"].shape({uid:_propTypes["default"].string.isRequired,settings:_propTypes["default"].object.isRequired,metadatas:_propTypes["default"].object.isRequired,options:_propTypes["default"].object.isRequired,attributes:_propTypes["default"].object.isRequired}).isRequired}).isRequired};var _default=EditViewLayoutManager;exports.default=_default;

/***/ }),

/***/ 94622:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var selectLayout=function selectLayout(state){return state['content-manager_editViewLayoutManager'].currentLayout;};var _default=selectLayout;exports.default=_default;

/***/ }),

/***/ 83715:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Stack=__webpack_require__(9008);var _Pencil=_interopRequireDefault(__webpack_require__(19352));var _Cross=_interopRequireDefault(__webpack_require__(84040));var _Drag=_interopRequireDefault(__webpack_require__(88049));var _ellipsisCardTitle=_interopRequireDefault(__webpack_require__(77236));var ActionBox=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"CardPreview__ActionBox",componentId:"sc-15sgsby-0"})(["height:",";&:last-child{padding:0 ",";}"],function(_ref){var theme=_ref.theme;return theme.spaces[7];},function(_ref2){var theme=_ref2.theme;return theme.spaces[3];});var DragButton=/*#__PURE__*/(0,_styledComponents["default"])(ActionBox).withConfig({displayName:"CardPreview__DragButton",componentId:"sc-15sgsby-1"})(["padding:0 ",";border-right:1px solid ",";cursor:all-scroll;svg{width:","rem;height:","rem;}"],function(_ref3){var theme=_ref3.theme;return theme.spaces[3];},function(_ref4){var theme=_ref4.theme;return theme.colors.neutral150;},12/16,12/16);var FieldContainer=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"CardPreview__FieldContainer",componentId:"sc-15sgsby-2"})(["display:inline-flex;max-height:","rem;background-color:",";border-color:",";svg{width:","rem;height:","rem;path{fill:",";}}","{color:",";}","{border-right:1px solid ",";}"],32/16,function(_ref5){var theme=_ref5.theme;return theme.colors.primary100;},function(_ref6){var theme=_ref6.theme;return theme.colors.primary200;},10/16,10/16,function(_ref7){var theme=_ref7.theme;return theme.colors.primary600;},_Typography.Typography,function(_ref8){var theme=_ref8.theme;return theme.colors.primary600;},DragButton,function(_ref9){var theme=_ref9.theme;return theme.colors.primary200;});var CardPreview=function CardPreview(_ref10){var labelField=_ref10.labelField;var cardEllipsisTitle=(0,_ellipsisCardTitle["default"])(labelField);return/*#__PURE__*/_react["default"].createElement(FieldContainer,{borderColor:"neutral150",background:"neutral100",hasRadius:true,justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:3},/*#__PURE__*/_react["default"].createElement(DragButton,{alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_Drag["default"],null)),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold"},cardEllipsisTitle)),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{paddingLeft:3},/*#__PURE__*/_react["default"].createElement(ActionBox,{alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_Pencil["default"],null)),/*#__PURE__*/_react["default"].createElement(ActionBox,{alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_Cross["default"],null))));};CardPreview.propTypes={labelField:_propTypes["default"].string.isRequired};var _default=CardPreview;exports.default=_default;

/***/ }),

/***/ 46328:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactDnd=__webpack_require__(99168);var _reactDndHtml5Backend=__webpack_require__(61080);var _reactIntl=__webpack_require__(97132);var _Flex=__webpack_require__(67826);var _Box=__webpack_require__(5493);var _Typography=__webpack_require__(49425);var _Stack=__webpack_require__(9008);var _Pencil=_interopRequireDefault(__webpack_require__(19352));var _Cross=_interopRequireDefault(__webpack_require__(84040));var _Drag=_interopRequireDefault(__webpack_require__(88049));var _ellipsisCardTitle=_interopRequireDefault(__webpack_require__(77236));var _utils=__webpack_require__(28564);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var ActionButton=/*#__PURE__*/_styledComponents["default"].button.withConfig({displayName:"DraggableCard__ActionButton",componentId:"gn1l5y-0"})(["display:flex;align-items:center;height:",";&:last-child{padding:0 ",";}"],function(_ref){var theme=_ref.theme;return theme.spaces[7];},function(_ref2){var theme=_ref2.theme;return theme.spaces[3];});var DragButton=/*#__PURE__*/(0,_styledComponents["default"])(ActionButton).withConfig({displayName:"DraggableCard__DragButton",componentId:"gn1l5y-1"})(["padding:0 ",";border-right:1px solid ",";cursor:all-scroll;svg{width:","rem;height:","rem;}"],function(_ref3){var theme=_ref3.theme;return theme.spaces[3];},function(_ref4){var theme=_ref4.theme;return theme.colors.neutral150;},12/16,12/16);var FieldContainer=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"DraggableCard__FieldContainer",componentId:"gn1l5y-2"})(["max-height:","rem;cursor:pointer;opacity:",";svg{width:","rem;height:","rem;path{fill:",";}}&:hover{background-color:",";border-color:",";svg{path{fill:",";}}","{color:",";}","{border-right:1px solid ",";}}"],32/16,function(_ref5){var isDragging=_ref5.isDragging;return isDragging?0:1;},10/16,10/16,function(_ref6){var theme=_ref6.theme;return theme.colors.neutral600;},function(_ref7){var theme=_ref7.theme;return theme.colors.primary100;},function(_ref8){var theme=_ref8.theme;return theme.colors.primary200;},function(_ref9){var theme=_ref9.theme;return theme.colors.primary600;},_Typography.Typography,function(_ref10){var theme=_ref10.theme;return theme.colors.primary600;},DragButton,function(_ref11){var theme=_ref11.theme;return theme.colors.primary200;});var FieldWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"DraggableCard__FieldWrapper",componentId:"gn1l5y-3"})(["&:last-child{padding-right:",";}"],function(_ref12){var theme=_ref12.theme;return theme.spaces[3];});var DraggableCard=function DraggableCard(_ref13){var index=_ref13.index,labelField=_ref13.labelField,onClickEditField=_ref13.onClickEditField,onMoveField=_ref13.onMoveField,onRemoveField=_ref13.onRemoveField,name=_ref13.name;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var ref=(0,_react.useRef)(null);var editButtonRef=(0,_react.useRef)();var cardEllipsisTitle=(0,_ellipsisCardTitle["default"])(labelField);var handleClickEditRow=function handleClickEditRow(){if(editButtonRef.current){editButtonRef.current.click();}};var _useDrop=(0,_reactDnd.useDrop)({accept:_utils.ItemTypes.FIELD,hover:function hover(item){if(!ref.current){return;}var dragIndex=item.index;var hoverIndex=index;// Don't replace items with themselves
// Don't replace items with themselves
if(dragIndex===hoverIndex){return;}onMoveField(dragIndex,hoverIndex);item.index=hoverIndex;}}),_useDrop2=(0,_slicedToArray2["default"])(_useDrop,2),drop=_useDrop2[1];var _useDrag=(0,_reactDnd.useDrag)({type:_utils.ItemTypes.FIELD,item:function item(){return{index:index,labelField:labelField,name:name};},collect:function collect(monitor){return{isDragging:monitor.isDragging()};}}),_useDrag2=(0,_slicedToArray2["default"])(_useDrag,3),isDragging=_useDrag2[0].isDragging,drag=_useDrag2[1],preview=_useDrag2[2];(0,_react.useEffect)(function(){preview((0,_reactDndHtml5Backend.getEmptyImage)(),{captureDraggingState:true});},[preview]);drag(drop(ref));return/*#__PURE__*/_react["default"].createElement(FieldWrapper,null,/*#__PURE__*/_react["default"].createElement(FieldContainer,{borderColor:"neutral150",background:"neutral100",hasRadius:true,justifyContent:"space-between",onClick:handleClickEditRow,isDragging:isDragging},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:3},/*#__PURE__*/_react["default"].createElement(DragButton,{"aria-label":formatMessage({id:(0,_utils.getTrad)('components.DraggableCard.move.field'),defaultMessage:'Move {item}'},{item:name}),onClick:function onClick(e){return e.stopPropagation();},ref:ref,type:"button"},/*#__PURE__*/_react["default"].createElement(_Drag["default"],null)),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold"},cardEllipsisTitle)),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{paddingLeft:3},/*#__PURE__*/_react["default"].createElement(ActionButton,{ref:editButtonRef,onClick:function onClick(e){e.stopPropagation();onClickEditField(name);},"aria-label":formatMessage({id:(0,_utils.getTrad)('components.DraggableCard.edit.field'),defaultMessage:'Edit {item}'},{item:name}),type:"button"},/*#__PURE__*/_react["default"].createElement(_Pencil["default"],null)),/*#__PURE__*/_react["default"].createElement(ActionButton,{onClick:onRemoveField,"data-testid":"delete-".concat(name),"aria-label":formatMessage({id:(0,_utils.getTrad)('components.DraggableCard.delete.field'),defaultMessage:'Delete {item}'},{item:name}),type:"button"},/*#__PURE__*/_react["default"].createElement(_Cross["default"],null)))));};DraggableCard.propTypes={index:_propTypes["default"].number.isRequired,labelField:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,onClickEditField:_propTypes["default"].func.isRequired,onMoveField:_propTypes["default"].func.isRequired,onRemoveField:_propTypes["default"].func.isRequired};var _default=DraggableCard;exports.default=_default;

/***/ }),

/***/ 68222:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _upperFirst=_interopRequireDefault(__webpack_require__(11700));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _ModalLayout=__webpack_require__(75146);var _Typography=__webpack_require__(49425);var _Button=__webpack_require__(19408);var _Flex=__webpack_require__(67826);var _Grid=__webpack_require__(34626);var _TextInput=__webpack_require__(55967);var _ToggleInput=__webpack_require__(47857);var _utils=__webpack_require__(28564);var _FieldTypeIcon=_interopRequireDefault(__webpack_require__(74373));var HeaderContainer=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"EditFieldForm__HeaderContainer",componentId:"fftkcj-0"})(["svg{width:","rem;height:","rem;margin-right:",";}"],32/16,24/16,function(_ref){var theme=_ref.theme;return theme.spaces[3];});var EditFieldForm=function EditFieldForm(_ref2){var attributes=_ref2.attributes,fieldForm=_ref2.fieldForm,fieldToEdit=_ref2.fieldToEdit,onCloseModal=_ref2.onCloseModal,onChangeEditLabel=_ref2.onChangeEditLabel,onSubmit=_ref2.onSubmit,type=_ref2.type;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var relationType=attributes[fieldToEdit].relationType;var shouldDisplaySortToggle=!['media','relation'].includes(type);if(['oneWay','oneToOne','manyToOne'].includes(relationType)){shouldDisplaySortToggle=true;}return/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalLayout,{onClose:onCloseModal,labelledBy:"title"},/*#__PURE__*/_react["default"].createElement("form",{onSubmit:onSubmit},/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalHeader,null,/*#__PURE__*/_react["default"].createElement(HeaderContainer,null,/*#__PURE__*/_react["default"].createElement(_FieldTypeIcon["default"],{type:type}),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},formatMessage({id:(0,_utils.getTrad)('containers.ListSettingsView.modal-form.edit-label'),defaultMessage:'Edit {fieldName}'},{fieldName:(0,_upperFirst["default"])(fieldToEdit)})))),/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalBody,null,/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{s:12,col:6},/*#__PURE__*/_react["default"].createElement(_TextInput.TextInput,{id:"label-input",label:formatMessage({id:(0,_utils.getTrad)('form.Input.label'),defaultMessage:'Label'}),name:"label",onChange:function onChange(e){return onChangeEditLabel(e);},value:fieldForm.label,hint:formatMessage({id:(0,_utils.getTrad)('form.Input.label.inputDescription'),defaultMessage:"This value overrides the label displayed in the table's head"})})),shouldDisplaySortToggle&&/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{s:12,col:6},/*#__PURE__*/_react["default"].createElement(_ToggleInput.ToggleInput,{"data-testid":"Enable sort on this field",checked:fieldForm.sortable,label:formatMessage({id:(0,_utils.getTrad)('form.Input.sort.field'),defaultMessage:'Enable sort on this field'}),name:"sortable",onChange:function onChange(e){return onChangeEditLabel({target:{name:'sortable',value:e.target.checked}});},onLabel:formatMessage({id:'app.components.ToggleCheckbox.on-label',defaultMessage:'on'}),offLabel:formatMessage({id:'app.components.ToggleCheckbox.off-label',defaultMessage:'off'})})))),/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalFooter,{startActions:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:onCloseModal,variant:"tertiary"},formatMessage({id:'app.components.Button.cancel',defaultMessage:'Cancel'})),endActions:/*#__PURE__*/_react["default"].createElement(_Button.Button,{type:"submit"},formatMessage({id:'form.button.finish',defaultMessage:'Finish'}))})));};EditFieldForm.propTypes={attributes:_propTypes["default"].objectOf(_propTypes["default"].shape({relationType:_propTypes["default"].string})).isRequired,fieldForm:_propTypes["default"].shape({label:_propTypes["default"].string,sortable:_propTypes["default"].bool}).isRequired,fieldToEdit:_propTypes["default"].string.isRequired,onChangeEditLabel:_propTypes["default"].func.isRequired,onCloseModal:_propTypes["default"].func.isRequired,onSubmit:_propTypes["default"].func.isRequired,type:_propTypes["default"].string.isRequired};var _default=EditFieldForm;exports.default=_default;

/***/ }),

/***/ 25183:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactIntl=__webpack_require__(97132);var _Flex=__webpack_require__(67826);var _Grid=__webpack_require__(34626);var _Select=__webpack_require__(43808);var _ToggleInput=__webpack_require__(47857);var _Box=__webpack_require__(5493);var _Typography=__webpack_require__(49425);var _utils=__webpack_require__(28564);var FlexGap=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"Settings__FlexGap",componentId:"j3a1zy-0"})(["gap:",";"],function(_ref){var theme=_ref.theme;return theme.spaces[4];});var Settings=function Settings(_ref2){var modifiedData=_ref2.modifiedData,_onChange=_ref2.onChange,sortOptions=_ref2.sortOptions;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var settings=modifiedData.settings;return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingBottom:4},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"delta",as:"h2"},formatMessage({id:(0,_utils.getTrad)('containers.SettingPage.settings'),defaultMessage:'Settings'}))),/*#__PURE__*/_react["default"].createElement(FlexGap,{justifyContent:"space-between",wrap:"wrap",paddingBottom:6},/*#__PURE__*/_react["default"].createElement(_ToggleInput.ToggleInput,{label:formatMessage({id:(0,_utils.getTrad)('form.Input.search'),defaultMessage:'Enable search'}),onChange:function onChange(e){_onChange({target:{name:'settings.searchable',value:e.target.checked}});},onLabel:formatMessage({id:'app.components.ToggleCheckbox.on-label',defaultMessage:'on'}),offLabel:formatMessage({id:'app.components.ToggleCheckbox.off-label',defaultMessage:'off'}),name:"settings.searchable",checked:settings.searchable}),/*#__PURE__*/_react["default"].createElement(_ToggleInput.ToggleInput,{label:formatMessage({id:(0,_utils.getTrad)('form.Input.filters'),defaultMessage:'Enable filters'}),onChange:function onChange(e){_onChange({target:{name:'settings.filterable',value:e.target.checked}});},onLabel:formatMessage({id:'app.components.ToggleCheckbox.on-label',defaultMessage:'on'}),offLabel:formatMessage({id:'app.components.ToggleCheckbox.off-label',defaultMessage:'off'}),name:"settings.filterable",checked:settings.filterable}),/*#__PURE__*/_react["default"].createElement(_ToggleInput.ToggleInput,{label:formatMessage({id:(0,_utils.getTrad)('form.Input.bulkActions'),defaultMessage:'Enable bulk actions'}),onChange:function onChange(e){_onChange({target:{name:'settings.bulkable',value:e.target.checked}});},onLabel:formatMessage({id:'app.components.ToggleCheckbox.on-label',defaultMessage:'on'}),offLabel:formatMessage({id:'app.components.ToggleCheckbox.off-label',defaultMessage:'off'}),name:"settings.bulkable",checked:settings.bulkable})),/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{s:12,col:6},/*#__PURE__*/_react["default"].createElement(_Select.Select,{label:formatMessage({id:(0,_utils.getTrad)('form.Input.pageEntries'),defaultMessage:'Entries per page'}),hint:formatMessage({id:(0,_utils.getTrad)('form.Input.pageEntries.inputDescription'),defaultMessage:'Note: You can override this value in the Collection Type settings page.'}),onChange:function onChange(value){return _onChange({target:{name:'settings.pageSize',value:value}});},name:"settings.pageSize",value:modifiedData.settings.pageSize||''},[10,20,50,100].map(function(pageSize){return/*#__PURE__*/_react["default"].createElement(_Select.Option,{key:pageSize,value:pageSize},pageSize);}))),/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{s:12,col:3},/*#__PURE__*/_react["default"].createElement(_Select.Select,{label:formatMessage({id:(0,_utils.getTrad)('form.Input.defaultSort'),defaultMessage:'Default sort attribute'}),onChange:function onChange(value){return _onChange({target:{name:'settings.defaultSortBy',value:value}});},name:"settings.defaultSortBy",value:modifiedData.settings.defaultSortBy||''},sortOptions.map(function(sortBy){return/*#__PURE__*/_react["default"].createElement(_Select.Option,{key:sortBy,value:sortBy},sortBy);}))),/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{s:12,col:3},/*#__PURE__*/_react["default"].createElement(_Select.Select,{label:formatMessage({id:(0,_utils.getTrad)('form.Input.sort.order'),defaultMessage:'Default sort order'}),onChange:function onChange(value){return _onChange({target:{name:'settings.defaultSortOrder',value:value}});},name:"settings.defaultSortOrder",value:modifiedData.settings.defaultSortOrder||''},['ASC','DESC'].map(function(order){return/*#__PURE__*/_react["default"].createElement(_Select.Option,{key:order,value:order},order);})))));};Settings.defaultProps={modifiedData:{},sortOptions:[]};Settings.propTypes={modifiedData:_propTypes["default"].object,onChange:_propTypes["default"].func.isRequired,sortOptions:_propTypes["default"].array};var _default=Settings;exports.default=_default;

/***/ }),

/***/ 42506:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _propTypes=__webpack_require__(45697);var _reactIntl=__webpack_require__(97132);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Stack=__webpack_require__(9008);var _Typography=__webpack_require__(49425);var _SimpleMenu=__webpack_require__(33097);var _IconButton=__webpack_require__(30741);var _Plus=_interopRequireDefault(__webpack_require__(80768));var _DraggableCard=_interopRequireDefault(__webpack_require__(46328));var _utils=__webpack_require__(28564);var FlexWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"SortDisplayedFields__FlexWrapper",componentId:"fx02f9-0"})(["flex:",";"],function(_ref){var size=_ref.size;return size;});var ScrollableContainer=/*#__PURE__*/(0,_styledComponents["default"])(FlexWrapper).withConfig({displayName:"SortDisplayedFields__ScrollableContainer",componentId:"fx02f9-1"})(["overflow-x:scroll;overflow-y:hidden;"]);var SelectContainer=/*#__PURE__*/(0,_styledComponents["default"])(FlexWrapper).withConfig({displayName:"SortDisplayedFields__SelectContainer",componentId:"fx02f9-2"})(["max-width:","rem;"],32/16);var SortDisplayedFields=function SortDisplayedFields(_ref2){var displayedFields=_ref2.displayedFields,listRemainingFields=_ref2.listRemainingFields,metadatas=_ref2.metadatas,onAddField=_ref2.onAddField,onClickEditField=_ref2.onClickEditField,onMoveField=_ref2.onMoveField,_onRemoveField=_ref2.onRemoveField;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingBottom:4},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"delta",as:"h2"},formatMessage({id:(0,_utils.getTrad)('containers.SettingPage.view'),defaultMessage:'View'}))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{paddingTop:4,paddingLeft:4,paddingRight:4,borderColor:"neutral300",borderStyle:"dashed",borderWidth:"1px",hasRadius:true},/*#__PURE__*/_react["default"].createElement(ScrollableContainer,{size:"1",paddingBottom:4},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:3},displayedFields.map(function(field,index){return/*#__PURE__*/_react["default"].createElement(_DraggableCard["default"],{key:field,index:index,onMoveField:onMoveField,onClickEditField:onClickEditField,onRemoveField:function onRemoveField(e){return _onRemoveField(e,index);},name:field,labelField:metadatas[field].list.label||field});}))),/*#__PURE__*/_react["default"].createElement(SelectContainer,{size:"auto",paddingBottom:4},/*#__PURE__*/_react["default"].createElement(_SimpleMenu.SimpleMenu,{label:formatMessage({id:(0,_utils.getTrad)('components.FieldSelect.label'),defaultMessage:'Add a field'}),as:_IconButton.IconButton,icon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null),disabled:listRemainingFields.length<=0,"data-testid":"add-field"},listRemainingFields.map(function(field){return/*#__PURE__*/_react["default"].createElement(_SimpleMenu.MenuItem,{key:field,onClick:function onClick(){return onAddField(field);}},field);})))));};SortDisplayedFields.propTypes={displayedFields:_propTypes.PropTypes.array.isRequired,listRemainingFields:_propTypes.PropTypes.array.isRequired,metadatas:_propTypes.PropTypes.objectOf(_propTypes.PropTypes.shape({list:_propTypes.PropTypes.shape({label:_propTypes.PropTypes.string})})).isRequired,onAddField:_propTypes.PropTypes.func.isRequired,onClickEditField:_propTypes.PropTypes.func.isRequired,onMoveField:_propTypes.PropTypes.func.isRequired,onRemoveField:_propTypes.PropTypes.func.isRequired};var _default=SortDisplayedFields;exports.default=_default;

/***/ }),

/***/ 41540:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactQuery=__webpack_require__(23724);var _isEqual=_interopRequireDefault(__webpack_require__(18446));var _upperFirst=_interopRequireDefault(__webpack_require__(11700));var _pick=_interopRequireDefault(__webpack_require__(78718));var _get=_interopRequireDefault(__webpack_require__(27361));var _qs=__webpack_require__(80129);var _helperPlugin=__webpack_require__(68547);var _reactIntl=__webpack_require__(97132);var _Box=__webpack_require__(5493);var _Divider=__webpack_require__(14276);var _Layout=__webpack_require__(78862);var _Link=__webpack_require__(85104);var _Main=__webpack_require__(62031);var _Button=__webpack_require__(19408);var _Check=_interopRequireDefault(__webpack_require__(84734));var _ArrowLeft=_interopRequireDefault(__webpack_require__(68717));var _utils=__webpack_require__(28564);var _ModelsContext=_interopRequireDefault(__webpack_require__(66973));var _hooks=__webpack_require__(14772);var _api=_interopRequireDefault(__webpack_require__(69477));var _Settings=_interopRequireDefault(__webpack_require__(25183));var _SortDisplayedFields=_interopRequireDefault(__webpack_require__(42506));var _EditFieldForm=_interopRequireDefault(__webpack_require__(68222));var _init=_interopRequireDefault(__webpack_require__(98543));var _reducer=_interopRequireWildcard(__webpack_require__(19645));var _excludedSortOptions=__webpack_require__(9822);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var ListSettingsView=function ListSettingsView(_ref){var layout=_ref.layout,slug=_ref.slug;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var pluginsQueryParams=(0,_hooks.usePluginsQueryParams)();var toggleNotification=(0,_helperPlugin.useNotification)();var _useContext=(0,_react.useContext)(_ModelsContext["default"]),refetchData=_useContext.refetchData;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),showWarningSubmit=_useState2[0],setWarningSubmit=_useState2[1];var toggleWarningSubmit=function toggleWarningSubmit(){return setWarningSubmit(function(prevState){return!prevState;});};var _useState3=(0,_react.useState)(false),_useState4=(0,_slicedToArray2["default"])(_useState3,2),isModalFormOpen=_useState4[0],setIsModalFormOpen=_useState4[1];var toggleModalForm=function toggleModalForm(){return setIsModalFormOpen(function(prevState){return!prevState;});};var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,function(){return(0,_init["default"])(_reducer.initialState,layout);}),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),reducerState=_useReducer2[0],dispatch=_useReducer2[1];var fieldToEdit=reducerState.fieldToEdit,fieldForm=reducerState.fieldForm,initialData=reducerState.initialData,modifiedData=reducerState.modifiedData;var attributes=layout.attributes;var displayedFields=modifiedData.layouts.list;var goBackUrl=function goBackUrl(){var _initialData$settings=initialData.settings,pageSize=_initialData$settings.pageSize,defaultSortBy=_initialData$settings.defaultSortBy,defaultSortOrder=_initialData$settings.defaultSortOrder,kind=initialData.kind,uid=initialData.uid;var sort="".concat(defaultSortBy,":").concat(defaultSortOrder);var goBackSearch="".concat((0,_qs.stringify)({page:1,pageSize:pageSize,sort:sort},{encode:false})).concat(pluginsQueryParams?"&".concat(pluginsQueryParams):'');return"/content-manager/".concat(kind,"/").concat(uid,"?").concat(goBackSearch);};var handleChange=function handleChange(_ref2){var _ref2$target=_ref2.target,name=_ref2$target.name,value=_ref2$target.value;dispatch({type:'ON_CHANGE',keys:name,value:name==='settings.pageSize'?parseInt(value,10):value});};var handleConfirm=/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var body;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:body=(0,_pick["default"])(modifiedData,['layouts','settings','metadatas']);submitMutation.mutate(body);case 2:case"end":return _context.stop();}}},_callee);}));return function handleConfirm(){return _ref3.apply(this,arguments);};}();var handleAddField=function handleAddField(item){dispatch({type:'ADD_FIELD',item:item});};var handleRemoveField=function handleRemoveField(e,index){e.stopPropagation();if(displayedFields.length===1){toggleNotification({type:'info',message:{id:(0,_utils.getTrad)('notification.info.minimumFields')}});}else{dispatch({type:'REMOVE_FIELD',index:index});}};var handleSubmit=function handleSubmit(e){e.preventDefault();toggleWarningSubmit();trackUsage('willSaveContentTypeLayout');};var handleClickEditField=function handleClickEditField(fieldToEdit){dispatch({type:'SET_FIELD_TO_EDIT',fieldToEdit:fieldToEdit});toggleModalForm();};var handleCloseModal=function handleCloseModal(){dispatch({type:'UNSET_FIELD_TO_EDIT'});toggleModalForm();};var handleSubmitFieldEdit=function handleSubmitFieldEdit(e){e.preventDefault();toggleModalForm();dispatch({type:'SUBMIT_FIELD_FORM'});};var submitMutation=(0,_reactQuery.useMutation)(function(body){return(0,_api["default"])(body,slug);},{onSuccess:function onSuccess(){trackUsage('didEditListSettings');refetchData();},onError:function onError(){toggleNotification({type:'warning',message:{id:'notification.error'}});}});var isSubmittingForm=submitMutation.isLoading;var handleChangeEditLabel=function handleChangeEditLabel(_ref4){var _ref4$target=_ref4.target,name=_ref4$target.name,value=_ref4$target.value;dispatch({type:'ON_CHANGE_FIELD_METAS',name:name,value:value});};var listRemainingFields=Object.entries(attributes).reduce(function(acc,cur){var _cur=(0,_slicedToArray2["default"])(cur,2),attrName=_cur[0],fieldSchema=_cur[1];var isDisplayable=(0,_utils.checkIfAttributeIsDisplayable)(fieldSchema);var isAlreadyDisplayed=displayedFields.includes(attrName);if(isDisplayable&&!isAlreadyDisplayed){acc.push(attrName);}return acc;},[]).sort();var sortOptions=Object.entries(attributes).reduce(function(acc,cur){var _cur2=(0,_slicedToArray2["default"])(cur,2),name=_cur2[0],type=_cur2[1].type;if(!_excludedSortOptions.EXCLUDED_SORT_OPTIONS.includes(type)){acc.push(name);}return acc;},[]);var move=function move(originalIndex,atIndex){dispatch({type:'MOVE_FIELD',originalIndex:originalIndex,atIndex:atIndex});};return/*#__PURE__*/_react["default"].createElement(_Layout.Layout,null,/*#__PURE__*/_react["default"].createElement(_Main.Main,{"aria-busy":isSubmittingForm},/*#__PURE__*/_react["default"].createElement("form",{onSubmit:handleSubmit},/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{navigationAction:/*#__PURE__*/_react["default"].createElement(_Link.Link,{startIcon:/*#__PURE__*/_react["default"].createElement(_ArrowLeft["default"],null),to:goBackUrl,id:"go-back"},formatMessage({id:'app.components.go-back',defaultMessage:'Go back'})),primaryAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{size:"L",startIcon:/*#__PURE__*/_react["default"].createElement(_Check["default"],null),disabled:(0,_isEqual["default"])(modifiedData,initialData),type:"submit"},formatMessage({id:'form.button.save',defaultMessage:'Save'})),subtitle:formatMessage({id:(0,_utils.getTrad)('components.SettingsViewWrapper.pluginHeader.description.list-settings'),defaultMessage:'Define the settings of the list view.'}),title:formatMessage({id:(0,_utils.getTrad)('components.SettingsViewWrapper.pluginHeader.title'),defaultMessage:'Configure the view - {name}'},{name:(0,_upperFirst["default"])(modifiedData.info.displayName)})}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{background:"neutral0",hasRadius:true,shadow:"tableShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},/*#__PURE__*/_react["default"].createElement(_Settings["default"],{modifiedData:modifiedData,onChange:handleChange,sortOptions:sortOptions}),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:6,paddingBottom:6},/*#__PURE__*/_react["default"].createElement(_Divider.Divider,null)),/*#__PURE__*/_react["default"].createElement(_SortDisplayedFields["default"],{listRemainingFields:listRemainingFields,displayedFields:displayedFields,onAddField:handleAddField,onClickEditField:handleClickEditField,onMoveField:move,onRemoveField:handleRemoveField,metadatas:modifiedData.metadatas}))),/*#__PURE__*/_react["default"].createElement(_helperPlugin.ConfirmDialog,{bodyText:{id:(0,_utils.getTrad)('popUpWarning.warning.updateAllSettings'),defaultMessage:'This will modify all your settings'},iconRightButton:/*#__PURE__*/_react["default"].createElement(_Check["default"],null),isConfirmButtonLoading:isSubmittingForm,isOpen:showWarningSubmit,onToggleDialog:toggleWarningSubmit,onConfirm:handleConfirm,variantRightButton:"success-light"})),isModalFormOpen&&/*#__PURE__*/_react["default"].createElement(_EditFieldForm["default"],{attributes:attributes,fieldForm:fieldForm,fieldToEdit:fieldToEdit,onChangeEditLabel:handleChangeEditLabel,onCloseModal:handleCloseModal,onSubmit:handleSubmitFieldEdit,type:(0,_get["default"])(attributes,[fieldToEdit,'type'],'text')})));};ListSettingsView.propTypes={layout:_propTypes["default"].shape({uid:_propTypes["default"].string.isRequired,settings:_propTypes["default"].shape({bulkable:_propTypes["default"].bool,defaultSortBy:_propTypes["default"].string,defaultSortOrder:_propTypes["default"].string,filterable:_propTypes["default"].bool,pageSize:_propTypes["default"].number,searchable:_propTypes["default"].bool}).isRequired,metadatas:_propTypes["default"].object.isRequired,options:_propTypes["default"].object.isRequired,attributes:_propTypes["default"].objectOf(_propTypes["default"].shape({type:_propTypes["default"].string})).isRequired}).isRequired,slug:_propTypes["default"].string.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(ListSettingsView);exports.default=_default;

/***/ }),

/***/ 98543:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var init=function init(initialState,layout){return _objectSpread(_objectSpread({},initialState),{},{initialData:layout,modifiedData:layout});};var _default=init;exports.default=_default;

/***/ }),

/***/ 19645:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.initialState=exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _immer=_interopRequireDefault(__webpack_require__(66312));var _set=_interopRequireDefault(__webpack_require__(36968));var _get=_interopRequireDefault(__webpack_require__(27361));var _utils=__webpack_require__(28564);// current
var initialState={fieldForm:{},fieldToEdit:'',initialData:{},modifiedData:{}};exports.initialState=initialState;var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;return(// eslint-disable-next-line consistent-return
(0,_immer["default"])(state,function(draftState){var layoutFieldListPath=['modifiedData','layouts','list'];switch(action.type){case'ADD_FIELD':{var layoutFieldList=(0,_get["default"])(state,layoutFieldListPath,[]);(0,_set["default"])(draftState,layoutFieldListPath,[action.item].concat((0,_toConsumableArray2["default"])(layoutFieldList)));break;}case'MOVE_FIELD':{var _layoutFieldList=(0,_get["default"])(state,layoutFieldListPath,[]);var originalIndex=action.originalIndex,atIndex=action.atIndex;(0,_set["default"])(draftState,layoutFieldListPath,(0,_utils.arrayMoveItem)(_layoutFieldList,originalIndex,atIndex));break;}case'ON_CHANGE':{(0,_set["default"])(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(action.keys.split('.'))),action.value);break;}case'ON_CHANGE_FIELD_METAS':{(0,_set["default"])(draftState,['fieldForm',action.name],action.value);break;}case'REMOVE_FIELD':{var _layoutFieldList2=(0,_get["default"])(state,layoutFieldListPath,[]);(0,_set["default"])(draftState,layoutFieldListPath,_layoutFieldList2.filter(function(_,index){return action.index!==index;}));break;}case'SET_FIELD_TO_EDIT':{var fieldToEdit=action.fieldToEdit;draftState.fieldToEdit=fieldToEdit;draftState.fieldForm.label=(0,_get["default"])(draftState,['modifiedData','metadatas',fieldToEdit,'list','label'],'');draftState.fieldForm.sortable=(0,_get["default"])(draftState,['modifiedData','metadatas',fieldToEdit,'list','sortable'],'');break;}case'UNSET_FIELD_TO_EDIT':{draftState.fieldForm={};draftState.fieldToEdit='';break;}case'SUBMIT_FIELD_FORM':{var fieldMetadataPath=['modifiedData','metadatas',state.fieldToEdit,'list'];(0,_set["default"])(draftState,[].concat(fieldMetadataPath,['label']),state.fieldForm.label);(0,_set["default"])(draftState,[].concat(fieldMetadataPath,['sortable']),state.fieldForm.sortable);break;}default:return draftState;}}));};var _default=reducer;exports.default=_default;

/***/ }),

/***/ 69477:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _utils=__webpack_require__(53777);var _utils2=__webpack_require__(28564);var putCMSettingsLV=function putCMSettingsLV(body,slug){return _utils.axiosInstance.put((0,_utils2.getRequestUrl)("content-types/".concat(slug,"/configuration")),body);};var _default=putCMSettingsLV;exports.default=_default;

/***/ }),

/***/ 77236:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var ellipsisCardTitle=function ellipsisCardTitle(title){var formatedTitle=title.length>20?"".concat(title.substring(0,20),"..."):title;return formatedTitle;};var _default=ellipsisCardTitle;exports.default=_default;

/***/ }),

/***/ 9822:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.EXCLUDED_SORT_OPTIONS=void 0;var EXCLUDED_SORT_OPTIONS=['media','richtext','dynamiczone','relation','component','json'];exports.EXCLUDED_SORT_OPTIONS=EXCLUDED_SORT_OPTIONS;

/***/ }),

/***/ 17170:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactRedux=__webpack_require__(37424);var _reactIntl=__webpack_require__(97132);var _Select=__webpack_require__(43808);var _Box=__webpack_require__(5493);var _helperPlugin=__webpack_require__(68547);var _actions=__webpack_require__(14285);var _selectors=__webpack_require__(51046);var _getAllAllowedHeader=_interopRequireDefault(__webpack_require__(38092));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var FieldPicker=function FieldPicker(_ref){var layout=_ref.layout;var dispatch=(0,_reactRedux.useDispatch)();var displayedHeaders=(0,_reactRedux.useSelector)(_selectors.selectDisplayedHeaders);var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var allAllowedHeaders=(0,_getAllAllowedHeader["default"])(layout.contentType.attributes).map(function(attrName){var metadatas=layout.contentType.metadatas[attrName].list;return{name:attrName,intlLabel:{id:metadatas.label,defaultMessage:metadatas.label}};});var values=displayedHeaders.map(function(_ref2){var name=_ref2.name;return name;});var handleChange=function handleChange(updatedValues){trackUsage('didChangeDisplayedFields');// removing a header
if(updatedValues.length<values.length){var removedHeader=values.filter(function(value){return updatedValues.indexOf(value)===-1;});dispatch((0,_actions.onChangeListHeaders)({name:removedHeader[0],value:true}));}else{var addedHeader=updatedValues.filter(function(value){return values.indexOf(value)===-1;});dispatch((0,_actions.onChangeListHeaders)({name:addedHeader[0],value:false}));}};return/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:1,paddingBottom:1},/*#__PURE__*/_react["default"].createElement(_Select.Select,{"aria-label":"change displayed fields",value:values,onChange:handleChange,customizeContent:function customizeContent(values){return"".concat(values.length," currently selected");},multi:true,size:"S"},allAllowedHeaders.map(function(header){return/*#__PURE__*/_react["default"].createElement(_Select.Option,{key:header.name,value:header.name},formatMessage({id:header.intlLabel.id||header.name,defaultMessage:header.intlLabel.defaultMessage||header.name}));})));};FieldPicker.propTypes={layout:_propTypes["default"].shape({contentType:_propTypes["default"].shape({attributes:_propTypes["default"].object.isRequired,metadatas:_propTypes["default"].object.isRequired,layouts:_propTypes["default"].shape({list:_propTypes["default"].array.isRequired,editRelations:_propTypes["default"].array}).isRequired,options:_propTypes["default"].object.isRequired,settings:_propTypes["default"].object.isRequired}).isRequired}).isRequired};var _default=/*#__PURE__*/(0,_react.memo)(FieldPicker);exports.default=_default;

/***/ }),

/***/ 38092:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _utils=__webpack_require__(28564);var getAllAllowedHeaders=function getAllAllowedHeaders(attributes){var allowedAttributes=Object.keys(attributes).reduce(function(acc,current){var attribute=attributes[current];if((0,_utils.checkIfAttributeIsDisplayable)(attribute)){acc.push(current);}return acc;},[]);return allowedAttributes.sort();};var _default=getAllAllowedHeaders;exports.default=_default;

/***/ }),

/***/ 34933:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _helperPlugin=__webpack_require__(68547);var PaginationFooter=function PaginationFooter(_ref){var pagination=_ref.pagination;return/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:4},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{alignItems:"flex-end",justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_helperPlugin.PageSizeURLQuery,{trackedEvent:"willChangeNumberOfEntriesPerPage"}),/*#__PURE__*/_react["default"].createElement(_helperPlugin.PaginationURLQuery,{pagination:pagination})));};PaginationFooter.defaultProps={pagination:{pageCount:0,pageSize:10,total:0}};PaginationFooter.propTypes={pagination:_propTypes["default"].shape({page:_propTypes["default"].number,pageCount:_propTypes["default"].number,pageSize:_propTypes["default"].number,total:_propTypes["default"].number})};var _default=PaginationFooter;exports.default=_default;

/***/ }),

/***/ 14285:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.onResetListHeaders=exports.onChangeListHeaders=exports.getDataSucceeded=exports.getData=void 0;exports.resetProps=resetProps;exports.setLayout=void 0;var _constants=__webpack_require__(8660);var getData=function getData(){return{type:_constants.GET_DATA};};exports.getData=getData;var getDataSucceeded=function getDataSucceeded(pagination,data){return{type:_constants.GET_DATA_SUCCEEDED,pagination:pagination,data:data};};exports.getDataSucceeded=getDataSucceeded;var onResetListHeaders=function onResetListHeaders(){return{type:_constants.ON_RESET_LIST_HEADERS};};exports.onResetListHeaders=onResetListHeaders;function resetProps(){return{type:_constants.RESET_PROPS};}var setLayout=function setLayout(contentType){var layouts=contentType.layouts;return{contentType:contentType,displayedHeaders:layouts.list,type:_constants.SET_LIST_LAYOUT};};exports.setLayout=setLayout;var onChangeListHeaders=function onChangeListHeaders(target){return{type:_constants.ON_CHANGE_LIST_HEADERS,target:target};};exports.onChangeListHeaders=onChangeListHeaders;

/***/ }),

/***/ 66473:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;exports.mapDispatchToProps=mapDispatchToProps;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactRedux=__webpack_require__(37424);var _reactFastCompare=_interopRequireDefault(__webpack_require__(39918));var _redux=__webpack_require__(35281);var _reactIntl=__webpack_require__(97132);var _reactRouterDom=__webpack_require__(39711);var _get=_interopRequireDefault(__webpack_require__(27361));var _qs=__webpack_require__(80129);var _helperPlugin=__webpack_require__(68547);var _IconButton=__webpack_require__(30741);var _Main=__webpack_require__(62031);var _Box=__webpack_require__(5493);var _Layout=__webpack_require__(78862);var _LiveRegions=__webpack_require__(84686);var _Button=__webpack_require__(19408);var _Plus=_interopRequireDefault(__webpack_require__(80768));var _Cog=_interopRequireDefault(__webpack_require__(70736));var _axios=_interopRequireDefault(__webpack_require__(9669));var _utils=__webpack_require__(53777);var _components=__webpack_require__(78024);var _DynamicTable=_interopRequireDefault(__webpack_require__(18595));var _permissions=_interopRequireDefault(__webpack_require__(13240));var _utils2=__webpack_require__(28564);var _FieldPicker=_interopRequireDefault(__webpack_require__(17170));var _PaginationFooter=_interopRequireDefault(__webpack_require__(34933));var _actions=__webpack_require__(14285);var _selectors=_interopRequireDefault(__webpack_require__(51046));var _utils3=__webpack_require__(85771);var _AttributeFilter=_interopRequireDefault(__webpack_require__(72632));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var cmPermissions=_permissions["default"].contentManager;var IconButtonCustom=/*#__PURE__*/(0,_styledComponents["default"])(_IconButton.IconButton).withConfig({displayName:"ListView__IconButtonCustom",componentId:"sc-1owh71w-0"})(["svg{path{fill:",";}}"],function(_ref){var theme=_ref.theme;return theme.colors.neutral900;});/* eslint-disable react/no-array-index-key */function ListView(_ref2){var canCreate=_ref2.canCreate,canDelete=_ref2.canDelete,canRead=_ref2.canRead,data=_ref2.data,getData=_ref2.getData,getDataSucceeded=_ref2.getDataSucceeded,isLoading=_ref2.isLoading,layout=_ref2.layout,pagination=_ref2.pagination,slug=_ref2.slug;var total=pagination.total;var _layout$contentType=layout.contentType,metadatas=_layout$contentType.metadatas,_layout$contentType$s=_layout$contentType.settings,isBulkable=_layout$contentType$s.bulkable,isFilterable=_layout$contentType$s.filterable,isSearchable=_layout$contentType$s.searchable;var toggleNotification=(0,_helperPlugin.useNotification)();var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var _useRBACProvider=(0,_helperPlugin.useRBACProvider)(),refetchPermissions=_useRBACProvider.refetchPermissions;var trackUsageRef=(0,_react.useRef)(trackUsage);var fetchPermissionsRef=(0,_react.useRef)(refetchPermissions);var _useNotifyAT=(0,_LiveRegions.useNotifyAT)(),notifyStatus=_useNotifyAT.notifyStatus;(0,_helperPlugin.useFocusWhenNavigate)();var _useQueryParams=(0,_helperPlugin.useQueryParams)(),_useQueryParams2=(0,_slicedToArray2["default"])(_useQueryParams,1),query=_useQueryParams2[0].query;var params=(0,_utils3.buildQueryString)(query);var pluginsQueryParams=(0,_qs.stringify)({plugins:query.plugins},{encode:false});var _useLocation=(0,_reactRouterDom.useLocation)(),pathname=_useLocation.pathname;var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var contentType=layout.contentType;var hasDraftAndPublish=(0,_get["default"])(contentType,'options.draftAndPublish',false);// FIXME
// Using a ref to avoid requests being fired multiple times on slug on change
// We need it because the hook as mulitple dependencies so it may run before the permissions have checked
var requestUrlRef=(0,_react.useRef)('');var fetchData=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(endPoint,source){var opts,_yield$axiosInstance$,_yield$axiosInstance$2,results,paginationResult,resStatus;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:getData();_context.prev=1;opts=source?{cancelToken:source.token}:null;_context.next=5;return _utils.axiosInstance.get(endPoint,opts);case 5:_yield$axiosInstance$=_context.sent;_yield$axiosInstance$2=_yield$axiosInstance$.data;results=_yield$axiosInstance$2.results;paginationResult=_yield$axiosInstance$2.pagination;notifyStatus(formatMessage({id:(0,_utils2.getTrad)('utils.data-loaded'),defaultMessage:'{number, plural, =1 {# entry has} other {# entries have}} successfully been loaded'},// Using the plural form
{number:paginationResult.count}));getDataSucceeded(paginationResult,results);_context.next=26;break;case 13:_context.prev=13;_context.t0=_context["catch"](1);if(!_axios["default"].isCancel(_context.t0)){_context.next=17;break;}return _context.abrupt("return");case 17:resStatus=(0,_get["default"])(_context.t0,'response.status',null);if(!(resStatus===403)){_context.next=24;break;}_context.next=21;return fetchPermissionsRef.current();case 21:toggleNotification({type:'info',message:{id:(0,_utils2.getTrad)('permissions.not-allowed.update')}});push('/');return _context.abrupt("return");case 24:console.error(_context.t0);toggleNotification({type:'warning',message:{id:(0,_utils2.getTrad)('error.model.fetch')}});case 26:case"end":return _context.stop();}}},_callee,null,[[1,13]]);}));return function(_x,_x2){return _ref3.apply(this,arguments);};}(),[formatMessage,getData,getDataSucceeded,notifyStatus,push,toggleNotification]);var handleConfirmDeleteAllData=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(ids){var requestUrl;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return _utils.axiosInstance.post((0,_utils2.getRequestUrl)("collection-types/".concat(slug,"/actions/bulkDelete")),{ids:ids});case 3:requestUrl=(0,_utils2.getRequestUrl)("collection-types/".concat(slug).concat(params));fetchData(requestUrl);trackUsageRef.current('didBulkDeleteEntries');_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2["catch"](0);toggleNotification({type:'warning',message:{id:(0,_utils2.getTrad)('error.record.delete')}});case 11:case"end":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x3){return _ref4.apply(this,arguments);};}(),[fetchData,params,slug,toggleNotification]);var handleConfirmDeleteData=(0,_react.useCallback)(/*#__PURE__*/function(){var _ref5=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(idToDelete){var requestUrl,errorMessage;return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return _utils.axiosInstance["delete"]((0,_utils2.getRequestUrl)("collection-types/".concat(slug,"/").concat(idToDelete)));case 3:requestUrl=(0,_utils2.getRequestUrl)("collection-types/".concat(slug).concat(params));fetchData(requestUrl);toggleNotification({type:'success',message:{id:(0,_utils2.getTrad)('success.record.delete')}});_context3.next=12;break;case 8:_context3.prev=8;_context3.t0=_context3["catch"](0);errorMessage=(0,_get["default"])(_context3.t0,'response.payload.message',formatMessage({id:(0,_utils2.getTrad)('error.record.delete')}));toggleNotification({type:'warning',message:errorMessage});case 12:case"end":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x4){return _ref5.apply(this,arguments);};}(),[slug,params,fetchData,toggleNotification,formatMessage]);(0,_react.useEffect)(function(){var CancelToken=_axios["default"].CancelToken;var source=CancelToken.source();var shouldSendRequest=canRead;var requestUrl=(0,_utils2.getRequestUrl)("collection-types/".concat(slug).concat(params));if(shouldSendRequest&&requestUrl.includes(requestUrlRef.current)){fetchData(requestUrl,source);}return function(){requestUrlRef.current=slug;source.cancel('Operation canceled by the user.');};// eslint-disable-next-line react-hooks/exhaustive-deps
},[canRead,getData,slug,params,getDataSucceeded,fetchData]);var defaultHeaderLayoutTitle=formatMessage({id:(0,_utils2.getTrad)('header.name'),defaultMessage:'Content'});var headerLayoutTitle=formatMessage({id:contentType.info.displayName,defaultMessage:contentType.info.displayName||defaultHeaderLayoutTitle});var subtitle=canRead?formatMessage({id:(0,_utils2.getTrad)('pages.ListView.header-subtitle'),defaultMessage:'{number, plural, =0 {# entries} one {# entry} other {# entries}} found'},{number:total}):null;var createAction=canCreate?/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:function onClick(){var trackerProperty=hasDraftAndPublish?{status:'draft'}:{};trackUsageRef.current('willCreateEntry',trackerProperty);push({pathname:"".concat(pathname,"/create"),search:query.plugins?pluginsQueryParams:''});},startIcon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null)},formatMessage({id:(0,_utils2.getTrad)('HeaderLayout.button.label-add-entry'),defaultMessage:'Add new entry'})):null;return/*#__PURE__*/_react["default"].createElement(_Main.Main,{"aria-busy":isLoading},/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{primaryAction:createAction,subtitle:subtitle,title:headerLayoutTitle}),!canRead&&/*#__PURE__*/_react["default"].createElement(_Layout.ActionLayout,{endActions:/*#__PURE__*/_react["default"].createElement(_components.InjectionZone,{area:"contentManager.listView.actions"})}),canRead&&/*#__PURE__*/_react["default"].createElement(_Layout.ActionLayout,{endActions:/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_components.InjectionZone,{area:"contentManager.listView.actions"}),/*#__PURE__*/_react["default"].createElement(_FieldPicker["default"],{layout:layout}),/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPermissions,{permissions:cmPermissions.collectionTypesConfigurations},/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:1,paddingBottom:1},/*#__PURE__*/_react["default"].createElement(IconButtonCustom,{onClick:function onClick(){trackUsage('willEditListLayout');push({pathname:"".concat(slug,"/configurations/list"),search:pluginsQueryParams});},icon:/*#__PURE__*/_react["default"].createElement(_Cog["default"],null),label:formatMessage({id:'app.links.configure-view',defaultMessage:'Configure the view'})})))),startActions:/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,isSearchable&&/*#__PURE__*/_react["default"].createElement(_helperPlugin.SearchURLQuery,{label:formatMessage({id:'app.component.search.label',defaultMessage:'Search for {target}'},{target:headerLayoutTitle}),placeholder:formatMessage({id:'app.component.search.placeholder',defaultMessage:'Search...'}),trackedEvent:"didSearch"}),isFilterable&&/*#__PURE__*/_react["default"].createElement(_AttributeFilter["default"],{contentType:contentType,slug:slug,metadatas:metadatas}))}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,canRead?/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_DynamicTable["default"],{canCreate:canCreate,canDelete:canDelete,contentTypeName:headerLayoutTitle,onConfirmDeleteAll:handleConfirmDeleteAllData,onConfirmDelete:handleConfirmDeleteData,isBulkable:isBulkable,isLoading:isLoading// FIXME: remove the layout props drilling
,layout:layout,rows:data}),/*#__PURE__*/_react["default"].createElement(_PaginationFooter["default"],{pagination:{pageCount:(pagination===null||pagination===void 0?void 0:pagination.pageCount)||1}})):/*#__PURE__*/_react["default"].createElement(_helperPlugin.NoPermissions,null)));}ListView.propTypes={canCreate:_propTypes["default"].bool.isRequired,canDelete:_propTypes["default"].bool.isRequired,canRead:_propTypes["default"].bool.isRequired,data:_propTypes["default"].array.isRequired,layout:_propTypes["default"].exact({components:_propTypes["default"].object.isRequired,contentType:_propTypes["default"].shape({attributes:_propTypes["default"].object.isRequired,metadatas:_propTypes["default"].object.isRequired,info:_propTypes["default"].shape({displayName:_propTypes["default"].string.isRequired}).isRequired,layouts:_propTypes["default"].shape({list:_propTypes["default"].array.isRequired,editRelations:_propTypes["default"].array}).isRequired,options:_propTypes["default"].object.isRequired,settings:_propTypes["default"].object.isRequired}).isRequired}).isRequired,isLoading:_propTypes["default"].bool.isRequired,getData:_propTypes["default"].func.isRequired,getDataSucceeded:_propTypes["default"].func.isRequired,pagination:_propTypes["default"].shape({total:_propTypes["default"].number.isRequired,pageCount:_propTypes["default"].number}).isRequired,slug:_propTypes["default"].string.isRequired};var mapStateToProps=(0,_selectors["default"])();function mapDispatchToProps(dispatch){return(0,_redux.bindActionCreators)({getData:_actions.getData,getDataSucceeded:_actions.getDataSucceeded,onChangeListHeaders:_actions.onChangeListHeaders,onResetListHeaders:_actions.onResetListHeaders},dispatch);}var withConnect=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps);var _default=(0,_redux.compose)(withConnect)(/*#__PURE__*/(0,_react.memo)(ListView,_reactFastCompare["default"]));exports.default=_default;

/***/ }),

/***/ 51046:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.selectDisplayedHeaders=exports.listViewDomain=exports.default=void 0;var _reselect=__webpack_require__(42279);var _reducer=__webpack_require__(97506);/**
 * Direct selector to the listView state domain
 */var listViewDomain=function listViewDomain(){return function(state){return state['content-manager_listView']||_reducer.initialState;};};/**
 * Other specific selectors
 */ /**
 * Default selector used by listView
 */exports.listViewDomain=listViewDomain;var makeSelectListView=function makeSelectListView(){return(0,_reselect.createSelector)(listViewDomain(),function(substate){return substate;});};var selectDisplayedHeaders=function selectDisplayedHeaders(state){var displayedHeaders=state['content-manager_listView'].displayedHeaders;return displayedHeaders;};exports.selectDisplayedHeaders=selectDisplayedHeaders;var _default=makeSelectListView;exports.default=_default;

/***/ }),

/***/ 62616:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _qs=__webpack_require__(80129);var _createPluginsFilter=_interopRequireDefault(__webpack_require__(58927));var _excluded=["plugins"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/**
 * Creates a valid query string from an object of queryParams
 * This includes:
 * - a filters clause
 * - plugin options
 */var buildQueryString=function buildQueryString(){var queryParams=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};/**
   * Extracting pluginOptions from the query since we don't want them to be part
   * of the url
   */var _queryParams$createPl=_objectSpread(_objectSpread({},queryParams),(0,_createPluginsFilter["default"])(queryParams.plugins)),_=_queryParams$createPl.plugins,otherQueryParams=(0,_objectWithoutProperties2["default"])(_queryParams$createPl,_excluded);return"?".concat((0,_qs.stringify)(otherQueryParams,{encode:false}));};var _default=buildQueryString;exports.default=_default;

/***/ }),

/***/ 58927:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var createPluginsFilter=function createPluginsFilter(obj){return Object.values(obj||{}).reduce(function(acc,current){return Object.assign(acc,current);},{});};var _default=createPluginsFilter;exports.default=_default;

/***/ }),

/***/ 85771:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "buildQueryString", ({enumerable:true,get:function get(){return _buildQueryString["default"];}}));var _buildQueryString=_interopRequireDefault(__webpack_require__(62616));

/***/ }),

/***/ 68893:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _helperPlugin=__webpack_require__(68547);var _ListView=_interopRequireDefault(__webpack_require__(66473));var _utils=__webpack_require__(28564);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Permissions=function Permissions(props){var viewPermissions=(0,_react.useMemo)(function(){return(0,_utils.generatePermissionsObject)(props.slug);},[props.slug]);var _useRBAC=(0,_helperPlugin.useRBAC)(viewPermissions,props.permissions),isLoading=_useRBAC.isLoading,allowedActions=_useRBAC.allowedActions;if(isLoading){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null);}return/*#__PURE__*/_react["default"].createElement(_ListView["default"],(0,_extends2["default"])({},props,allowedActions));};Permissions.defaultProps={permissions:[]};Permissions.propTypes={permissions:_propTypes["default"].array,slug:_propTypes["default"].string.isRequired};// This avoids the components to rerender on params change causing multiple requests to be fired
var _default=/*#__PURE__*/(0,_react.memo)(Permissions,function(prev,next){var differenceBetweenRerenders=(0,_helperPlugin.difference)(prev,next);// Here the submenu is using a navlink which doesn't support the state
// When we navigate from the EV to the LV using the menu the state is lost at some point
// and this causes the component to rerender twice and firing requests twice
// this hack prevents this
// TODO at some point we will need to refacto the LV and migrate to react-query
var propNamesThatHaveChanged=Object.keys(differenceBetweenRerenders).filter(function(propName){return propName!=='state';});return propNamesThatHaveChanged.length>0;});exports.default=_default;

/***/ }),

/***/ 9017:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactRedux=__webpack_require__(37424);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactRouterDom=__webpack_require__(39711);var _helperPlugin=__webpack_require__(68547);var _hooks=__webpack_require__(14772);var _actions=__webpack_require__(14285);var _Permissions=_interopRequireDefault(__webpack_require__(68893));var _excluded=["layout"];function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var ListViewLayout=function ListViewLayout(_ref){var layout=_ref.layout,props=(0,_objectWithoutProperties2["default"])(_ref,_excluded);var dispatch=(0,_reactRedux.useDispatch)();var _useHistory=(0,_reactRouterDom.useHistory)(),replace=_useHistory.replace;var _useQueryParams=(0,_helperPlugin.useQueryParams)(),_useQueryParams2=(0,_slicedToArray2["default"])(_useQueryParams,1),_useQueryParams2$=_useQueryParams2[0],query=_useQueryParams2$.query,rawQuery=_useQueryParams2$.rawQuery;var permissions=(0,_hooks.useSyncRbac)(query,props.slug,'listView');var redirectionLink=(0,_hooks.useFindRedirectionLink)(props.slug);(0,_react.useEffect)(function(){if(!rawQuery){replace(redirectionLink);}},[rawQuery,replace,redirectionLink]);(0,_react.useEffect)(function(){dispatch((0,_actions.setLayout)(layout.contentType));},[dispatch,layout]);(0,_react.useEffect)(function(){return function(){dispatch((0,_actions.resetProps)());};},[dispatch]);if(!permissions){return null;}return/*#__PURE__*/_react["default"].createElement(_Permissions["default"],(0,_extends2["default"])({},props,{layout:layout,permissions:permissions}));};ListViewLayout.propTypes={layout:_propTypes["default"].exact({components:_propTypes["default"].object.isRequired,contentType:_propTypes["default"].shape({attributes:_propTypes["default"].object.isRequired,metadatas:_propTypes["default"].object.isRequired,layouts:_propTypes["default"].shape({list:_propTypes["default"].array.isRequired,editRelations:_propTypes["default"].array}).isRequired,options:_propTypes["default"].object.isRequired,settings:_propTypes["default"].object.isRequired,pluginOptions:_propTypes["default"].object}).isRequired}).isRequired,slug:_propTypes["default"].string.isRequired};var _default=ListViewLayout;exports.default=_default;

/***/ }),

/***/ 65639:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _helperPlugin=__webpack_require__(68547);var _Main=__webpack_require__(62031);var _LinkButton=__webpack_require__(60985);var _Layout=__webpack_require__(78862);var _EmptyStateLayout=__webpack_require__(62791);var _Plus=_interopRequireDefault(__webpack_require__(80768));var _EmptyDocuments=_interopRequireDefault(__webpack_require__(85407));var _reactIntl=__webpack_require__(97132);var _utils=__webpack_require__(28564);var NoContentType=function NoContentType(){var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;(0,_helperPlugin.useFocusWhenNavigate)();return/*#__PURE__*/_react["default"].createElement(_Main.Main,null,/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{title:formatMessage({id:(0,_utils.getTrad)('header.name'),defaultMessage:'Content'})}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_EmptyStateLayout.EmptyStateLayout,{action:/*#__PURE__*/_react["default"].createElement(_LinkButton.LinkButton,{variant:"secondary",startIcon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null),to:"/plugins/content-type-builder/content-types/create-content-type"},formatMessage({id:'app.components.HomePage.create',defaultMessage:'Create your first Content-type'})),content:formatMessage({id:'content-manager.pages.NoContentType.text',defaultMessage:"You don't have any content yet, we recommend you to create your first Content-Type."}),hasRadius:true,icon:/*#__PURE__*/_react["default"].createElement(_EmptyDocuments["default"],{width:"10rem"}),shadow:"tableShadow"})));};var _default=NoContentType;exports.default=_default;

/***/ }),

/***/ 20755:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _helperPlugin=__webpack_require__(68547);var _Main=__webpack_require__(62031);var _Layout=__webpack_require__(78862);var _reactIntl=__webpack_require__(97132);var _utils=__webpack_require__(28564);var NoPermissions=function NoPermissions(){var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;(0,_helperPlugin.useFocusWhenNavigate)();return/*#__PURE__*/_react["default"].createElement(_Main.Main,null,/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{title:formatMessage({id:(0,_utils.getTrad)('header.name'),defaultMessage:'Content'})}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_helperPlugin.NoPermissions,null)));};var _default=NoPermissions;exports.default=_default;

/***/ }),

/***/ 88468:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _reactRouterDom=__webpack_require__(39711);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _helperPlugin=__webpack_require__(68547);var _permissions=_interopRequireDefault(__webpack_require__(13240));var _contexts=__webpack_require__(42688);var _hooks=__webpack_require__(14772);var _utils=__webpack_require__(28564);var _EditViewLayoutManager=_interopRequireDefault(__webpack_require__(11427));var _EditSettingsView=_interopRequireDefault(__webpack_require__(40224));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var cmPermissions=_permissions["default"].contentManager;var SingleTypeRecursivePath=function SingleTypeRecursivePath(_ref){var _ref$match=_ref.match,slug=_ref$match.params.slug,url=_ref$match.url;var _useFetchContentTypeL=(0,_hooks.useFetchContentTypeLayout)(slug),isLoading=_useFetchContentTypeL.isLoading,layout=_useFetchContentTypeL.layout,updateLayout=_useFetchContentTypeL.updateLayout;var _useMemo=(0,_react.useMemo)(function(){var rawComponentsLayouts={};var rawContentTypeLayout={};if(layout.contentType){rawContentTypeLayout=(0,_utils.formatLayoutToApi)(layout.contentType);}if(layout.components){rawComponentsLayouts=Object.keys(layout.components).reduce(function(acc,current){acc[current]=(0,_utils.formatLayoutToApi)(layout.components[current]);return acc;},{});}return{rawContentTypeLayout:rawContentTypeLayout,rawComponentsLayouts:rawComponentsLayouts};},[layout]),rawContentTypeLayout=_useMemo.rawContentTypeLayout,rawComponentsLayouts=_useMemo.rawComponentsLayouts;if(isLoading){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null);}return/*#__PURE__*/_react["default"].createElement(_contexts.ContentTypeLayoutContext.Provider,{value:layout},/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Switch,null,/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"".concat(url,"/configurations/edit")},/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPagePermissions,{permissions:cmPermissions.singleTypesConfigurations},/*#__PURE__*/_react["default"].createElement(_EditSettingsView["default"],{components:rawComponentsLayouts,isContentTypeView:true,mainLayout:rawContentTypeLayout,slug:slug,updateLayout:updateLayout}))),/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:url,render:function render(_ref2){var state=_ref2.location.state,goBack=_ref2.history.goBack;return/*#__PURE__*/_react["default"].createElement(_EditViewLayoutManager["default"],{layout:layout,slug:slug,isSingleType:true,state:state,goBack:goBack});}})));};SingleTypeRecursivePath.propTypes={match:_propTypes["default"].shape({url:_propTypes["default"].string.isRequired,params:_propTypes["default"].shape({slug:_propTypes["default"].string.isRequired}).isRequired}).isRequired};var _default=/*#__PURE__*/(0,_react.memo)(SingleTypeRecursivePath);exports.default=_default;

/***/ }),

/***/ 98744:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.submitSucceeded=exports.setStatus=exports.setDataStructures=exports.resetProps=exports.initForm=exports.getDataSucceeded=exports.getData=void 0;var _constants=__webpack_require__(90305);var getData=function getData(){return{type:_constants.GET_DATA};};exports.getData=getData;var getDataSucceeded=function getDataSucceeded(data){return{type:_constants.GET_DATA_SUCCEEDED,data:data};};exports.getDataSucceeded=getDataSucceeded;var initForm=function initForm(rawQuery){var isSingleType=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return{type:_constants.INIT_FORM,rawQuery:rawQuery,isSingleType:isSingleType};};exports.initForm=initForm;var resetProps=function resetProps(){return{type:_constants.RESET_PROPS};};exports.resetProps=resetProps;var setDataStructures=function setDataStructures(componentsDataStructure,contentTypeDataStructure){return{type:_constants.SET_DATA_STRUCTURES,componentsDataStructure:componentsDataStructure,contentTypeDataStructure:contentTypeDataStructure};};exports.setDataStructures=setDataStructures;var setStatus=function setStatus(status){return{type:_constants.SET_STATUS,status:status};};exports.setStatus=setStatus;var submitSucceeded=function submitSucceeded(data){return{type:_constants.SUBMIT_SUCCEEDED,data:data};};exports.submitSucceeded=submitSucceeded;

/***/ }),

/***/ 22787:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var selectCrudReducer=function selectCrudReducer(state){return state['content-manager_editViewCrudReducer'];};var _default=selectCrudReducer;exports.default=_default;

/***/ }),

/***/ 26135:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _default={COMPONENT:'component',EDIT_FIELD:'editField',EDIT_RELATION:'editRelation',FIELD:'field',RELATION:'relation'};exports.default=_default;

/***/ }),

/***/ 75780:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _cloneDeep=_interopRequireDefault(__webpack_require__(50361));var arrayMoveItem=function arrayMoveItem(arr,from,to){if(Array.isArray(arr)&&from>=0&&to>=0&&from<=arr.length-1&&to<=arr.length-1){var newArray=(0,_cloneDeep["default"])(arr);var item=newArray.splice(from,1);newArray.splice(to,0,item[0]);return newArray;}return arr;};var _default=arrayMoveItem;exports.default=_default;

/***/ }),

/***/ 97635:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var checkIfAttributeIsDisplayable=function checkIfAttributeIsDisplayable(attribute){var type=attribute.type;if(type==='relation'){return!(0,_lodash.toLower)(attribute.relationType).includes('morph');}return!['json','component','dynamiczone','richtext','password'].includes(type)&&!!type;};var _default=checkIfAttributeIsDisplayable;exports.default=_default;

/***/ }),

/***/ 9882:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var createDefaultForm=function createDefaultForm(attributes,allComponentsSchema){return Object.keys(attributes).reduce(function(acc,current){var attribute=(0,_lodash.get)(attributes,[current],{});var defaultValue=attribute["default"],component=attribute.component,type=attribute.type,required=attribute.required,min=attribute.min,repeatable=attribute.repeatable;if(type==='json'){acc[current]=null;}if(type==='json'&&required===true){acc[current]={};}if(defaultValue!==undefined){acc[current]=defaultValue;}if(type==='component'){var currentComponentSchema=(0,_lodash.get)(allComponentsSchema,[component,'attributes'],{});var currentComponentDefaultForm=createDefaultForm(currentComponentSchema,allComponentsSchema);if(required===true){acc[current]=repeatable===true?[]:currentComponentDefaultForm;}if(min&&repeatable===true&&required){acc[current]=[];for(var i=0;i<min;i+=1){acc[current].push(currentComponentDefaultForm);}}}if(type==='dynamiczone'){if(required===true){acc[current]=[];}}return acc;},{});};var _default=createDefaultForm;exports.default=_default;

/***/ }),

/***/ 85410:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _lodash=__webpack_require__(96486);var _excluded=["layouts","metadatas"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var formatLayoutToApi=function formatLayoutToApi(_ref){var layouts=_ref.layouts,metadatas=_ref.metadatas,rest=(0,_objectWithoutProperties2["default"])(_ref,_excluded);var list=layouts.list.map(function(obj){if(obj.name){return obj.name;}return obj;});var editRelations=layouts.editRelations.map(function(_ref2){var name=_ref2.name;return name;});var formattedMetadatas=Object.keys(metadatas).reduce(function(acc,current){var currentMetadatas=(0,_lodash.get)(metadatas,[current],{});var editMetadatas=currentMetadatas.edit;if(editMetadatas.mainField){editMetadatas=_objectSpread(_objectSpread({},editMetadatas),{},{mainField:currentMetadatas.edit.mainField.name});}return _objectSpread(_objectSpread({},acc),{},(0,_defineProperty2["default"])({},current,{edit:editMetadatas,list:(0,_lodash.omit)(currentMetadatas.list,['mainField'])}));},{});var edit=layouts.edit.map(function(row){return row.map(function(_ref3){var name=_ref3.name,size=_ref3.size;return{name:name,size:size};});});return _objectSpread(_objectSpread({},rest),{},{layouts:{edit:edit,editRelations:editRelations,list:list},metadatas:formattedMetadatas});};var _default=formatLayoutToApi;exports.default=_default;

/***/ }),

/***/ 38913:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.addSubjectToPermissionsArray=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var addSubjectToPermissionsArray=function addSubjectToPermissionsArray(array,uid){return array.map(function(data){return _objectSpread(_objectSpread({},data),{},{subject:uid});});};exports.addSubjectToPermissionsArray=addSubjectToPermissionsArray;var generatePermissionsObject=function generatePermissionsObject(uid){var permissions={create:[{action:'plugin::content-manager.explorer.create',subject:null}],"delete":[{action:'plugin::content-manager.explorer.delete',subject:null}],publish:[{action:'plugin::content-manager.explorer.publish',subject:null}],read:[{action:'plugin::content-manager.explorer.read',subject:null}],update:[{action:'plugin::content-manager.explorer.update',subject:null}]};return Object.keys(permissions).reduce(function(acc,current){acc[current]=addSubjectToPermissionsArray(permissions[current],uid);return acc;},{});};var _default=generatePermissionsObject;exports.default=_default;

/***/ }),

/***/ 77700:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var getFieldName=function getFieldName(stringName){return stringName.split('.').filter(function(string){return(0,_lodash.isNaN)(parseInt(string,10));});};var _default=getFieldName;exports.default=_default;

/***/ }),

/***/ 1256:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var getMaxTempKey=function getMaxTempKey(arr){if(arr.length===0){return-1;}return Math.max.apply(Math,arr.map(function(o){return o.__temp_key__;}));};var _default=getMaxTempKey;exports.default=_default;

/***/ }),

/***/ 56102:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;// FIXME when back-end ready
var getRequestUrl=function getRequestUrl(path){return"/content-manager/".concat(path);};var _default=getRequestUrl;exports.default=_default;

/***/ }),

/***/ 36169:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var getTrad=function getTrad(id){return"content-manager.".concat(id);};var _default=getTrad;exports.default=_default;

/***/ }),

/***/ 28564:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "ItemTypes", ({enumerable:true,get:function get(){return _ItemTypes["default"];}}));Object.defineProperty(exports, "arrayMoveItem", ({enumerable:true,get:function get(){return _arrayMoveItem["default"];}}));Object.defineProperty(exports, "checkIfAttributeIsDisplayable", ({enumerable:true,get:function get(){return _checkIfAttributeIsDisplayable["default"];}}));Object.defineProperty(exports, "createDefaultForm", ({enumerable:true,get:function get(){return _createDefaultForm["default"];}}));Object.defineProperty(exports, "formatLayoutToApi", ({enumerable:true,get:function get(){return _formatLayoutToApi["default"];}}));Object.defineProperty(exports, "generatePermissionsObject", ({enumerable:true,get:function get(){return _generatePermissionsObject["default"];}}));Object.defineProperty(exports, "getFieldName", ({enumerable:true,get:function get(){return _getFieldName["default"];}}));Object.defineProperty(exports, "getMaxTempKey", ({enumerable:true,get:function get(){return _getMaxTempKey["default"];}}));Object.defineProperty(exports, "getRequestUrl", ({enumerable:true,get:function get(){return _getRequestUrl["default"];}}));Object.defineProperty(exports, "getTrad", ({enumerable:true,get:function get(){return _getTrad["default"];}}));Object.defineProperty(exports, "mergeMetasWithSchema", ({enumerable:true,get:function get(){return _mergeMetasWithSchema["default"];}}));Object.defineProperty(exports, "removeKeyInObject", ({enumerable:true,get:function get(){return _removeKeyInObject["default"];}}));Object.defineProperty(exports, "removePasswordFieldsFromData", ({enumerable:true,get:function get(){return _removePasswordFieldsFromData["default"];}}));var _arrayMoveItem=_interopRequireDefault(__webpack_require__(75780));var _checkIfAttributeIsDisplayable=_interopRequireDefault(__webpack_require__(97635));var _createDefaultForm=_interopRequireDefault(__webpack_require__(9882));var _formatLayoutToApi=_interopRequireDefault(__webpack_require__(85410));var _generatePermissionsObject=_interopRequireDefault(__webpack_require__(38913));var _getFieldName=_interopRequireDefault(__webpack_require__(77700));var _getMaxTempKey=_interopRequireDefault(__webpack_require__(1256));var _getRequestUrl=_interopRequireDefault(__webpack_require__(56102));var _getTrad=_interopRequireDefault(__webpack_require__(36169));var _ItemTypes=_interopRequireDefault(__webpack_require__(26135));var _mergeMetasWithSchema=_interopRequireDefault(__webpack_require__(25312));var _removeKeyInObject=_interopRequireDefault(__webpack_require__(84856));var _removePasswordFieldsFromData=_interopRequireDefault(__webpack_require__(91945));

/***/ }),

/***/ 25312:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _lodash=__webpack_require__(96486);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var mergeMetasWithSchema=function mergeMetasWithSchema(data,schemas,mainSchemaKey){var findSchema=function findSchema(refUid){return schemas.find(function(obj){return obj.uid===refUid;});};var merged=Object.assign({},data);var mainUID=data[mainSchemaKey].uid;var mainSchema=findSchema(mainUID);(0,_lodash.set)(merged,[mainSchemaKey],_objectSpread(_objectSpread({},data[mainSchemaKey]),mainSchema));Object.keys(data.components).forEach(function(compoUID){var compoSchema=findSchema(compoUID);(0,_lodash.set)(merged,['components',compoUID],_objectSpread(_objectSpread({},data.components[compoUID]),compoSchema));});return merged;};var _default=mergeMetasWithSchema;exports.default=_default;

/***/ }),

/***/ 84856:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _typeof2=_interopRequireDefault(__webpack_require__(50008));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var removeKeyInObject=function removeKeyInObject(obj,keyToRemove){if(!obj){return obj;}return Object.keys(obj).reduce(function(acc,current){var value=acc[current];if(value===null){return acc;}if(Array.isArray(value)){if(Array.isArray(acc)){acc[current]=removeKeyInObject(value,keyToRemove);return acc;}return _objectSpread(_objectSpread({},acc),{},(0,_defineProperty2["default"])({},current,value.map(function(obj){return removeKeyInObject(obj,keyToRemove);})));}if((0,_typeof2["default"])(value)==='object'){if(value._isAMomentObject===true){return _objectSpread(_objectSpread({},acc),{},(0,_defineProperty2["default"])({},current,value));}if(Array.isArray(acc)){acc[current]=removeKeyInObject(value,keyToRemove);return acc;}return _objectSpread(_objectSpread({},acc),{},(0,_defineProperty2["default"])({},current,removeKeyInObject(value,keyToRemove)));}if(current===keyToRemove){delete acc[current];}return acc;},obj);};var _default=removeKeyInObject;exports.default=_default;

/***/ }),

/***/ 91945:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var _helperPlugin=__webpack_require__(68547);var removePasswordFieldsFromData=function removePasswordFieldsFromData(data,contentTypeSchema,componentSchema){var recursiveCleanData=function recursiveCleanData(data,schema){return Object.keys(data).reduce(function(acc,current){var attrType=(0,_helperPlugin.getType)(schema,current);var value=(0,_lodash.get)(data,current);var component=(0,_helperPlugin.getOtherInfos)(schema,[current,'component']);var isRepeatable=(0,_helperPlugin.getOtherInfos)(schema,[current,'repeatable']);if(attrType==='dynamiczone'){acc[current]=value.map(function(componentValue){var subCleanedData=recursiveCleanData(componentValue,componentSchema[componentValue.__component]);return subCleanedData;});return acc;}if(attrType==='component'){if(isRepeatable){/* eslint-disable indent */acc[current]=value?value.map(function(compoData){var subCleanedData=recursiveCleanData(compoData,componentSchema[component]);return subCleanedData;}):value;/* eslint-enable indent */}else{acc[current]=value?recursiveCleanData(value,componentSchema[component]):value;}return acc;}if(attrType!=='password'){acc[current]=value;}return acc;},{});};return recursiveCleanData(data,contentTypeSchema);};var _default=removePasswordFieldsFromData;exports.default=_default;

/***/ }),

/***/ 5531:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _objectWithoutProperties2=_interopRequireDefault(__webpack_require__(6479));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _hooks=__webpack_require__(73460);var _excluded=["area"];var InjectionZone=function InjectionZone(_ref){var area=_ref.area,props=(0,_objectWithoutProperties2["default"])(_ref,_excluded);var compos=(0,_hooks.useInjectionZone)(area);return compos.map(function(compo){return/*#__PURE__*/_react["default"].createElement(compo.Component,(0,_extends2["default"])({key:compo.name},props));});};InjectionZone.propTypes={area:_propTypes["default"].string.isRequired};var _default=InjectionZone;exports.default=_default;

/***/ }),

/***/ 78024:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "InjectionZone", ({enumerable:true,get:function get(){return _InjectionZone["default"];}}));var _InjectionZone=_interopRequireDefault(__webpack_require__(5531));

/***/ }),

/***/ 73460:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "useAdminProvider", ({enumerable:true,get:function get(){return _useAdminProvider["default"];}}));Object.defineProperty(exports, "useInjectionZone", ({enumerable:true,get:function get(){return _useInjectionZone["default"];}}));var _useAdminProvider=_interopRequireDefault(__webpack_require__(76710));var _useInjectionZone=_interopRequireDefault(__webpack_require__(48721));

/***/ }),

/***/ 76710:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=__webpack_require__(67294);var _contexts=__webpack_require__(66592);var useAdminProvider=function useAdminProvider(){var context=(0,_react.useContext)(_contexts.AdminContext);return context;};var _default=useAdminProvider;exports.default=_default;

/***/ }),

/***/ 48721:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _useAdminProvider2=_interopRequireDefault(__webpack_require__(76710));var useInjectionZone=function useInjectionZone(area){var _useAdminProvider=(0,_useAdminProvider2["default"])(),getAdminInjectedComponents=_useAdminProvider.getAdminInjectedComponents;var _area$split=area.split('.'),_area$split2=(0,_slicedToArray2["default"])(_area$split,3),moduleName=_area$split2[0],page=_area$split2[1],position=_area$split2[2];return getAdminInjectedComponents(moduleName,page,position);};var _default=useInjectionZone;exports.default=_default;

/***/ }),

/***/ 22868:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 14777:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 99830:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 70209:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 87414:
/***/ (() => {

/* (ignored) */

/***/ })

}]);