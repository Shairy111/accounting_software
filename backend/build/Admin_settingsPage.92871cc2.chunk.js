(self["webpackChunkbackend"] = self["webpackChunkbackend"] || []).push([[5895],{

/***/ 78924:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _reactIntl=__webpack_require__(97132);var _Portal=__webpack_require__(59471);var _FocusTrap=__webpack_require__(24824);var _IconButton=__webpack_require__(30741);var _LinkButton=__webpack_require__(60985);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Stack=__webpack_require__(9008);var _ExternalLink=_interopRequireDefault(__webpack_require__(43257));var _Cross=_interopRequireDefault(__webpack_require__(84040));var _helperPlugin=__webpack_require__(68547);var _hotAirBalloon=_interopRequireDefault(__webpack_require__(61228));var _upgradeDetails=_interopRequireDefault(__webpack_require__(26487));var UpgradeWrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"UpgradePlanModal__UpgradeWrapper",componentId:"sc-8aur7y-0"})(["position:absolute;z-index:3;inset:0;background:",";padding:0 ",";"],function(_ref){var theme=_ref.theme;return(0,_helperPlugin.setHexOpacity)(theme.colors.neutral800,0.2);},function(_ref2){var theme=_ref2.theme;return theme.spaces[8];});var UpgradeContainer=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"UpgradePlanModal__UpgradeContainer",componentId:"sc-8aur7y-1"})(["position:relative;max-width:","rem;height:","rem;margin:0 auto;overflow:hidden;margin-top:10%;padding-left:","rem;img:first-of-type{position:absolute;right:0;top:0;max-width:","rem;}img:not(:first-of-type){width:","rem;margin-left:12%;margin-right:","rem;z-index:0;}"],830/16,415/16,64/16,360/16,130/16,20/16);var StackFlexStart=/*#__PURE__*/(0,_styledComponents["default"])(_Stack.Stack).withConfig({displayName:"UpgradePlanModal__StackFlexStart",componentId:"sc-8aur7y-2"})(["align-items:flex-start;max-width:","rem;z-index:0;"],400/16);var CloseButtonContainer=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"UpgradePlanModal__CloseButtonContainer",componentId:"sc-8aur7y-3"})(["position:absolute;right:",";top:",";"],function(_ref3){var theme=_ref3.theme;return theme.spaces[4];},function(_ref4){var theme=_ref4.theme;return theme.spaces[4];});var UpgradePlanModal=function UpgradePlanModal(_ref5){var onClose=_ref5.onClose,isOpen=_ref5.isOpen;(0,_helperPlugin.useLockScroll)(isOpen);var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;if(!isOpen){return null;}return/*#__PURE__*/_react["default"].createElement(_Portal.Portal,null,/*#__PURE__*/_react["default"].createElement(UpgradeWrapper,null,/*#__PURE__*/_react["default"].createElement(_FocusTrap.FocusTrap,{onEscape:onClose},/*#__PURE__*/_react["default"].createElement(UpgradeContainer,{"aria-labelledby":"upgrade-plan",background:"neutral0",hasRadius:true},/*#__PURE__*/_react["default"].createElement("img",{src:_hotAirBalloon["default"],alt:"air-balloon"}),/*#__PURE__*/_react["default"].createElement(CloseButtonContainer,null,/*#__PURE__*/_react["default"].createElement(_IconButton.IconButton,{onClick:onClose,"aria-label":"Close",icon:/*#__PURE__*/_react["default"].createElement(_Cross["default"],null)})),/*#__PURE__*/_react["default"].createElement(StackFlexStart,{size:6},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold",textColor:"primary600"},formatMessage({id:'app.components.UpgradePlanModal.text-ce',defaultMessage:'COMMUNITY EDITION'})),/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:2},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"alpha",as:"h2",id:"upgrade-plan"},formatMessage({id:'app.components.UpgradePlanModal.limit-reached',defaultMessage:'You have reached the limit'})),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,null,formatMessage({id:'app.components.UpgradePlanModal.text-power',defaultMessage:'Unlock the full power of Strapi by upgrading your plan to the Enterprise Edition'}))),/*#__PURE__*/_react["default"].createElement(_LinkButton.LinkButton,{href:"https://strapi.io/pricing-self-hosted",endIcon:/*#__PURE__*/_react["default"].createElement(_ExternalLink["default"],null)},formatMessage({id:'app.components.UpgradePlanModal.button',defaultMessage:'Learn more'}))),/*#__PURE__*/_react["default"].createElement("img",{src:_upgradeDetails["default"],alt:"upgrade-arrow"})))));};UpgradePlanModal.propTypes={onClose:_propTypes["default"].func.isRequired,isOpen:_propTypes["default"].bool.isRequired};var _default=UpgradePlanModal;exports.default=_default;

/***/ }),

/***/ 37077:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _react=_interopRequireDefault(__webpack_require__(67294));var _SubNav=__webpack_require__(4021);var _reactIntl=__webpack_require__(97132);var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _utils=__webpack_require__(77040);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var SettingsNav=function SettingsNav(_ref){var menu=_ref.menu;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var filteredMenu=(0,_utils.getSectionsToDisplay)(menu);var sections=filteredMenu.map(function(section){return _objectSpread(_objectSpread({},section),{},{title:section.intlLabel,links:section.links.map(function(link){return _objectSpread(_objectSpread({},link),{},{title:link.intlLabel,name:link.id});})});});var label=formatMessage({id:'app.components.LeftMenuLinkContainer.settings'});return/*#__PURE__*/_react["default"].createElement(_SubNav.SubNav,{ariaLabel:label},/*#__PURE__*/_react["default"].createElement(_SubNav.SubNavHeader,{label:label}),/*#__PURE__*/_react["default"].createElement(_SubNav.SubNavSections,null,sections.map(function(section){return/*#__PURE__*/_react["default"].createElement(_SubNav.SubNavSection,{key:section.id,label:formatMessage(section.intlLabel)},section.links.map(function(link){return/*#__PURE__*/_react["default"].createElement(_SubNav.SubNavLink,{withBullet:link.hasNotification,to:link.to,key:link.id},formatMessage(link.intlLabel));}));})));};SettingsNav.propTypes={menu:_propTypes["default"].array.isRequired};var _default=SettingsNav;exports.default=_default;

/***/ }),

/***/ 91097:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.SettingsPage=SettingsPage;exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _helperPlugin=__webpack_require__(68547);var _reactRouterDom=__webpack_require__(39711);var _Layout=__webpack_require__(78862);var _reactIntl=__webpack_require__(97132);var _reactHelmet=__webpack_require__(15482);var _hooks=__webpack_require__(63376);var _utils=__webpack_require__(26595);var _ApplicationInfosPage=_interopRequireDefault(__webpack_require__(70512));var _utils2=__webpack_require__(77040);var _SettingsNav=_interopRequireDefault(__webpack_require__(37077));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}/**
 *
 * SettingsPage
 *
 */ // NOTE TO PLUGINS DEVELOPERS:
// If you modify this file you also need to update the documentation accordingly
// Here's the file: strapi/docs/3.0.0-beta.x/plugin-development/frontend-settings-api.md
// IF THE DOC IS NOT UPDATED THE PULL REQUEST WILL NOT BE MERGED
function SettingsPage(){var _useParams=(0,_reactRouterDom.useParams)(),settingId=_useParams.settingId;var _useStrapiApp=(0,_helperPlugin.useStrapiApp)(),settings=_useStrapiApp.settings;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useSettingsMenu=(0,_hooks.useSettingsMenu)(),isLoading=_useSettingsMenu.isLoading,menu=_useSettingsMenu.menu;// Creates the admin routes
var adminRoutes=(0,_react.useMemo)(function(){return(0,_utils.makeUniqueRoutes)(_utils2.routes.map(function(_ref){var to=_ref.to,Component=_ref.Component,exact=_ref.exact;return(0,_utils.createRoute)(Component,to,exact);}));},[]);var pluginsRoutes=(0,_utils2.createSectionsRoutes)(settings);// Since the useSettingsMenu hook can make API calls in order to check the links permissions
// We need to add a loading state to prevent redirecting the user while permissions are being checked
if(isLoading){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null);}if(!settingId){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:"/settings/application-infos"});}var settingTitle=formatMessage({id:'app.components.LeftMenuLinkContainer.settings',defaultMessage:'Settings'});return/*#__PURE__*/_react["default"].createElement(_Layout.Layout,{sideNav:/*#__PURE__*/_react["default"].createElement(_SettingsNav["default"],{menu:menu})},/*#__PURE__*/_react["default"].createElement(_reactHelmet.Helmet,{title:settingTitle}),/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Switch,null,/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Route,{path:"/settings/application-infos",component:_ApplicationInfosPage["default"],exact:true}),adminRoutes,pluginsRoutes));}var _default=/*#__PURE__*/(0,_react.memo)(SettingsPage);exports.default=_default;

/***/ }),

/***/ 70512:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _reactIntl=__webpack_require__(97132);var _helperPlugin=__webpack_require__(68547);var _Layout=__webpack_require__(78862);var _Main=__webpack_require__(62031);var _Box=__webpack_require__(5493);var _Grid=__webpack_require__(34626);var _Typography=__webpack_require__(49425);var _Stack=__webpack_require__(9008);var _Link=__webpack_require__(85104);var _ExternalLink=_interopRequireDefault(__webpack_require__(43257));var ApplicationInfosPage=function ApplicationInfosPage(){var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;(0,_helperPlugin.useFocusWhenNavigate)();var appInfos=(0,_helperPlugin.useAppInfos)();var shouldUpdateStrapi=appInfos.shouldUpdateStrapi,latestStrapiReleaseTag=appInfos.latestStrapiReleaseTag,strapiVersion=appInfos.strapiVersion;var currentPlan=appInfos.communityEdition?'app.components.UpgradePlanModal.text-ce':'app.components.UpgradePlanModal.text-ee';return/*#__PURE__*/_react["default"].createElement(_Layout.Layout,null,/*#__PURE__*/_react["default"].createElement(_helperPlugin.SettingsPageTitle,{name:"Application"}),/*#__PURE__*/_react["default"].createElement(_Main.Main,null,/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{title:formatMessage({id:'Settings.application.title',defaultMessage:'Application'}),subtitle:formatMessage({id:'Settings.application.description',defaultMessage:"See your project's details"})}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{hasRadius:true,background:"neutral0",shadow:"tableShadow",paddingTop:7,paddingBottom:7,paddingRight:6,paddingLeft:6},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:5},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"delta",as:"h3"},formatMessage({id:'Settings.application.information',defaultMessage:'Information'})),/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{paddingTop:1},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6,s:12},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.application.details',defaultMessage:'details'})),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{as:"p"},"v",strapiVersion)),/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6,s:12},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.application.edition-title',defaultMessage:'current plan'})),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{as:"p"},formatMessage({id:currentPlan,defaultMessage:"".concat(appInfos.communityEdition?'Community Edition':'Enterprise Edition')})))),/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{paddingTop:1},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6,s:12},shouldUpdateStrapi&&/*#__PURE__*/_react["default"].createElement(_Link.Link,{href:"https://github.com/strapi/strapi/releases/tag/".concat(latestStrapiReleaseTag),endIcon:/*#__PURE__*/_react["default"].createElement(_ExternalLink["default"],null)},formatMessage({id:'Settings.application.link-upgrade',defaultMessage:'Upgrade your admin panel'}))),/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6,s:12},/*#__PURE__*/_react["default"].createElement(_Link.Link,{href:"https://strapi.io/pricing-self-hosted",endIcon:/*#__PURE__*/_react["default"].createElement(_ExternalLink["default"],null)},formatMessage({id:'Settings.application.link-pricing',defaultMessage:'See all pricing'})))),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingTop:1},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.application.node-version',defaultMessage:'node version'})),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{as:"p"},appInfos.nodeVersion)))))));};var _default=ApplicationInfosPage;exports.default=_default;

/***/ }),

/***/ 7126:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var __webpack_unused_export__;
var _interopRequireDefault=__webpack_require__(95318);__webpack_unused_export__ = ({value:true});exports.Z=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _reactRouterDom=__webpack_require__(39711);var CreatePage=function CreatePage(){return/*#__PURE__*/_react["default"].createElement(_reactRouterDom.Redirect,{to:"/404"});};var _default=CreatePage;exports.Z=_default;

/***/ }),

/***/ 21950:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Flex=__webpack_require__(67826);var CollapseLabel=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"CollapseLabel",componentId:"sc-1ssinbk-0"})(["padding-right:",";overflow:hidden;flex:1;",""],function(_ref){var theme=_ref.theme;return theme.spaces[2];},function(_ref2){var isCollapsable=_ref2.isCollapsable;return isCollapsable&&'cursor: pointer;';});var _default=CollapseLabel;exports.default=_default;

/***/ }),

/***/ 30380:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Cog=_interopRequireDefault(__webpack_require__(70736));var _Button=__webpack_require__(19408);var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var Wrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"ConditionsButton__Wrapper",componentId:"wd45es-0"})(["position:relative;",""],function(_ref){var hasConditions=_ref.hasConditions,disabled=_ref.disabled,theme=_ref.theme;return hasConditions&&"\n    &:before {\n      content: '';\n      position: absolute;\n      top: -3px;\n      left: -10px;\n      width: 6px;\n      height: 6px;\n      border-radius: ".concat(20/16,"rem;;\n      background: ").concat(disabled?theme.colors.neutral100:theme.colors.primary600,";\n    }\n  ");});var ConditionsButton=function ConditionsButton(_ref2){var onClick=_ref2.onClick,className=_ref2.className,hasConditions=_ref2.hasConditions,variant=_ref2.variant;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(Wrapper,{hasConditions:hasConditions,className:className},/*#__PURE__*/_react["default"].createElement(_Button.Button,{variant:variant,startIcon:/*#__PURE__*/_react["default"].createElement(_Cog["default"],null),onClick:onClick},formatMessage({id:'app.components.LeftMenuLinkContainer.settings',defaultMessage:'Settings'})));};ConditionsButton.defaultProps={className:null,hasConditions:false,variant:'tertiary'};ConditionsButton.propTypes={onClick:_propTypes["default"].func.isRequired,className:_propTypes["default"].string,hasConditions:_propTypes["default"].bool,variant:_propTypes["default"].string};// This is a styled component advanced usage :
// Used to make a ref to a non styled component.
// https://styled-components.com/docs/advanced#caveat
var _default=(0,_styledComponents["default"])(ConditionsButton).withConfig({displayName:"ConditionsButton",componentId:"wd45es-1"})([""]);exports.default=_default;

/***/ }),

/***/ 63014:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _Select=__webpack_require__(43808);var _upperFirst=_interopRequireDefault(__webpack_require__(11700));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _constants=__webpack_require__(12037);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var IS_DISABLED=function(){if(window&&window.strapi&&window.strapi.isEE){return __webpack_require__(6561)/* .default */ .Z;}return __webpack_require__(83292)/* .default */ .Z;}();var FlexWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"ActionRow__FlexWrapper",componentId:"sc-1bqpgdl-0"})(["height:",";"],_constants.rowHeight);var ActionRow=function ActionRow(_ref){var arrayOfOptionsGroupedByCategory=_ref.arrayOfOptionsGroupedByCategory,isFormDisabled=_ref.isFormDisabled,isGrey=_ref.isGrey,label=_ref.label,name=_ref.name,onChange=_ref.onChange,value=_ref.value;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var options=arrayOfOptionsGroupedByCategory.reduce(function(arr,curr){var _curr=(0,_slicedToArray2["default"])(curr,2),label=_curr[0],children=_curr[1];var obj={label:(0,_upperFirst["default"])(label),children:children.map(function(child){return{label:child.displayName,value:child.id};})};return[].concat((0,_toConsumableArray2["default"])(arr),[obj]);},[]);// Output: ['value1', 'value2']
var values=Object.values(value).map(function(x){return Object.entries(x).filter(function(_ref2){var _ref3=(0,_slicedToArray2["default"])(_ref2,2),value=_ref3[1];return value;}).map(function(_ref4){var _ref5=(0,_slicedToArray2["default"])(_ref4,1),key=_ref5[0];return key;});}).flat();// ! Only expects arrayOfOpt to be [['default', obj]] - might break in future changes
var handleChange=function handleChange(val){var _arrayOfOptionsGroupe=(0,_slicedToArray2["default"])(arrayOfOptionsGroupedByCategory,1),_arrayOfOptionsGroupe2=(0,_slicedToArray2["default"])(_arrayOfOptionsGroupe[0],2),values=_arrayOfOptionsGroupe2[1];var formattedValues=values.reduce(function(acc,curr){return _objectSpread((0,_defineProperty2["default"])({},curr.id,val.includes(curr.id)),acc);},{});onChange(name,formattedValues);};return/*#__PURE__*/_react["default"].createElement(FlexWrapper,{as:"li",background:isGrey?'neutral100':'neutral0'},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{paddingLeft:6,style:{width:180}},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.permissions.conditions.can',defaultMessage:'Can'}),"\xA0"),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",title:label,textColor:"primary600",ellipsis:true},formatMessage({id:"Settings.roles.form.permissions.".concat(label.toLowerCase()),defaultMessage:label})),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},"\xA0",formatMessage({id:'Settings.permissions.conditions.when',defaultMessage:'When'}))),/*#__PURE__*/_react["default"].createElement(_Box.Box,{style:{maxWidth:430,width:'100%'}},/*#__PURE__*/_react["default"].createElement(_Select.MultiSelectNested,{id:name,customizeContent:function customizeContent(values){return"".concat(values.length," currently selected");},onChange:handleChange,value:values,options:options,disabled:isFormDisabled||IS_DISABLED})));};ActionRow.propTypes={arrayOfOptionsGroupedByCategory:_propTypes["default"].array.isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,isGrey:_propTypes["default"].bool.isRequired,label:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,value:_propTypes["default"].object.isRequired,onChange:_propTypes["default"].func.isRequired};var _default=ActionRow;exports.default=_default;

/***/ }),

/***/ 83292:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=true;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 47173:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _Button=__webpack_require__(19408);var _Divider=__webpack_require__(14276);var _Stack=__webpack_require__(9008);var _ModalLayout=__webpack_require__(75146);var _Breadcrumbs=__webpack_require__(68115);var _Typography=__webpack_require__(49425);var _immer=_interopRequireDefault(__webpack_require__(66312));var _get=_interopRequireDefault(__webpack_require__(27361));var _groupBy=_interopRequireDefault(__webpack_require__(7739));var _upperFirst=_interopRequireDefault(__webpack_require__(11700));var _reactIntl=__webpack_require__(97132);var _hooks=__webpack_require__(63376);var _ActionRow=_interopRequireDefault(__webpack_require__(63014));var _createDefaultConditionsForm=_interopRequireDefault(__webpack_require__(13659));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var ConditionsModal=function ConditionsModal(_ref){var actions=_ref.actions,headerBreadCrumbs=_ref.headerBreadCrumbs,isFormDisabled=_ref.isFormDisabled,onClosed=_ref.onClosed,onToggle=_ref.onToggle;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _usePermissionsDataMa=(0,_hooks.usePermissionsDataManager)(),availableConditions=_usePermissionsDataMa.availableConditions,modifiedData=_usePermissionsDataMa.modifiedData,onChangeConditions=_usePermissionsDataMa.onChangeConditions;var arrayOfOptionsGroupedByCategory=(0,_react.useMemo)(function(){return Object.entries((0,_groupBy["default"])(availableConditions,'category'));},[availableConditions]);var actionsToDisplay=actions.filter(function(_ref2){var isDisplayed=_ref2.isDisplayed,hasSomeActionsSelected=_ref2.hasSomeActionsSelected,hasAllActionsSelected=_ref2.hasAllActionsSelected;return isDisplayed&&(hasSomeActionsSelected||hasAllActionsSelected);});var initState=(0,_react.useMemo)(function(){return(0,_createDefaultConditionsForm["default"])(actionsToDisplay,modifiedData,arrayOfOptionsGroupedByCategory);},[actionsToDisplay,modifiedData,arrayOfOptionsGroupedByCategory]);var _useState=(0,_react.useState)(initState),_useState2=(0,_slicedToArray2["default"])(_useState,2),state=_useState2[0],setState=_useState2[1];var handleChange=function handleChange(name,values){setState((0,_immer["default"])(function(draft){if(!draft[name]){draft[name]={};}if(!draft[name]["default"]){draft[name]["default"]={};}draft[name]["default"]=values;}));};var handleSubmit=function handleSubmit(){var conditionsWithoutCategory=Object.entries(state).reduce(function(acc,current){var _current=(0,_slicedToArray2["default"])(current,2),key=_current[0],value=_current[1];var merged=Object.values(value).reduce(function(acc1,current1){return _objectSpread(_objectSpread({},acc1),current1);},{});acc[key]=merged;return acc;},{});onChangeConditions(conditionsWithoutCategory);onToggle();};return/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalLayout,{labelledBy:"condition-modal-breadcrumbs",onClose:onClosed},/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalHeader,null,/*#__PURE__*/_react["default"].createElement(_Breadcrumbs.Breadcrumbs,{id:"condition-modal-breadcrumbs",label:headerBreadCrumbs.join(', ')},headerBreadCrumbs.map(function(label){return/*#__PURE__*/_react["default"].createElement(_Breadcrumbs.Crumb,{key:label},(0,_upperFirst["default"])(formatMessage({id:label,defaultMessage:label})));}))),/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:8},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:6},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"beta",as:"h2"},formatMessage({id:'Settings.permissions.conditions.define-conditions',defaultMessage:'Define conditions'})),/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Divider.Divider,null)),/*#__PURE__*/_react["default"].createElement(_Box.Box,null,actionsToDisplay.length===0&&/*#__PURE__*/_react["default"].createElement(_Typography.Typography,null,formatMessage({id:'Settings.permissions.conditions.no-actions',defaultMessage:'You first need to select actions (create, read, update, ...) before defining conditions on them.'})),/*#__PURE__*/_react["default"].createElement("ul",null,actionsToDisplay.map(function(_ref3,index){var actionId=_ref3.actionId,label=_ref3.label,pathToConditionsObject=_ref3.pathToConditionsObject;var name=pathToConditionsObject.join('..');return/*#__PURE__*/_react["default"].createElement(_ActionRow["default"],{key:actionId,arrayOfOptionsGroupedByCategory:arrayOfOptionsGroupedByCategory,label:label,isFormDisabled:isFormDisabled,isGrey:index%2===0,name:name,onChange:handleChange,value:(0,_get["default"])(state,name,{})});}))))),/*#__PURE__*/_react["default"].createElement(_ModalLayout.ModalFooter,{startActions:/*#__PURE__*/_react["default"].createElement(_Button.Button,{variant:"tertiary",onClick:onToggle},formatMessage({id:'app.components.Button.cancel',defaultMessage:'Cancel'})),endActions:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:handleSubmit},formatMessage({id:'Settings.permissions.conditions.apply',defaultMessage:'Apply'}))}));};ConditionsModal.propTypes={actions:_propTypes["default"].arrayOf(_propTypes["default"].shape({actionId:_propTypes["default"].string.isRequired,checkboxName:_propTypes["default"].string,hasSomeActionsSelected:_propTypes["default"].bool.isRequired,hasAllActionsSelected:_propTypes["default"].bool,isDisplayed:_propTypes["default"].bool.isRequired,label:_propTypes["default"].string})).isRequired,headerBreadCrumbs:_propTypes["default"].arrayOf(_propTypes["default"].string).isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,onClosed:_propTypes["default"].func.isRequired,onToggle:_propTypes["default"].func.isRequired};var _default=ConditionsModal;exports.default=_default;

/***/ }),

/***/ 13659:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.createConditionsForm=exports.createCategoryForm=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _lodash=__webpack_require__(96486);var createConditionsForm=function createConditionsForm(conditions,valueObject){return conditions.reduce(function(acc,current){acc[current.id]=(0,_lodash.get)(valueObject,current.id,false);return acc;},{});};exports.createConditionsForm=createConditionsForm;var createCategoryForm=function createCategoryForm(arrayOfOptions,valueObject){return arrayOfOptions.reduce(function(acc,current){var _current=(0,_slicedToArray2["default"])(current,2),categoryName=_current[0],relatedConditions=_current[1];var conditionsForm=createConditionsForm(relatedConditions,valueObject);acc[categoryName]=conditionsForm;return acc;},{});};exports.createCategoryForm=createCategoryForm;var createDefaultConditionsForm=function createDefaultConditionsForm(actionsToDisplay,modifiedData,arrayOfOptionsGroupedByCategory){return actionsToDisplay.reduce(function(acc,current){var valueFromModifiedData=(0,_lodash.get)(modifiedData,[].concat((0,_toConsumableArray2["default"])(current.pathToConditionsObject),['conditions']),{});var categoryDefaultForm=createCategoryForm(arrayOfOptionsGroupedByCategory,valueFromModifiedData);acc[current.pathToConditionsObject.join('..')]=categoryDefaultForm;return acc;},{});};var _default=createDefaultConditionsForm;exports.default=_default;

/***/ }),

/***/ 62358:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ChevronDown=_interopRequireDefault(__webpack_require__(11132));var _ChevronUp=_interopRequireDefault(__webpack_require__(64763));var _BaseCheckbox=__webpack_require__(59522);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _get=_interopRequireDefault(__webpack_require__(27361));var _omit=_interopRequireDefault(__webpack_require__(57557));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _hooks=__webpack_require__(63376);var _ConditionsButton=_interopRequireDefault(__webpack_require__(30380));var _ConditionsModal=_interopRequireDefault(__webpack_require__(47173));var _HiddenAction=_interopRequireDefault(__webpack_require__(7457));var _constants=__webpack_require__(12037);var _RowLabelWithCheckbox=_interopRequireDefault(__webpack_require__(43148));var _utils=__webpack_require__(89362);var _generateCheckboxesActions=_interopRequireDefault(__webpack_require__(92168));var _activeStyle=_interopRequireDefault(__webpack_require__(73185));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var IS_DISABLED=function(){if(window&&window.strapi&&window.strapi.isEE){return __webpack_require__(38706)/* .default */ .Z;}return __webpack_require__(44827)/* .default */ .Z;}();var activeRowStyle=function activeRowStyle(theme,isActive){return"\n  ".concat(Wrapper," {\n    background-color: ").concat(theme.colors.primary100,";\n    color: ").concat(theme.colors.primary600,";\n    border-radius: ").concat(isActive?'2px 2px 0 0':'2px',";\n  }\n  ").concat(Chevron," {\n    display: flex;\n  }\n  ").concat(_ConditionsButton["default"]," {\n    display: block;\n  }\n  &:hover {\n   ").concat((0,_activeStyle["default"])(theme),"\n  }\n\n  &:focus-within {\n    ").concat(function(_ref){var theme=_ref.theme,isActive=_ref.isActive;return activeRowStyle(theme,isActive);},"\n  }\n  \n");};var Wrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"Collapse__Wrapper",componentId:"sc-132fji1-0"})(["flex:1;display:flex;align-items:center;height:",";background-color:",";border:1px solid transparent;"],_constants.rowHeight,function(_ref2){var isGrey=_ref2.isGrey,theme=_ref2.theme;return isGrey?theme.colors.neutral100:theme.colors.neutral0;});var BoxWrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"Collapse__BoxWrapper",componentId:"sc-132fji1-1"})(["display:inline-flex;min-width:100%;","{display:none;}"," &:hover{","}"],_ConditionsButton["default"],function(_ref3){var isActive=_ref3.isActive,theme=_ref3.theme;return isActive&&activeRowStyle(theme,isActive);},function(_ref4){var theme=_ref4.theme,isActive=_ref4.isActive;return activeRowStyle(theme,isActive);});var Cell=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"Collapse__Cell",componentId:"sc-132fji1-2"})(["width:",";position:relative;"],_constants.cellWidth);var Chevron=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Collapse__Chevron",componentId:"sc-132fji1-3"})(["display:none;svg{width:11px;}*{fill:",";}"],function(_ref5){var theme=_ref5.theme;return theme.colors.primary600;});var TinyDot=/*#__PURE__*/_styledComponents["default"].span.withConfig({displayName:"Collapse__TinyDot",componentId:"sc-132fji1-4"})(["position:absolute;top:-6px;left:37px;width:6px;height:6px;border-radius:20px;background:",";"],function(_ref6){var theme=_ref6.theme;return theme.colors.primary600;});var AbsoluteBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Collapse__AbsoluteBox",componentId:"sc-132fji1-5"})(["position:absolute;right:9px;transform:translateY(10px);"]);var Collapse=function Collapse(_ref7){var availableActions=_ref7.availableActions,isActive=_ref7.isActive,isGrey=_ref7.isGrey,isFormDisabled=_ref7.isFormDisabled,label=_ref7.label,onClickToggle=_ref7.onClickToggle,pathToData=_ref7.pathToData;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isModalOpen=_useState2[0],setModalOpen=_useState2[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _usePermissionsDataMa=(0,_hooks.usePermissionsDataManager)(),modifiedData=_usePermissionsDataMa.modifiedData,onChangeParentCheckbox=_usePermissionsDataMa.onChangeParentCheckbox,onChangeSimpleCheckbox=_usePermissionsDataMa.onChangeSimpleCheckbox;var handleToggleModalIsOpen=function handleToggleModalIsOpen(){setModalOpen(function(s){return!s;});};var handleModalClose=function handleModalClose(){setModalOpen(false);};// This corresponds to the data related to the CT left checkbox
// modifiedData: { collectionTypes: { [ctuid]: {create: {properties: { fields: {f1: true} }, update: {}, ... } } } }
var mainData=(0,_get["default"])(modifiedData,pathToData.split('..'),{});// The utils we are using: getCheckboxState, retrieves all the boolean leafs of an object in order
// to return the state of checkbox. Since the conditions are not related to the property we need to remove the key from the object.
var dataWithoutCondition=(0,_react.useMemo)(function(){return Object.keys(mainData).reduce(function(acc,current){acc[current]=(0,_omit["default"])(mainData[current],'conditions');return acc;},{});},[mainData]);var _getCheckboxState=(0,_utils.getCheckboxState)(dataWithoutCondition),hasAllActionsSelected=_getCheckboxState.hasAllActionsSelected,hasSomeActionsSelected=_getCheckboxState.hasSomeActionsSelected;// Here we create an array of <checkbox>, since the state of each one of them is used in
// order to know if whether or not we need to display the associated action in
// the <ConditionsModal />
var checkboxesActions=(0,_react.useMemo)(function(){return(0,_generateCheckboxesActions["default"])(availableActions,modifiedData,pathToData);},[availableActions,modifiedData,pathToData]);var doesConditionButtonHasConditions=checkboxesActions.some(function(_ref8){var hasConditions=_ref8.hasConditions;return hasConditions;});return/*#__PURE__*/_react["default"].createElement(BoxWrapper,{isActive:isActive},/*#__PURE__*/_react["default"].createElement(Wrapper,{isGrey:isGrey},/*#__PURE__*/_react["default"].createElement(_RowLabelWithCheckbox["default"],{isCollapsable:true,isFormDisabled:isFormDisabled,label:label,checkboxName:pathToData,onChange:onChangeParentCheckbox,onClick:onClickToggle,someChecked:hasSomeActionsSelected,value:hasAllActionsSelected,isActive:isActive},/*#__PURE__*/_react["default"].createElement(Chevron,{paddingLeft:2},isActive?/*#__PURE__*/_react["default"].createElement(_ChevronUp["default"],null):/*#__PURE__*/_react["default"].createElement(_ChevronDown["default"],null))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{style:{flex:1}},checkboxesActions.map(function(_ref9){var actionId=_ref9.actionId,hasConditions=_ref9.hasConditions,hasAllActionsSelected=_ref9.hasAllActionsSelected,hasSomeActionsSelected=_ref9.hasSomeActionsSelected,isDisplayed=_ref9.isDisplayed,isParentCheckbox=_ref9.isParentCheckbox,checkboxName=_ref9.checkboxName,permissionLabel=_ref9.label;if(!isDisplayed){return/*#__PURE__*/_react["default"].createElement(_HiddenAction["default"],{key:actionId});}if(isParentCheckbox){return/*#__PURE__*/_react["default"].createElement(Cell,{key:actionId,justifyContent:"center",alignItems:"center"},hasConditions&&/*#__PURE__*/_react["default"].createElement(TinyDot,null),/*#__PURE__*/_react["default"].createElement(_BaseCheckbox.BaseCheckbox,{disabled:isFormDisabled||IS_DISABLED,name:checkboxName,"aria-label":formatMessage({id:"Settings.permissions.select-by-permission",defaultMessage:'Select {label} permission'},{label:"".concat(permissionLabel," ").concat(label)})// Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91
,onValueChange:function onValueChange(value){onChangeParentCheckbox({target:{name:checkboxName,value:value}});},indeterminate:hasSomeActionsSelected,value:hasAllActionsSelected}));}return/*#__PURE__*/_react["default"].createElement(Cell,{key:actionId,justifyContent:"center",alignItems:"center"},hasConditions&&/*#__PURE__*/_react["default"].createElement(TinyDot,null),/*#__PURE__*/_react["default"].createElement(_BaseCheckbox.BaseCheckbox,{disabled:isFormDisabled||IS_DISABLED,indeterminate:hasConditions,name:checkboxName// Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91
,onValueChange:function onValueChange(value){onChangeSimpleCheckbox({target:{name:checkboxName,value:value}});},value:hasAllActionsSelected}));})),isModalOpen&&/*#__PURE__*/_react["default"].createElement(_ConditionsModal["default"],{headerBreadCrumbs:[label,'app.components.LeftMenuLinkContainer.settings'],actions:checkboxesActions,isFormDisabled:isFormDisabled,onClosed:handleModalClose,onToggle:handleToggleModalIsOpen})),/*#__PURE__*/_react["default"].createElement(AbsoluteBox,null,/*#__PURE__*/_react["default"].createElement(_ConditionsButton["default"],{onClick:handleToggleModalIsOpen,hasConditions:doesConditionButtonHasConditions})));};Collapse.propTypes={availableActions:_propTypes["default"].array.isRequired,isActive:_propTypes["default"].bool.isRequired,isGrey:_propTypes["default"].bool.isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,label:_propTypes["default"].string.isRequired,onClickToggle:_propTypes["default"].func.isRequired,pathToData:_propTypes["default"].string.isRequired};var _default=Collapse;exports.default=_default;

/***/ }),

/***/ 44827:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=true;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 92168:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _lodash=__webpack_require__(96486);var _utils=__webpack_require__(89362);var generateCheckboxesActions=function generateCheckboxesActions(availableActions,modifiedData,pathToData){return availableActions.map(function(_ref){var actionId=_ref.actionId,isDisplayed=_ref.isDisplayed,applyToProperties=_ref.applyToProperties,label=_ref.label;if(!isDisplayed){return{actionId:actionId,hasSomeActionsSelected:false,isDisplayed:isDisplayed};}var baseCheckboxNameArray=[].concat((0,_toConsumableArray2["default"])(pathToData.split('..')),[actionId]);var checkboxNameArray=(0,_lodash.isEmpty)(applyToProperties)?[].concat((0,_toConsumableArray2["default"])(baseCheckboxNameArray),['properties','enabled']):baseCheckboxNameArray;var checkboxName=checkboxNameArray.join('..');var conditionsValue=(0,_lodash.get)(modifiedData,[].concat((0,_toConsumableArray2["default"])(baseCheckboxNameArray),['conditions']),null);var hasConditions=(0,_utils.createArrayOfValues)(conditionsValue).some(function(val){return val;});if((0,_lodash.isEmpty)(applyToProperties)){var value=(0,_lodash.get)(modifiedData,checkboxNameArray,false);// Since applyToProperties is empty it is not a parent checkbox, therefore hasAllActionsSelected is
// equal to hasSomeActionsSelected
return{actionId:actionId,checkboxName:checkboxName,hasAllActionsSelected:value,hasConditions:hasConditions,hasSomeActionsSelected:value,isDisplayed:isDisplayed,isParentCheckbox:false,label:label,pathToConditionsObject:baseCheckboxNameArray};}var mainData=(0,_lodash.get)(modifiedData,checkboxNameArray,null);var _getCheckboxState=(0,_utils.getCheckboxState)(mainData),hasAllActionsSelected=_getCheckboxState.hasAllActionsSelected,hasSomeActionsSelected=_getCheckboxState.hasSomeActionsSelected;return{actionId:actionId,checkboxName:checkboxName,hasAllActionsSelected:hasAllActionsSelected,hasConditions:hasConditions,hasSomeActionsSelected:hasSomeActionsSelected,isDisplayed:isDisplayed,isParentCheckbox:true,label:label,pathToConditionsObject:baseCheckboxNameArray};});};var _default=generateCheckboxesActions;exports.default=_default;

/***/ }),

/***/ 30841:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _BaseCheckbox=__webpack_require__(59522);var _Flex=__webpack_require__(67826);var _get=_interopRequireDefault(__webpack_require__(27361));var _hooks=__webpack_require__(63376);var _HiddenAction=_interopRequireDefault(__webpack_require__(7457));var _constants=__webpack_require__(12037);var _RequiredSign=_interopRequireDefault(__webpack_require__(92395));var _RowLabelWithCheckbox=_interopRequireDefault(__webpack_require__(43148));var _utils=__webpack_require__(89362);var _utils2=__webpack_require__(91416);var _CarretIcon=_interopRequireDefault(__webpack_require__(98459));var _SubActionRow=_interopRequireDefault(__webpack_require__(19090));var _getRowLabelCheckboxeState=_interopRequireDefault(__webpack_require__(88685));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var IS_DISABLED=function(){if(window&&window.strapi&&window.strapi.isEE){return __webpack_require__(11720)/* .default */ .Z;}return __webpack_require__(75312)/* .default */ .Z;}();var Cell=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"ActionRow__Cell",componentId:"sc-4agenc-0"})(["width:",";position:relative;"],_constants.cellWidth);var Wrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"ActionRow__Wrapper",componentId:"sc-4agenc-1"})(["height:",";flex:1;"," ",";"],_constants.rowHeight,function(_ref){var isCollapsable=_ref.isCollapsable,theme=_ref.theme;return isCollapsable&&"\n      ".concat(_CarretIcon["default"]," {\n        display: block;\n        color: ").concat(theme.colors.neutral100,";\n      }\n      &:hover {\n        ").concat((0,_utils2.activeStyle)(theme),"\n      }\n  ");},function(_ref2){var isActive=_ref2.isActive,theme=_ref2.theme;return isActive&&(0,_utils2.activeStyle)(theme);});var ActionRow=function ActionRow(_ref3){var childrenForm=_ref3.childrenForm,label=_ref3.label,isFormDisabled=_ref3.isFormDisabled,name=_ref3.name,required=_ref3.required,pathToData=_ref3.pathToData,propertyActions=_ref3.propertyActions,propertyName=_ref3.propertyName,isOdd=_ref3.isOdd;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2["default"])(_useState,2),rowToOpen=_useState2[0],setRowToOpen=_useState2[1];var _usePermissionsDataMa=(0,_hooks.usePermissionsDataManager)(),modifiedData=_usePermissionsDataMa.modifiedData,onChangeCollectionTypeLeftActionRowCheckbox=_usePermissionsDataMa.onChangeCollectionTypeLeftActionRowCheckbox,onChangeParentCheckbox=_usePermissionsDataMa.onChangeParentCheckbox,onChangeSimpleCheckbox=_usePermissionsDataMa.onChangeSimpleCheckbox;var isActive=rowToOpen===name;var recursiveChildren=(0,_react.useMemo)(function(){if(!Array.isArray(childrenForm)){return[];}return childrenForm;},[childrenForm]);var isCollapsable=recursiveChildren.length>0;var handleClick=(0,_react.useCallback)(function(){if(isCollapsable){setRowToOpen(function(prev){if(prev===name){return null;}return name;});}},[isCollapsable,name]);var handleChangeLeftRowCheckbox=function handleChangeLeftRowCheckbox(_ref4){var value=_ref4.target.value;onChangeCollectionTypeLeftActionRowCheckbox(pathToData,propertyName,name,value);};var _useMemo=(0,_react.useMemo)(function(){return(0,_getRowLabelCheckboxeState["default"])(propertyActions,modifiedData,pathToData,propertyName,name);},[propertyActions,modifiedData,pathToData,propertyName,name]),hasAllActionsSelected=_useMemo.hasAllActionsSelected,hasSomeActionsSelected=_useMemo.hasSomeActionsSelected;return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(Wrapper,{alignItems:"center",isCollapsable:isCollapsable,isActive:isActive,background:isOdd?'neutral100':'neutral0'},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(_RowLabelWithCheckbox["default"],{onChange:handleChangeLeftRowCheckbox,onClick:handleClick,isCollapsable:isCollapsable,isFormDisabled:isFormDisabled,label:label,someChecked:hasSomeActionsSelected,value:hasAllActionsSelected,isActive:isActive},required&&/*#__PURE__*/_react["default"].createElement(_RequiredSign["default"],null),/*#__PURE__*/_react["default"].createElement(_CarretIcon["default"],{$isActive:isActive})),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,propertyActions.map(function(_ref5){var label=_ref5.label,isActionRelatedToCurrentProperty=_ref5.isActionRelatedToCurrentProperty,actionId=_ref5.actionId;if(!isActionRelatedToCurrentProperty){return/*#__PURE__*/_react["default"].createElement(_HiddenAction["default"],{key:label});}var checkboxName=[].concat((0,_toConsumableArray2["default"])(pathToData.split('..')),[actionId,'properties',propertyName,name]);if(!isCollapsable){var checkboxValue=(0,_get["default"])(modifiedData,checkboxName,false);return/*#__PURE__*/_react["default"].createElement(Cell,{key:actionId,justifyContent:"center",alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_BaseCheckbox.BaseCheckbox,{disabled:isFormDisabled||IS_DISABLED,name:checkboxName.join('..'),"aria-label":formatMessage({id:"Settings.permissions.select-by-permission",defaultMessage:'Select {label} permission'},{label:"".concat(name," ").concat(label)})// Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91
,onValueChange:function onValueChange(value){onChangeSimpleCheckbox({target:{name:checkboxName.join('..'),value:value}});},value:checkboxValue}));}var data=(0,_get["default"])(modifiedData,checkboxName,{});var _getCheckboxState=(0,_utils.getCheckboxState)(data),hasAllActionsSelected=_getCheckboxState.hasAllActionsSelected,hasSomeActionsSelected=_getCheckboxState.hasSomeActionsSelected;return/*#__PURE__*/_react["default"].createElement(Cell,{key:label,justifyContent:"center",alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_BaseCheckbox.BaseCheckbox,{disabled:isFormDisabled||IS_DISABLED,name:checkboxName.join('..')// Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91
,onValueChange:function onValueChange(value){onChangeParentCheckbox({target:{name:checkboxName.join('..'),value:value}});},"aria-label":formatMessage({id:"Settings.permissions.select-by-permission",defaultMessage:'Select {label} permission'},{label:"".concat(name," ").concat(label)}),value:hasAllActionsSelected,indeterminate:hasSomeActionsSelected}));})))),isActive&&/*#__PURE__*/_react["default"].createElement(_SubActionRow["default"],{childrenForm:recursiveChildren,isFormDisabled:isFormDisabled,parentName:name,pathToDataFromActionRow:pathToData,propertyName:propertyName,propertyActions:propertyActions,recursiveLevel:0}));};ActionRow.defaultProps={childrenForm:[],required:false};ActionRow.propTypes={childrenForm:_propTypes["default"].array,label:_propTypes["default"].string.isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,name:_propTypes["default"].string.isRequired,pathToData:_propTypes["default"].string.isRequired,propertyActions:_propTypes["default"].array.isRequired,propertyName:_propTypes["default"].string.isRequired,required:_propTypes["default"].bool,isOdd:_propTypes["default"].bool.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(ActionRow);exports.default=_default;

/***/ }),

/***/ 75312:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=true;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 88685:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.getActionIdsFromPropertyActions=exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _lodash=__webpack_require__(96486);var _utils=__webpack_require__(89362);/**
 * Returns a filtered array of actionId
 * @param {array<object>} propertyActions
 * @returns {string} actionId
 */var getActionIdsFromPropertyActions=function getActionIdsFromPropertyActions(propertyActions){var actionIds=propertyActions.reduce(function(acc,current){if(current.isActionRelatedToCurrentProperty){acc.push(current.actionId);}return acc;},[]);return actionIds;};/**
 *
 * Returns the state of the left checkbox of a ActionRow main checkbox
 * @param {array} propertyActions
 * @param {object} modifiedData
 * @param {string} pathToContentType
 * @param {string} propertyToCheck
 * @param {string} targetKey
 * @returns {object}
 */exports.getActionIdsFromPropertyActions=getActionIdsFromPropertyActions;var getRowLabelCheckboxeState=function getRowLabelCheckboxeState(propertyActions,modifiedData,pathToContentType,propertyToCheck,targetKey){var actionIds=getActionIdsFromPropertyActions(propertyActions);var data=actionIds.reduce(function(acc,current){var pathToData=[].concat((0,_toConsumableArray2["default"])(pathToContentType.split('..')),[current,'properties',propertyToCheck,targetKey]);var mainData=(0,_lodash.get)(modifiedData,pathToData,false);acc[current]=mainData;return acc;},{});return(0,_utils.getCheckboxState)(data);};var _default=getRowLabelCheckboxeState;exports.default=_default;

/***/ }),

/***/ 98459:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _CarretDown=_interopRequireDefault(__webpack_require__(99962));var CarretIcon=/*#__PURE__*/(0,_styledComponents["default"])(_CarretDown["default"]).withConfig({displayName:"CarretIcon",componentId:"sc-1sz33o8-0"})(["display:none;width:","rem;transform:rotate(","deg);margin-left:",";"],10/16,function(_ref){var $isActive=_ref.$isActive;return $isActive?'180':'0';},function(_ref2){var theme=_ref2.theme;return theme.spaces[2];});var _default=CarretIcon;exports.default=_default;

/***/ }),

/***/ 62153:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _constants=__webpack_require__(12037);var HeaderLabel=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"Header__HeaderLabel",componentId:"sc-1x5jpk6-0"})(["width:",";flex-shrink:0;"],_constants.cellWidth);var PropertyLabelWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"Header__PropertyLabelWrapper",componentId:"sc-1x5jpk6-1"})(["width:",";height:",";flex-shrink:0;"],_constants.firstRowWidth,_constants.rowHeight);var Header=function Header(_ref){var headers=_ref.headers,label=_ref.label;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var translatedLabel=formatMessage({id:'Settings.roles.form.permission.property-label',defaultMessage:'{label} permissions'},{label:label});return/*#__PURE__*/_react["default"].createElement(_Flex.Flex,null,/*#__PURE__*/_react["default"].createElement(PropertyLabelWrapper,{alignItems:"center",paddingLeft:6},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral500"},translatedLabel)),headers.map(function(header){if(!header.isActionRelatedToCurrentProperty){return/*#__PURE__*/_react["default"].createElement(HeaderLabel,{key:header.label});}return/*#__PURE__*/_react["default"].createElement(HeaderLabel,{justifyContent:"center",key:header.label},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral500"},formatMessage({id:"Settings.roles.form.permissions.".concat(header.label.toLowerCase()),defaultMessage:header.label})));}));};Header.propTypes={headers:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string.isRequired,isActionRelatedToCurrentProperty:_propTypes["default"].bool.isRequired})).isRequired,label:_propTypes["default"].string.isRequired};var _default=Header;exports.default=_default;

/***/ }),

/***/ 19090:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _extends2=_interopRequireDefault(__webpack_require__(67154));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _get=_interopRequireDefault(__webpack_require__(27361));var _upperFirst=_interopRequireDefault(__webpack_require__(11700));var _reactIntl=__webpack_require__(97132);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _BaseCheckbox=__webpack_require__(59522);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _hooks=__webpack_require__(63376);var _CollapseLabel=_interopRequireDefault(__webpack_require__(21950));var _Curve=_interopRequireDefault(__webpack_require__(55946));var _HiddenAction=_interopRequireDefault(__webpack_require__(7457));var _constants=__webpack_require__(12037);var _RequiredSign=_interopRequireDefault(__webpack_require__(92395));var _utils=__webpack_require__(89362);var _utils2=__webpack_require__(91416);var _CarretIcon=_interopRequireDefault(__webpack_require__(98459));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var IS_DISABLED=function(){if(window&&window.strapi&&window.strapi.isEE){return __webpack_require__(48535)/* .default */ .Z;}return __webpack_require__(24699)/* .default */ .Z;}();var Cell=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"SubActionRow__Cell",componentId:"sc-7y8yzq-0"})(["width:",";position:relative;"],_constants.cellWidth);var RowWrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"SubActionRow__RowWrapper",componentId:"sc-7y8yzq-1"})(["height:",";"],_constants.rowHeight);var Wrapper=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"SubActionRow__Wrapper",componentId:"sc-7y8yzq-2"})(["padding-left:","rem;"],31/16);var LeftBorderTimeline=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"SubActionRow__LeftBorderTimeline",componentId:"sc-7y8yzq-3"})(["border-left:",";"],function(_ref){var isVisible=_ref.isVisible,theme=_ref.theme;return isVisible?"4px solid ".concat(theme.colors.primary200):'4px solid transparent';});var RowStyle=/*#__PURE__*/(0,_styledComponents["default"])(_Flex.Flex).withConfig({displayName:"SubActionRow__RowStyle",componentId:"sc-7y8yzq-4"})(["padding-left:",";width:","px;"," ",";"],function(_ref2){var theme=_ref2.theme;return theme.spaces[4];},function(_ref3){var level=_ref3.level;return 145-level*36;},function(_ref4){var isCollapsable=_ref4.isCollapsable,theme=_ref4.theme;return isCollapsable&&"\n      ".concat(_CarretIcon["default"]," {\n        display: block;\n        color: ").concat(theme.colors.neutral100,";\n      }\n      &:hover {\n        ").concat((0,_utils2.activeStyle)(theme),"\n      }\n  ");},function(_ref5){var isActive=_ref5.isActive,theme=_ref5.theme;return isActive&&(0,_utils2.activeStyle)(theme);});var TopTimeline=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"SubActionRow__TopTimeline",componentId:"sc-7y8yzq-5"})(["padding-top:",";margin-top:",";width:","rem;background-color:",";border-top-left-radius:2px;border-top-right-radius:2px;"],function(_ref6){var theme=_ref6.theme;return theme.spaces[2];},function(_ref7){var theme=_ref7.theme;return theme.spaces[2];},4/16,function(_ref8){var theme=_ref8.theme;return theme.colors.primary200;});var SubActionRow=function SubActionRow(_ref9){var childrenForm=_ref9.childrenForm,isFormDisabled=_ref9.isFormDisabled,recursiveLevel=_ref9.recursiveLevel,pathToDataFromActionRow=_ref9.pathToDataFromActionRow,propertyActions=_ref9.propertyActions,parentName=_ref9.parentName,propertyName=_ref9.propertyName;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _usePermissionsDataMa=(0,_hooks.usePermissionsDataManager)(),modifiedData=_usePermissionsDataMa.modifiedData,onChangeParentCheckbox=_usePermissionsDataMa.onChangeParentCheckbox,onChangeSimpleCheckbox=_usePermissionsDataMa.onChangeSimpleCheckbox;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2["default"])(_useState,2),rowToOpen=_useState2[0],setRowToOpen=_useState2[1];var handleClickToggleSubLevel=function handleClickToggleSubLevel(name){setRowToOpen(function(prev){if(prev===name){return null;}return name;});};var displayedRecursiveChildren=(0,_react.useMemo)(function(){if(!rowToOpen){return null;}return childrenForm.find(function(_ref10){var value=_ref10.value;return value===rowToOpen;});},[rowToOpen,childrenForm]);return/*#__PURE__*/_react["default"].createElement(Wrapper,null,/*#__PURE__*/_react["default"].createElement(TopTimeline,null),childrenForm.map(function(_ref11,index){var label=_ref11.label,value=_ref11.value,required=_ref11.required,subChildrenForm=_ref11.children;var isVisible=index+1<childrenForm.length;var isArrayType=Array.isArray(subChildrenForm);var isActive=rowToOpen===value;return/*#__PURE__*/_react["default"].createElement(LeftBorderTimeline,{key:value,isVisible:isVisible},/*#__PURE__*/_react["default"].createElement(RowWrapper,null,/*#__PURE__*/_react["default"].createElement(_Curve["default"],{color:"primary200"}),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{style:{flex:1}},/*#__PURE__*/_react["default"].createElement(RowStyle,{level:recursiveLevel,isActive:isActive,isCollapsable:isArrayType},/*#__PURE__*/_react["default"].createElement(_CollapseLabel["default"],(0,_extends2["default"])({alignItems:"center",isCollapsable:isArrayType},isArrayType&&{onClick:function onClick(){return handleClickToggleSubLevel(value);},'aria-expanded':isActive,onKeyDown:function onKeyDown(_ref12){var key=_ref12.key;return(key==='Enter'||key===' ')&&handleClickToggleSubLevel(value);},tabIndex:0,role:'button'},{title:label}),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{ellipsis:true},(0,_upperFirst["default"])(label)),required&&/*#__PURE__*/_react["default"].createElement(_RequiredSign["default"],null),/*#__PURE__*/_react["default"].createElement(_CarretIcon["default"],{$isActive:isActive}))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{style:{flex:1}},propertyActions.map(function(_ref13){var actionId=_ref13.actionId,propertyLabel=_ref13.label,isActionRelatedToCurrentProperty=_ref13.isActionRelatedToCurrentProperty;if(!isActionRelatedToCurrentProperty){return/*#__PURE__*/_react["default"].createElement(_HiddenAction["default"],{key:actionId});}/*
                       * Usually we use a 'dot' in order to know the key path of an object for which we want to change the value.
                       * Since an action and a subject are both separated by '.' or '::' we chose to use the '..' separators
                       */var checkboxName=[].concat((0,_toConsumableArray2["default"])(pathToDataFromActionRow.split('..')),[actionId,'properties',propertyName],(0,_toConsumableArray2["default"])(parentName.split('..')),[value]);var checkboxValue=(0,_get["default"])(modifiedData,checkboxName,false);if(!subChildrenForm){return/*#__PURE__*/_react["default"].createElement(Cell,{key:propertyLabel,justifyContent:"center",alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_BaseCheckbox.BaseCheckbox,{disabled:isFormDisabled||IS_DISABLED,name:checkboxName.join('..'),"aria-label":formatMessage({id:"Settings.permissions.select-by-permission",defaultMessage:'Select {label} permission'},{label:"".concat(parentName," ").concat(label," ").concat(propertyLabel)})// Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91
,onValueChange:function onValueChange(value){onChangeSimpleCheckbox({target:{name:checkboxName.join('..'),value:value}});},value:checkboxValue}));}var _getCheckboxState=(0,_utils.getCheckboxState)(checkboxValue),hasAllActionsSelected=_getCheckboxState.hasAllActionsSelected,hasSomeActionsSelected=_getCheckboxState.hasSomeActionsSelected;return/*#__PURE__*/_react["default"].createElement(Cell,{key:propertyLabel,justifyContent:"center",alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_BaseCheckbox.BaseCheckbox,{key:propertyLabel,disabled:isFormDisabled||IS_DISABLED,name:checkboxName.join('..'),"aria-label":formatMessage({id:"Settings.permissions.select-by-permission",defaultMessage:'Select {label} permission'},{label:"".concat(parentName," ").concat(label," ").concat(propertyLabel)})// Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91
,onValueChange:function onValueChange(value){onChangeParentCheckbox({target:{name:checkboxName.join('..'),value:value}});},value:hasAllActionsSelected,indeterminate:hasSomeActionsSelected}));})))),displayedRecursiveChildren&&isActive&&/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingBottom:2},/*#__PURE__*/_react["default"].createElement(SubActionRow,{isFormDisabled:isFormDisabled,parentName:"".concat(parentName,"..").concat(value),pathToDataFromActionRow:pathToDataFromActionRow,propertyActions:propertyActions,propertyName:propertyName,recursiveLevel:recursiveLevel+1,childrenForm:displayedRecursiveChildren.children})));}));};SubActionRow.propTypes={childrenForm:_propTypes["default"].array.isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,parentName:_propTypes["default"].string.isRequired,pathToDataFromActionRow:_propTypes["default"].string.isRequired,propertyActions:_propTypes["default"].array.isRequired,propertyName:_propTypes["default"].string.isRequired,recursiveLevel:_propTypes["default"].number.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(SubActionRow);exports.default=_default;

/***/ }),

/***/ 24699:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=true;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 2417:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Box=__webpack_require__(5493);var _generateHeadersFromActions=_interopRequireDefault(__webpack_require__(20538));var _Header=_interopRequireDefault(__webpack_require__(62153));var _ActionRow=_interopRequireDefault(__webpack_require__(30841));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Wrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"CollapsePropertyMatrix__Wrapper",componentId:"sc-19phz29-0"})(["display:inline-flex;flex-direction:column;min-width:0;"]);var CollapsePropertyMatrix=function CollapsePropertyMatrix(_ref){var availableActions=_ref.availableActions,childrenForm=_ref.childrenForm,isFormDisabled=_ref.isFormDisabled,label=_ref.label,pathToData=_ref.pathToData,propertyName=_ref.propertyName;var propertyActions=(0,_react.useMemo)(function(){return(0,_generateHeadersFromActions["default"])(availableActions,propertyName);},[availableActions,propertyName]);return/*#__PURE__*/_react["default"].createElement(Wrapper,null,/*#__PURE__*/_react["default"].createElement(_Header["default"],{label:label,headers:propertyActions}),/*#__PURE__*/_react["default"].createElement(_Box.Box,null,childrenForm.map(function(_ref2,i){var childrenForm=_ref2.children,label=_ref2.label,value=_ref2.value,required=_ref2.required;return/*#__PURE__*/_react["default"].createElement(_ActionRow["default"],{childrenForm:childrenForm,key:value,label:label,isFormDisabled:isFormDisabled,name:value,required:required,propertyActions:propertyActions,pathToData:pathToData,propertyName:propertyName,isOdd:i%2===0});})));};CollapsePropertyMatrix.propTypes={childrenForm:_propTypes["default"].array.isRequired,availableActions:_propTypes["default"].array.isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,label:_propTypes["default"].string.isRequired,pathToData:_propTypes["default"].string.isRequired,propertyName:_propTypes["default"].string.isRequired};var _default=CollapsePropertyMatrix;exports.default=_default;

/***/ }),

/***/ 20538:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var generateHeadersFromActions=function generateHeadersFromActions(actions,propertyName){return actions.map(function(action){var isActionRelatedToCurrentProperty=Array.isArray(action.applyToProperties)&&action.applyToProperties.indexOf(propertyName)!==-1&&action.isDisplayed;return{label:action.label,actionId:action.actionId,isActionRelatedToCurrentProperty:isActionRelatedToCurrentProperty};});};var _default=generateHeadersFromActions;exports.default=_default;

/***/ }),

/***/ 68329:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _react=_interopRequireWildcard(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Collapse=_interopRequireDefault(__webpack_require__(62358));var _CollapsePropertyMatrix=_interopRequireDefault(__webpack_require__(2417));var _utils=__webpack_require__(91416);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var Wrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"ContentTypeCollapse__Wrapper",componentId:"sc-1ldk4pa-0"})(["flex-direction:column;display:inline-flex;min-width:100%;",""],function(_ref){var theme=_ref.theme,isActive=_ref.isActive;return isActive&&"border: 1px solid ".concat(theme.colors.primary600,";");});var ContentTypeCollapse=function ContentTypeCollapse(_ref2){var allActions=_ref2.allActions,contentTypeName=_ref2.contentTypeName,label=_ref2.label,index=_ref2.index,isActive=_ref2.isActive,isFormDisabled=_ref2.isFormDisabled,onClickToggleCollapse=_ref2.onClickToggleCollapse,pathToData=_ref2.pathToData,properties=_ref2.properties;var handleClickToggleCollapse=(0,_react.useCallback)(function(){onClickToggleCollapse(contentTypeName);},[contentTypeName,onClickToggleCollapse]);var availableActions=(0,_react.useMemo)(function(){return(0,_utils.getAvailableActions)(allActions,contentTypeName);},[allActions,contentTypeName]);return/*#__PURE__*/_react["default"].createElement(Wrapper,{isActive:isActive},/*#__PURE__*/_react["default"].createElement(_Collapse["default"],{availableActions:availableActions,isActive:isActive,isGrey:index%2===0,isFormDisabled:isFormDisabled,label:label,onClickToggle:handleClickToggleCollapse,pathToData:pathToData}),isActive&&properties.map(function(_ref3){var propertyLabel=_ref3.label,value=_ref3.value,childrenForm=_ref3.children;return/*#__PURE__*/_react["default"].createElement(_CollapsePropertyMatrix["default"],{availableActions:availableActions,childrenForm:childrenForm,isFormDisabled:isFormDisabled,label:propertyLabel,pathToData:pathToData,propertyName:value,key:value});}));};ContentTypeCollapse.propTypes={allActions:_propTypes["default"].array.isRequired,contentTypeName:_propTypes["default"].string.isRequired,index:_propTypes["default"].number.isRequired,isActive:_propTypes["default"].bool.isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,label:_propTypes["default"].string.isRequired,onClickToggleCollapse:_propTypes["default"].func.isRequired,pathToData:_propTypes["default"].string.isRequired,properties:_propTypes["default"].array.isRequired};var _default=ContentTypeCollapse;exports.default=_default;

/***/ }),

/***/ 73185:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _Typography=__webpack_require__(49425);var _CarretIcon=_interopRequireDefault(__webpack_require__(98459));var activeStyle=function activeStyle(theme){return"\n  ".concat(_Typography.Typography," {\n    color: ").concat(theme.colors.primary600,";\n    font-weight: ").concat(theme.fontWeights.bold,"\n  }\n  ").concat(_CarretIcon["default"]," {\n    display: block;\n    path {\n      fill: ").concat(theme.colors.primary600,"\n    };\n  }\n");};var _default=activeStyle;exports.default=_default;

/***/ }),

/***/ 86982:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getAvailableActions=function getAvailableActions(actions,targetSubject){return actions.map(function(action){var isDisplayed=Array.isArray(action.subjects)&&action.subjects.indexOf(targetSubject)!==-1;return _objectSpread(_objectSpread({},action),{},{isDisplayed:isDisplayed});});};var _default=getAvailableActions;exports.default=_default;

/***/ }),

/***/ 91416:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "activeStyle", ({enumerable:true,get:function get(){return _activeStyle["default"];}}));Object.defineProperty(exports, "getAvailableActions", ({enumerable:true,get:function get(){return _getAvailableActions["default"];}}));var _activeStyle=_interopRequireDefault(__webpack_require__(73185));var _getAvailableActions=_interopRequireDefault(__webpack_require__(86982));

/***/ }),

/***/ 71088:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _ContentTypeCollapse=_interopRequireDefault(__webpack_require__(68329));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var ContentTypeCollapses=function ContentTypeCollapses(_ref){var actions=_ref.actions,isFormDisabled=_ref.isFormDisabled,pathToData=_ref.pathToData,subjects=_ref.subjects;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2["default"])(_useState,2),collapseToOpen=_useState2[0],setCollapseToOpen=_useState2[1];var handleClickToggleCollapse=function handleClickToggleCollapse(collapseName){var nextCollapseToOpen=collapseToOpen===collapseName?null:collapseName;setCollapseToOpen(nextCollapseToOpen);};return subjects.map(function(_ref2,index){var uid=_ref2.uid,label=_ref2.label,properties=_ref2.properties;return/*#__PURE__*/_react["default"].createElement(_ContentTypeCollapse["default"],{allActions:actions,key:uid,contentTypeName:uid,label:label,isActive:collapseToOpen===uid,isFormDisabled:isFormDisabled,index:index,onClickToggleCollapse:handleClickToggleCollapse,pathToData:"".concat(pathToData,"..").concat(uid),properties:properties});});};ContentTypeCollapses.defaultProps={actions:[],subjects:[]};ContentTypeCollapses.propTypes={actions:_propTypes["default"].array.isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,pathToData:_propTypes["default"].string.isRequired,subjects:_propTypes["default"].arrayOf(_propTypes["default"].shape({uid:_propTypes["default"].string.isRequired,label:_propTypes["default"].string.isRequired,properties:_propTypes["default"].array.isRequired}))};var _default=/*#__PURE__*/(0,_react.memo)(ContentTypeCollapses);exports.default=_default;

/***/ }),

/***/ 65743:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _sortBy=_interopRequireDefault(__webpack_require__(89734));var _ContentTypeCollapses=_interopRequireDefault(__webpack_require__(71088));var _GlobalActions=_interopRequireDefault(__webpack_require__(96630));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var StyledBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"ContentTypes__StyledBox",componentId:"sc-1hdkmsf-0"})(["overflow-x:auto;"]);var ContentTypes=function ContentTypes(_ref){var isFormDisabled=_ref.isFormDisabled,kind=_ref.kind,_ref$layout=_ref.layout,actions=_ref$layout.actions,subjects=_ref$layout.subjects;var sortedSubjects=(0,_sortBy["default"])((0,_toConsumableArray2["default"])(subjects),'label');return/*#__PURE__*/_react["default"].createElement(StyledBox,{background:"neutral0"},/*#__PURE__*/_react["default"].createElement(_GlobalActions["default"],{actions:actions,kind:kind,isFormDisabled:isFormDisabled}),/*#__PURE__*/_react["default"].createElement(_ContentTypeCollapses["default"],{actions:actions,isFormDisabled:isFormDisabled,pathToData:kind,subjects:sortedSubjects}));};ContentTypes.propTypes={isFormDisabled:_propTypes["default"].bool.isRequired,kind:_propTypes["default"].string.isRequired,layout:_propTypes["default"].shape({actions:_propTypes["default"].array,subjects:_propTypes["default"].arrayOf(_propTypes["default"].shape({uid:_propTypes["default"].string.isRequired,label:_propTypes["default"].string.isRequired,properties:_propTypes["default"].array.isRequired}))}).isRequired};var _default=/*#__PURE__*/(0,_react.memo)(ContentTypes);exports.default=_default;

/***/ }),

/***/ 55946:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Box=__webpack_require__(5493);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var StyledBox=/*#__PURE__*/(0,_styledComponents["default"])(_Box.Box).withConfig({displayName:"Curve__StyledBox",componentId:"sc-18jpkp6-0"})(["transform:translate(-4px,-12px);&:before{content:'';width:","rem;height:","rem;background:",";display:block;}"],4/16,12/16,function(_ref){var theme=_ref.theme;return theme.colors.primary200;});var Svg=/*#__PURE__*/_styledComponents["default"].svg.withConfig({displayName:"Curve__Svg",componentId:"sc-18jpkp6-1"})(["position:relative;flex-shrink:0;transform:translate(-0.5px,-1px);*{fill:",";}"],function(_ref2){var theme=_ref2.theme,color=_ref2.color;return theme.colors[color];});var Curve=function Curve(props){return/*#__PURE__*/_react["default"].createElement(StyledBox,null,/*#__PURE__*/_react["default"].createElement(Svg,(0,_extends2["default"])({width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"},props),/*#__PURE__*/_react["default"].createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.02477 14.7513C8.65865 17.0594 11.6046 18.6059 17.5596 18.8856C18.6836 18.9384 19.5976 19.8435 19.5976 20.9688V20.9688C19.5976 22.0941 18.6841 23.0125 17.5599 22.9643C10.9409 22.6805 6.454 20.9387 3.75496 17.1258C0.937988 13.1464 0.486328 7.39309 0.486328 0.593262H4.50974C4.50974 7.54693 5.06394 11.9813 7.02477 14.7513Z",fill:"#D9D8FF"})));};Curve.defaultProps={fill:'primary200'};Curve.propTypes={fill:_propTypes["default"].string};var _default=/*#__PURE__*/(0,_react.memo)(Curve);exports.default=_default;

/***/ }),

/***/ 96630:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _BaseCheckbox=__webpack_require__(59522);var _Box=__webpack_require__(5493);var _Stack=__webpack_require__(9008);var _Typography=__webpack_require__(49425);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _get=_interopRequireDefault(__webpack_require__(27361));var _reactIntl=__webpack_require__(97132);var _hooks=__webpack_require__(63376);var _constants=__webpack_require__(12037);var _utils=__webpack_require__(38178);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var IS_DISABLED=function(){if(window&&window.strapi&&window.strapi.isEE){return __webpack_require__(70398)/* .default */ .Z;}return __webpack_require__(7434)/* .default */ .Z;}();var CenteredStack=/*#__PURE__*/(0,_styledComponents["default"])(_Stack.Stack).withConfig({displayName:"GlobalActions__CenteredStack",componentId:"sc-1vxwsjr-0"})(["align-items:center;justify-content:center;width:",";flex-shrink:0;"],_constants.cellWidth);var GlobalActions=function GlobalActions(_ref){var actions=_ref.actions,isFormDisabled=_ref.isFormDisabled,kind=_ref.kind;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _usePermissionsDataMa=(0,_hooks.usePermissionsDataManager)(),modifiedData=_usePermissionsDataMa.modifiedData,onChangeCollectionTypeGlobalActionCheckbox=_usePermissionsDataMa.onChangeCollectionTypeGlobalActionCheckbox;var displayedActions=(0,_react.useMemo)(function(){return(0,_utils.findDisplayedActions)(actions);},[actions]);var checkboxesState=(0,_react.useMemo)(function(){return(0,_utils.getCheckboxesState)(displayedActions,modifiedData[kind]);},[modifiedData,displayedActions,kind]);return/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingBottom:4,paddingTop:6,style:{paddingLeft:_constants.firstRowWidth}},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:0},displayedActions.map(function(_ref2){var label=_ref2.label,actionId=_ref2.actionId;return/*#__PURE__*/_react["default"].createElement(CenteredStack,{key:actionId,size:3},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral500"},formatMessage({id:"Settings.roles.form.permissions.".concat(label.toLowerCase()),defaultMessage:label})),/*#__PURE__*/_react["default"].createElement(_BaseCheckbox.BaseCheckbox,{disabled:isFormDisabled||IS_DISABLED,onValueChange:function onValueChange(value){onChangeCollectionTypeGlobalActionCheckbox(kind,actionId,value);},name:actionId,"aria-label":formatMessage({id:"Settings.permissions.select-all-by-permission",defaultMessage:'Select all {label} permissions'},{label:formatMessage({id:"Settings.roles.form.permissions.".concat(label.toLowerCase()),defaultMessage:label})}),value:(0,_get["default"])(checkboxesState,[actionId,'hasAllActionsSelected'],false),indeterminate:(0,_get["default"])(checkboxesState,[actionId,'hasSomeActionsSelected'],false)}));})));};GlobalActions.defaultProps={actions:[]};GlobalActions.propTypes={actions:_propTypes["default"].arrayOf(_propTypes["default"].shape({label:_propTypes["default"].string.isRequired,actionId:_propTypes["default"].string.isRequired,subjects:_propTypes["default"].array.isRequired})),isFormDisabled:_propTypes["default"].bool.isRequired,kind:_propTypes["default"].string.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(GlobalActions);exports.default=_default;

/***/ }),

/***/ 7434:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=true;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 34169:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var findDisplayedActions=function findDisplayedActions(actions){return actions.filter(function(_ref){var subjects=_ref.subjects;return subjects&&subjects.length;});};var _default=findDisplayedActions;exports.default=_default;

/***/ }),

/***/ 25554:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.getRelatedActionIdData=exports.getActionsIds=exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _lodash=__webpack_require__(96486);var _utils=__webpack_require__(89362);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var getActionsIds=function getActionsIds(array){return array.map(function(_ref){var actionId=_ref.actionId;return actionId;});};exports.getActionsIds=getActionsIds;var getRelatedActionIdData=function getRelatedActionIdData(actionIdArray,dataObj){return actionIdArray.reduce(function(acc,actionId){Object.keys(dataObj).forEach(function(ctUid){var actionIdData=(0,_lodash.get)(dataObj,[ctUid,actionId],{});var actionIdState=(0,_defineProperty2["default"])({},ctUid,(0,_utils.removeConditionKeyFromData)(actionIdData));if(!acc[actionId]){acc[actionId]=actionIdState;}else{acc[actionId]=_objectSpread(_objectSpread({},acc[actionId]),actionIdState);}});return acc;},{});};exports.getRelatedActionIdData=getRelatedActionIdData;var getCheckboxesState=function getCheckboxesState(properties,modifiedData){var actionsIds=getActionsIds(properties);var relatedActionsData=getRelatedActionIdData(actionsIds,modifiedData);var checkboxesState=Object.keys(relatedActionsData).reduce(function(acc,current){acc[current]=(0,_utils.getCheckboxState)(relatedActionsData[current]);return acc;},{});return checkboxesState;};var _default=getCheckboxesState;exports.default=_default;

/***/ }),

/***/ 38178:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "findDisplayedActions", ({enumerable:true,get:function get(){return _findDisplayedActions["default"];}}));Object.defineProperty(exports, "getCheckboxesState", ({enumerable:true,get:function get(){return _getRowLabelCheckboxesState["default"];}}));var _findDisplayedActions=_interopRequireDefault(__webpack_require__(34169));var _getRowLabelCheckboxesState=_interopRequireDefault(__webpack_require__(25554));

/***/ }),

/***/ 7457:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _constants=__webpack_require__(12037);var HiddenAction=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"HiddenAction",componentId:"uuwuy1-0"})(["width:",";"],_constants.cellWidth);var _default=HiddenAction;exports.default=_default;

/***/ }),

/***/ 74716:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _helperPlugin=__webpack_require__(68547);var _Tabs=__webpack_require__(11402);var _has=_interopRequireDefault(__webpack_require__(18721));var _isEmpty=_interopRequireDefault(__webpack_require__(41609));var _reactIntl=__webpack_require__(97132);var _ContentTypes=_interopRequireDefault(__webpack_require__(65743));var _PermissionsDataManagerProvider=_interopRequireDefault(__webpack_require__(15102));var _PluginsAndSettings=_interopRequireDefault(__webpack_require__(3030));var _init=_interopRequireDefault(__webpack_require__(65600));var _reducer=_interopRequireWildcard(__webpack_require__(96096));var _formatPermissionsToAPI=_interopRequireDefault(__webpack_require__(47959));var _tabLabels=_interopRequireDefault(__webpack_require__(77032));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var Permissions=/*#__PURE__*/(0,_react.forwardRef)(function(_ref,ref){var layout=_ref.layout,isFormDisabled=_ref.isFormDisabled,permissions=_ref.permissions;var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState,function(){return(0,_init["default"])(layout,permissions);}),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),_useReducer2$=_useReducer2[0],initialData=_useReducer2$.initialData,layouts=_useReducer2$.layouts,modifiedData=_useReducer2$.modifiedData,dispatch=_useReducer2[1];var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;(0,_react.useImperativeHandle)(ref,function(){return{getPermissions:function getPermissions(){var collectionTypesDiff=(0,_helperPlugin.difference)(initialData.collectionTypes,modifiedData.collectionTypes);var singleTypesDiff=(0,_helperPlugin.difference)(initialData.singleTypes,modifiedData.singleTypes);var contentTypesDiff=_objectSpread(_objectSpread({},collectionTypesDiff),singleTypesDiff);var didUpdateConditions;if((0,_isEmpty["default"])(contentTypesDiff)){didUpdateConditions=false;}else{didUpdateConditions=Object.values(contentTypesDiff).some(function(permission){return Object.values(permission).some(function(permissionValue){return(0,_has["default"])(permissionValue,'conditions');});});}return{permissionsToSend:(0,_formatPermissionsToAPI["default"])(modifiedData),didUpdateConditions:didUpdateConditions};},resetForm:function resetForm(){dispatch({type:'RESET_FORM'});},setFormAfterSubmit:function setFormAfterSubmit(){dispatch({type:'SET_FORM_AFTER_SUBMIT'});}};});var handleChangeCollectionTypeLeftActionRowCheckbox=function handleChangeCollectionTypeLeftActionRowCheckbox(pathToCollectionType,propertyName,rowName,value){dispatch({type:'ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX',pathToCollectionType:pathToCollectionType,propertyName:propertyName,rowName:rowName,value:value});};var handleChangeCollectionTypeGlobalActionCheckbox=function handleChangeCollectionTypeGlobalActionCheckbox(collectionTypeKind,actionId,value){dispatch({type:'ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX',collectionTypeKind:collectionTypeKind,actionId:actionId,value:value});};var handleChangeConditions=function handleChangeConditions(conditions){dispatch({type:'ON_CHANGE_CONDITIONS',conditions:conditions});};var handleChangeSimpleCheckbox=(0,_react.useCallback)(function(_ref2){var _ref2$target=_ref2.target,name=_ref2$target.name,value=_ref2$target.value;dispatch({type:'ON_CHANGE_SIMPLE_CHECKBOX',keys:name,value:value});},[]);var handleChangeParentCheckbox=(0,_react.useCallback)(function(_ref3){var _ref3$target=_ref3.target,name=_ref3$target.name,value=_ref3$target.value;dispatch({type:'ON_CHANGE_TOGGLE_PARENT_CHECKBOX',keys:name,value:value});},[]);return/*#__PURE__*/_react["default"].createElement(_PermissionsDataManagerProvider["default"],{value:{availableConditions:layout.conditions,modifiedData:modifiedData,onChangeConditions:handleChangeConditions,onChangeSimpleCheckbox:handleChangeSimpleCheckbox,onChangeParentCheckbox:handleChangeParentCheckbox,onChangeCollectionTypeLeftActionRowCheckbox:handleChangeCollectionTypeLeftActionRowCheckbox,onChangeCollectionTypeGlobalActionCheckbox:handleChangeCollectionTypeGlobalActionCheckbox}},/*#__PURE__*/_react["default"].createElement(_Tabs.TabGroup,{id:"tabs",label:formatMessage({id:'Settings.permissions.users.tabs.label',defaultMessage:'Tabs Permissions'})},/*#__PURE__*/_react["default"].createElement(_Tabs.Tabs,null,_tabLabels["default"].map(function(tabLabel){return/*#__PURE__*/_react["default"].createElement(_Tabs.Tab,{key:tabLabel.id},formatMessage({id:tabLabel.labelId,defaultMessage:tabLabel.defaultMessage}));})),/*#__PURE__*/_react["default"].createElement(_Tabs.TabPanels,{style:{position:'relative'}},/*#__PURE__*/_react["default"].createElement(_Tabs.TabPanel,null,/*#__PURE__*/_react["default"].createElement(_ContentTypes["default"],{layout:layouts.collectionTypes,kind:"collectionTypes",isFormDisabled:isFormDisabled})),/*#__PURE__*/_react["default"].createElement(_Tabs.TabPanel,null,/*#__PURE__*/_react["default"].createElement(_ContentTypes["default"],{layout:layouts.singleTypes,kind:"singleTypes",isFormDisabled:isFormDisabled})),/*#__PURE__*/_react["default"].createElement(_Tabs.TabPanel,null,/*#__PURE__*/_react["default"].createElement(_PluginsAndSettings["default"],{layout:layouts.plugins,kind:"plugins",isFormDisabled:isFormDisabled})),/*#__PURE__*/_react["default"].createElement(_Tabs.TabPanel,null,/*#__PURE__*/_react["default"].createElement(_PluginsAndSettings["default"],{layout:layouts.settings,kind:"settings",isFormDisabled:isFormDisabled})))));});Permissions.defaultProps={permissions:[],layout:{conditions:[],sections:{collectionTypes:{},singleTypes:{actions:[]},settings:[],plugins:[]}}};Permissions.propTypes={layout:_propTypes["default"].object,isFormDisabled:_propTypes["default"].bool.isRequired,permissions:_propTypes["default"].array};var _default=/*#__PURE__*/(0,_react.memo)(Permissions);exports.default=_default;

/***/ }),

/***/ 65600:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _createDefaultCTFormFromLayout=_interopRequireDefault(__webpack_require__(83606));var _createDefaultPluginsFormFromLayout=_interopRequireDefault(__webpack_require__(91872));var _formatLayoutForSettingsAndPlugins=_interopRequireDefault(__webpack_require__(86203));var init=function init(layout,permissions){var conditions=layout.conditions,_layout$sections=layout.sections,collectionTypes=_layout$sections.collectionTypes,singleTypes=_layout$sections.singleTypes,plugins=_layout$sections.plugins,settings=_layout$sections.settings;var layouts={collectionTypes:collectionTypes,singleTypes:singleTypes,plugins:(0,_formatLayoutForSettingsAndPlugins["default"])(plugins,'plugin'),settings:(0,_formatLayoutForSettingsAndPlugins["default"])(settings,'category')};var defaultForm={collectionTypes:(0,_createDefaultCTFormFromLayout["default"])(collectionTypes,collectionTypes.actions||[],conditions,permissions),singleTypes:(0,_createDefaultCTFormFromLayout["default"])(singleTypes,singleTypes.actions||[],conditions,permissions),plugins:(0,_createDefaultPluginsFormFromLayout["default"])(layouts.plugins,conditions,permissions),settings:(0,_createDefaultPluginsFormFromLayout["default"])(layouts.settings,conditions,permissions)};return{initialData:defaultForm,modifiedData:defaultForm,layouts:layouts};};var _default=init;exports.default=_default;

/***/ }),

/***/ 96096:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.initialState=exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _immer=_interopRequireDefault(__webpack_require__(66312));var _lodash=__webpack_require__(96486);var _updateConditionsToFalse=_interopRequireDefault(__webpack_require__(88879));var _updateValues=_interopRequireDefault(__webpack_require__(45504));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}var initialState={initialData:{},modifiedData:{},layouts:{}};/* eslint-disable consistent-return */exports.initialState=initialState;var reducer=function reducer(state,action){return(0,_immer["default"])(state,function(draftState){switch(action.type){// This action is called when a checkbox in the <GlobalActions />
// changes
case'ON_CHANGE_COLLECTION_TYPE_GLOBAL_ACTION_CHECKBOX':{var collectionTypeKind=action.collectionTypeKind,actionId=action.actionId,value=action.value;var pathToData=['modifiedData',collectionTypeKind];Object.keys((0,_lodash.get)(state,pathToData)).forEach(function(collectionType){var collectionTypeActionData=(0,_lodash.get)(state,[].concat(pathToData,[collectionType,actionId]),undefined);if(collectionTypeActionData){var updatedValues=(0,_updateValues["default"])(collectionTypeActionData,value);// We need to remove the applied conditions
if(!value&&updatedValues.conditions){var updatedConditions=(0,_updateValues["default"])(updatedValues.conditions,false);updatedValues=_objectSpread(_objectSpread({},updatedValues),{},{conditions:updatedConditions});}(0,_lodash.set)(draftState,[].concat(pathToData,[collectionType,actionId]),updatedValues);}});break;}case'ON_CHANGE_COLLECTION_TYPE_ROW_LEFT_CHECKBOX':{var pathToCollectionType=action.pathToCollectionType,propertyName=action.propertyName,rowName=action.rowName,_value=action.value;var nextModifiedDataState=(0,_lodash.cloneDeep)(state.modifiedData);var pathToModifiedDataCollectionType=pathToCollectionType.split('..');var objToUpdate=(0,_lodash.get)(nextModifiedDataState,pathToModifiedDataCollectionType,{});Object.keys(objToUpdate).forEach(function(actionId){// When a ct has multiple properties (ex: locales, field)
// We need to make sure that we add any new property to the modifiedData
// object.
if((0,_lodash.has)(objToUpdate[actionId],"properties.".concat(propertyName))){var objValue=(0,_lodash.get)(objToUpdate,[actionId,'properties',propertyName,rowName]);var pathToDataToSet=[].concat((0,_toConsumableArray2["default"])(pathToModifiedDataCollectionType),[actionId,'properties',propertyName,rowName]);if(!(0,_lodash.isObject)(objValue)){(0,_lodash.set)(nextModifiedDataState,pathToDataToSet,_value);}else{var updatedValue=(0,_updateValues["default"])(objValue,_value);(0,_lodash.set)(nextModifiedDataState,pathToDataToSet,updatedValue);}}});// When we uncheck a row, we need to check if we also need to disable the conditions
if(!_value){nextModifiedDataState=(0,_updateConditionsToFalse["default"])(nextModifiedDataState);}(0,_lodash.set)(draftState,'modifiedData',nextModifiedDataState);break;}case'ON_CHANGE_CONDITIONS':{Object.entries(action.conditions).forEach(function(array){var _array=(0,_slicedToArray2["default"])(array,2),stringPathToData=_array[0],conditionsToUpdate=_array[1];(0,_lodash.set)(draftState,['modifiedData'].concat((0,_toConsumableArray2["default"])(stringPathToData.split('..')),['conditions']),conditionsToUpdate);});break;}case'ON_CHANGE_SIMPLE_CHECKBOX':{var _nextModifiedDataState=(0,_lodash.cloneDeep)(state.modifiedData);(0,_lodash.set)(_nextModifiedDataState,(0,_toConsumableArray2["default"])(action.keys.split('..')),action.value);// When we uncheck a single checkbox we need to remove the conditions from the parent
if(!action.value){_nextModifiedDataState=(0,_updateConditionsToFalse["default"])(_nextModifiedDataState);}(0,_lodash.set)(draftState,'modifiedData',_nextModifiedDataState);break;}/*
       * Here the idea is to retrieve a specific value of the modifiedObject
       * then update all the boolean values of the retrieved one
       * and update the drafState.
       *
       * For instance in order to enable create action for all the fields and locales
       * of the restaurant content type we need to :
       * 1. Retrieve the modifiedData.collectionTypes.restaurant.create object
       * 2. Toggle all the end boolean values to the desired one
       * 3. Update the draftState
       *
       * Since the case works well in order to update what we called "parent" checkbox. We can
       * reuse the action when we need to toggle change all the values that depends on this one.
       * A parent checkbox is a checkbox which value is not a boolean but depends on its children ones, therefore,
       * a parent checkbox does not have a represented value in the draftState, they are just helpers.
       *
       * Given the following data:
       *
       * const data = {
       *  restaurant: {
       *   create: {
       *     fields: { name: true },
       *     locales: { en: false }
       *   }
       *  }
       * }
       *
       * The value of the create checkbox for the restaurant will be ƒalse since not all its children have
       * truthy values and in order to set its value to true when need to have all the values of its children set to true.
       *
       * Similarly, we can reuse the logic for the components attributes
       *
       */case'ON_CHANGE_TOGGLE_PARENT_CHECKBOX':{var keys=action.keys,_value2=action.value;var pathToValue=(0,_toConsumableArray2["default"])(keys.split('..'));var _nextModifiedDataState2=(0,_lodash.cloneDeep)(state.modifiedData);var oldValues=(0,_lodash.get)(_nextModifiedDataState2,pathToValue,{});var updatedValues=(0,_updateValues["default"])(oldValues,_value2);(0,_lodash.set)(_nextModifiedDataState2,pathToValue,updatedValues);// When we uncheck a parent checkbox we need to remove the associated conditions
if(!_value2){_nextModifiedDataState2=(0,_updateConditionsToFalse["default"])(_nextModifiedDataState2);}(0,_lodash.set)(draftState,['modifiedData'],_nextModifiedDataState2);break;}case'RESET_FORM':{draftState.modifiedData=state.initialData;break;}case'SET_FORM_AFTER_SUBMIT':{draftState.initialData=state.modifiedData;break;}default:return draftState;}});};var _default=reducer;exports.default=_default;

/***/ }),

/***/ 12037:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.rowHeight=exports.firstRowWidth=exports.cellWidth=void 0;var cellWidth="".concat(120/16,"rem");exports.cellWidth=cellWidth;var firstRowWidth="".concat(200/16,"rem");exports.firstRowWidth=firstRowWidth;var rowHeight="".concat(53/16,"rem");exports.rowHeight=rowHeight;

/***/ }),

/***/ 83606:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.findLayouts=exports.default=exports.createDefaultPropertyForms=exports.createDefaultPropertiesForm=exports.createDefaultConditionsForm=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _lodash=__webpack_require__(96486);var _findMatchingPermissions=_interopRequireDefault(__webpack_require__(19010));function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/**
 * Creates the default condition form: { [conditionId]: false }
 * @param {object} conditions.id Id of the condition
 * @returns {object}
 */var createDefaultConditionsForm=function createDefaultConditionsForm(conditions){var initialConditions=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];return conditions.reduce(function(acc,current){acc[current.id]=initialConditions.indexOf(current.id)!==-1;return acc;},{});};/**
 * Create the default form a property (fields, locales) with all the values
 * set to false
 * @param {object} property.children ex: {children: [{value: 'foo',}]}
 * @param {array<string>} The found property values retrieved from the role associated permissions
 * @returns {object} ex: { foo: false }
 *
 */exports.createDefaultConditionsForm=createDefaultConditionsForm;var createDefaultPropertyForms=function createDefaultPropertyForms(_ref,propertyValues){var children=_ref.children;var prefix=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';return children.reduce(function(acc,current){if(current.children){return _objectSpread(_objectSpread({},acc),{},(0,_defineProperty2["default"])({},current.value,createDefaultPropertyForms(current,propertyValues,"".concat(prefix).concat(current.value,"."))));}var hasProperty=propertyValues.indexOf("".concat(prefix).concat(current.value))!==-1;acc[current.value]=hasProperty;return acc;},{});};/**
 * Creates the default form for all the properties found in a content type's layout
 * @param {array<string>} propertiesArray ex; ['fields', 'locales']
 * @param {object} ctLayout layout of the content type ex:
 * ctLayout = {
 *  properties: [{
 *    value: 'fields',
 *    children: [{value: 'name'}]
 *  }
 * }
 * @returns {object} In this case it will return { fields: { name: false } }
 */exports.createDefaultPropertyForms=createDefaultPropertyForms;var createDefaultPropertiesForm=function createDefaultPropertiesForm(propertiesArray,ctLayout,matchingPermission){return propertiesArray.reduce(function(acc,currentPropertyName){var foundProperty=ctLayout.properties.find(function(_ref2){var value=_ref2.value;return value===currentPropertyName;});if(foundProperty){var matchingPermissionPropertyValues=(0,_lodash.get)(matchingPermission,['properties',foundProperty.value],[]);var propertyForm=createDefaultPropertyForms(foundProperty,matchingPermissionPropertyValues);acc.properties[currentPropertyName]=propertyForm;}return acc;},{properties:{}});};/**
 * Return an object of content types layout of an action's subject ex: { adress: {uid, label, properties } }
 * @param {array<object>} allLayouts All the content types' layout
 * @param {object} subjects
 */exports.createDefaultPropertiesForm=createDefaultPropertiesForm;var findLayouts=function findLayouts(allLayouts,subjects){return subjects.reduce(function(acc,current){var foundLayout=allLayouts.find(function(_ref3){var uid=_ref3.uid;return uid===current;})||null;if(foundLayout){acc[current]=foundLayout;}return acc;},{});};/**
 * Creates the default for for a content type
 * @param {object} layout.subjects All the content types to display
 * @param {array<object>} actionArray An action has the following shape:
 * action = {label: 'string', actionId: 'string', subjects: [object], applyToProperties: ['string]}
 * @param {array<object>} conditionArray Ex: { id: 'string', category: 'string' }
 * @returns {object} Ex:
 * {
 *  ctUId: {
 *    [actionId]: {
 *      [propertyName]: { enabled: false, conditions: { [id]: false } }
 *    }
 *  }
 * }
 */exports.findLayouts=findLayouts;var createDefaultCTFormFromLayout=function createDefaultCTFormFromLayout(_ref4,actionArray,conditionArray){var subjects=_ref4.subjects;var initialPermissions=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];return actionArray.reduce(function(defaultForm,current){var actionSubjects=current.subjects;var subjectLayouts=findLayouts(subjects,actionSubjects);// This can happen when an action is not related to a content type
// for instance the D&P permission is applied only with the cts that
// have the D&P features enabled
if((0,_lodash.isEmpty)(subjectLayouts)){return defaultForm;}// The object has the following shape: { [ctUID]: { [actionId]: { [property]: { enabled: false } } } }
var contentTypesActions=Object.keys(subjectLayouts).reduce(function(acc,currentCTUID){var actionId=current.actionId,applyToProperties=current.applyToProperties;var currentSubjectLayout=subjectLayouts[currentCTUID];var properties=currentSubjectLayout.properties.map(function(_ref5){var value=_ref5.value;return value;});var doesNothaveProperty=properties.every(function(property){return(applyToProperties||[]).indexOf(property)===-1;});var matchingPermission=(0,_findMatchingPermissions["default"])(initialPermissions,actionId,currentCTUID);var conditionsForm=createDefaultConditionsForm(conditionArray,(0,_lodash.get)(matchingPermission,'conditions',[]));if((0,_lodash.isEmpty)(applyToProperties)||doesNothaveProperty){(0,_lodash.set)(acc,[currentCTUID,actionId],{properties:{enabled:matchingPermission!==undefined},conditions:conditionsForm});return acc;}var propertiesForm=createDefaultPropertiesForm(applyToProperties,subjectLayouts[currentCTUID],matchingPermission);(0,_lodash.set)(acc,[currentCTUID,actionId],_objectSpread(_objectSpread({},propertiesForm),{},{conditions:conditionsForm}));return acc;},{});return(0,_lodash.merge)(defaultForm,contentTypesActions);},{});};var _default=createDefaultCTFormFromLayout;exports.default=_default;

/***/ }),

/***/ 91872:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.createSubCategoryForm=exports.createChildrenDefaultForm=void 0;var _lodash=__webpack_require__(96486);var _createDefaultCTFormFromLayout=__webpack_require__(83606);var _findMatchingPermissions=_interopRequireDefault(__webpack_require__(19010));var createSubCategoryForm=function createSubCategoryForm(actions,conditions,permissions){return actions.reduce(function(acc,current){var foundMatchingPermission=(0,_findMatchingPermissions["default"])(permissions,current.action,null);acc[current.action]={properties:{enabled:foundMatchingPermission!==undefined},conditions:(0,_createDefaultCTFormFromLayout.createDefaultConditionsForm)(conditions,(0,_lodash.get)(foundMatchingPermission,'conditions',[]))};return acc;},{});};exports.createSubCategoryForm=createSubCategoryForm;var createChildrenDefaultForm=function createChildrenDefaultForm(childrenForm,conditions,initialPermissions){return childrenForm.reduce(function(acc,current){acc[current.subCategoryId]=createSubCategoryForm(current.actions,conditions,initialPermissions);return acc;},{});};exports.createChildrenDefaultForm=createChildrenDefaultForm;var createDefaultPluginsFormFromLayout=function createDefaultPluginsFormFromLayout(pluginsLayout,conditions){var initialPermissions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];return pluginsLayout.reduce(function(acc,_ref){var categoryId=_ref.categoryId,childrenForm=_ref.childrenForm;var childrenDefaultForm=createChildrenDefaultForm(childrenForm,conditions,initialPermissions);acc[categoryId]=childrenDefaultForm;return acc;},{});};var _default=createDefaultPluginsFormFromLayout;exports.default=_default;

/***/ }),

/***/ 19010:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var findMatchingPermission=function findMatchingPermission(permissions,action,subject){return permissions.find(function(perm){return perm.action===action&&perm.subject===subject;});};var _default=findMatchingPermission;exports.default=_default;

/***/ }),

/***/ 9346:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.createPropertyArray=exports.createPermissionWithProperties=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _lodash=__webpack_require__(96486);var _utils=__webpack_require__(89362);var _formatSettingsPermissionsToAPI=__webpack_require__(49896);/**
 * Returns an array of property values
 * @param {object} propertyValue
 * @param {string} prefix
 * @returns {array<string>}
 */var createPropertyArray=function createPropertyArray(propertyValue){var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';return Object.entries(propertyValue).reduce(function(acc,current){var _current=(0,_slicedToArray2["default"])(current,2),name=_current[0],value=_current[1];if((0,_lodash.isObject)(value)){return[].concat((0,_toConsumableArray2["default"])(acc),(0,_toConsumableArray2["default"])(createPropertyArray(value,"".concat(prefix).concat(name,"."))));}if(value&&!(0,_lodash.isObject)(value)){acc.push("".concat(prefix).concat(name));}return acc;},[]);};/**
 *
 * @param {string} action
 * @param {string} subject
 * @param {object} param2
 * @config {object} conditions
 * @config {object} the name of the properties array we need to fill
 * @returns {object}
 */exports.createPropertyArray=createPropertyArray;var createPermissionWithProperties=function createPermissionWithProperties(action,subject,_ref){var conditions=_ref.conditions,properties=_ref.properties;return Object.entries(properties).reduce(function(acc,current){var _current2=(0,_slicedToArray2["default"])(current,2),propertyName=_current2[0],propertyValue=_current2[1];acc.properties[propertyName]=createPropertyArray(propertyValue);return acc;},{action:action,subject:subject,conditions:(0,_formatSettingsPermissionsToAPI.createConditionsArray)(conditions),properties:{}});};/**
 *
 * @param {string} action The name of the action
 * @param {string} subject The name of the subject
 * @param {object} param2
 * @returns {object}
 */exports.createPermissionWithProperties=createPermissionWithProperties;var createPermissionWithoutProperties=function createPermissionWithoutProperties(action,subject,_ref2){var conditions=_ref2.conditions;return{action:action,subject:subject,properties:{},conditions:(0,_formatSettingsPermissionsToAPI.createConditionsArray)(conditions)};};/**
 *
 * @param {string} subject  The name of the subject
 * @param {object} actions The subject's actions
 * @returns {array<object>}
 */var createSubjectPermissions=function createSubjectPermissions(subject,actions){var permissions=Object.entries(actions).reduce(function(acc,current){var _current3=(0,_slicedToArray2["default"])(current,2),actionName=_current3[0],permissions=_current3[1];var shouldCreatePermission=(0,_utils.createArrayOfValues)(permissions).some(function(val){return val;});if(!shouldCreatePermission){return acc;}if(!(0,_lodash.has)(permissions,'properties.enabled')){var createdPermissionsArray=createPermissionWithProperties(actionName,subject,permissions);return[].concat((0,_toConsumableArray2["default"])(acc),[createdPermissionsArray]);}if(!permissions.properties.enabled){return acc;}var permission=createPermissionWithoutProperties(actionName,subject,permissions);acc.push(permission);return acc;},[]);return permissions;};/**
 *
 * @param {object} contentTypesPermissions
 * @returns {array<object>}
 */var formatContentTypesPermissionToAPI=function formatContentTypesPermissionToAPI(contentTypesPermissions){var permissions=Object.entries(contentTypesPermissions).reduce(function(allPermissions,current){var _current4=(0,_slicedToArray2["default"])(current,2),subject=_current4[0],currentSubjectActions=_current4[1];var permissions=createSubjectPermissions(subject,currentSubjectActions);return[].concat((0,_toConsumableArray2["default"])(allPermissions),(0,_toConsumableArray2["default"])(permissions));},[]);return permissions;};var _default=formatContentTypesPermissionToAPI;exports.default=_default;

/***/ }),

/***/ 86203:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var replaceName=function replaceName(name){return name.split(' ').join('-');};var formatLayout=function formatLayout(layout,groupByKey){return(0,_lodash.chain)(layout).groupBy(groupByKey).map(function(item,itemName){return{category:itemName,categoryId:replaceName(itemName),childrenForm:(0,_lodash.chain)(item).groupBy('subCategory').map(function(actions,subCategoryName){return{subCategoryName:subCategoryName,subCategoryId:replaceName(subCategoryName),actions:actions};}).value()};}).value();};var _default=formatLayout;exports.default=_default;

/***/ }),

/***/ 47959:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _formatContentTypesPermissionToAPI=_interopRequireDefault(__webpack_require__(9346));var _formatSettingsPermissionsToAPI=_interopRequireDefault(__webpack_require__(49896));var formatPermissionsToAPI=function formatPermissionsToAPI(modifiedData){var pluginsPermissions=(0,_formatSettingsPermissionsToAPI["default"])(modifiedData.plugins);var settingsPermissions=(0,_formatSettingsPermissionsToAPI["default"])(modifiedData.settings);var collectionTypesPermissions=(0,_formatContentTypesPermissionToAPI["default"])(modifiedData.collectionTypes);var singleTypesPermissions=(0,_formatContentTypesPermissionToAPI["default"])(modifiedData.singleTypes);return[].concat((0,_toConsumableArray2["default"])(pluginsPermissions),(0,_toConsumableArray2["default"])(settingsPermissions),(0,_toConsumableArray2["default"])(collectionTypesPermissions),(0,_toConsumableArray2["default"])(singleTypesPermissions));};var _default=formatPermissionsToAPI;exports.default=_default;

/***/ }),

/***/ 49896:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=exports.createPermissionsArrayFromCategory=exports.createPermission=exports.createConditionsArray=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));/**
 * Returns an array of condition names when a condition is enabled
 * @param {object} conditions
 * @config {boolean}
 */var createConditionsArray=function createConditionsArray(conditions){return Object.entries(conditions).filter(function(_ref){var _ref2=(0,_slicedToArray2["default"])(_ref,2),conditionValue=_ref2[1];return conditionValue;}).map(function(_ref3){var _ref4=(0,_slicedToArray2["default"])(_ref3,1),conditionName=_ref4[0];return conditionName;});};exports.createConditionsArray=createConditionsArray;var createPermission=function createPermission(array){var _array=(0,_slicedToArray2["default"])(array,2),actionName=_array[0],conditions=_array[1].conditions;return{action:actionName,subject:null,conditions:createConditionsArray(conditions),properties:{}};};exports.createPermission=createPermission;var createPermissionsArrayFromCategory=function createPermissionsArrayFromCategory(categoryPermissions){return Object.values(categoryPermissions).reduce(function(acc,current){var permissions=Object.entries(current).reduce(function(acc1,current1){var _current=(0,_slicedToArray2["default"])(current1,2),enabled=_current[1].properties.enabled;if(!enabled){return acc1;}var permission=createPermission(current1);acc1.push(permission);return acc1;},[]);return[].concat((0,_toConsumableArray2["default"])(acc),(0,_toConsumableArray2["default"])(permissions));},[]);};exports.createPermissionsArrayFromCategory=createPermissionsArrayFromCategory;var formatSettingsPermissionsToAPI=function formatSettingsPermissionsToAPI(settingsPermissionsObject){return Object.values(settingsPermissionsObject).reduce(function(acc,current){var currentCategoryPermissions=createPermissionsArrayFromCategory(current);return[].concat((0,_toConsumableArray2["default"])(acc),(0,_toConsumableArray2["default"])(currentCategoryPermissions));},[]);};var _default=formatSettingsPermissionsToAPI;exports.default=_default;

/***/ }),

/***/ 77032:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var TAB_LABELS=[{labelId:'app.components.LeftMenuLinkContainer.collectionTypes',defaultMessage:'Collection Types',id:'collectionTypes'},{labelId:'app.components.LeftMenuLinkContainer.singleTypes',id:'singleTypes',defaultMessage:'Single Types'},{labelId:'app.components.LeftMenuLinkContainer.plugins',defaultMessage:'Plugins',id:'plugins'},{labelId:'app.components.LeftMenuLinkContainer.settings',defaultMessage:'Settings',id:'settings'}];var _default=TAB_LABELS;exports.default=_default;

/***/ }),

/***/ 88879:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _lodash=__webpack_require__(96486);var _utils=__webpack_require__(89362);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/**
 * Changes all the conditions leaf when the properties are all falsy
 * @param {object} obj the modifiedData state
 * @returns {object} the mutated modifiedData
 */var updateConditionsToFalse=function updateConditionsToFalse(obj){return Object.keys(obj).reduce(function(acc,current){var currentValue=obj[current];if((0,_lodash.isObject)(currentValue)&&!(0,_lodash.has)(currentValue,'conditions')){return _objectSpread(_objectSpread({},acc),{},(0,_defineProperty2["default"])({},current,updateConditionsToFalse(currentValue)));}if((0,_lodash.isObject)(currentValue)&&(0,_lodash.has)(currentValue,'conditions')){var isActionEnabled=(0,_utils.createArrayOfValues)((0,_lodash.omit)(currentValue,'conditions')).some(function(val){return val;});if(!isActionEnabled){var updatedConditions=Object.keys(currentValue.conditions).reduce(function(acc1,current){acc1[current]=false;return acc1;},{});return _objectSpread(_objectSpread({},acc),{},(0,_defineProperty2["default"])({},current,_objectSpread(_objectSpread({},currentValue),{},{conditions:updatedConditions})));}}acc[current]=currentValue;return acc;},{});};var _default=updateConditionsToFalse;exports.default=_default;

/***/ }),

/***/ 45504:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _lodash=__webpack_require__(96486);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/**
 * Sets all the none object values of an object to the given one
 * @param {object} obj
 * @param {boolean} valueToSet The value we want to set
 * It preserves the shape of the object, it only modifies the leafs
 * of an object.
 * This utility is very helpful when dealing with parent<>children checkboxes
 */var updateValues=function updateValues(obj,valueToSet){return Object.keys(obj).reduce(function(acc,current){var currentValue=obj[current];if(current==='conditions'){acc[current]=currentValue;return acc;}if((0,_lodash.isObject)(currentValue)){return _objectSpread(_objectSpread({},acc),{},(0,_defineProperty2["default"])({},current,updateValues(currentValue,valueToSet)));}acc[current]=valueToSet;return acc;},{});};var _default=updateValues;exports.default=_default;

/***/ }),

/***/ 15102:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _contexts=__webpack_require__(66592);var PermissionsDataManagerProvider=function PermissionsDataManagerProvider(_ref){var children=_ref.children,value=_ref.value;return/*#__PURE__*/_react["default"].createElement(_contexts.PermissionsDataManagerContext.Provider,{value:value},children);};PermissionsDataManagerProvider.propTypes={children:_propTypes["default"].node.isRequired,value:_propTypes["default"].exact({availableConditions:_propTypes["default"].array.isRequired,modifiedData:_propTypes["default"].object.isRequired,onChangeCollectionTypeLeftActionRowCheckbox:_propTypes["default"].func.isRequired,onChangeConditions:_propTypes["default"].func.isRequired,onChangeSimpleCheckbox:_propTypes["default"].func.isRequired,onChangeParentCheckbox:_propTypes["default"].func.isRequired,onChangeCollectionTypeGlobalActionCheckbox:_propTypes["default"].func.isRequired}).isRequired};var _default=PermissionsDataManagerProvider;exports.default=_default;

/***/ }),

/***/ 90240:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Accordion=__webpack_require__(96654);var _Box=__webpack_require__(5493);var _upperFirst=_interopRequireDefault(__webpack_require__(11700));var _reactIntl=__webpack_require__(97132);var _SubCategory=_interopRequireDefault(__webpack_require__(73009));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var PermissionRow=function PermissionRow(_ref){var childrenForm=_ref.childrenForm,kind=_ref.kind,name=_ref.name,isOpen=_ref.isOpen,isFormDisabled=_ref.isFormDisabled,isWhite=_ref.isWhite,onOpenCategory=_ref.onOpenCategory,pathToData=_ref.pathToData;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var handleClick=function handleClick(){onOpenCategory(name);};var categoryName=(0,_react.useMemo)(function(){var split=name.split('::');return split.pop();},[name]);return/*#__PURE__*/_react["default"].createElement(_Accordion.Accordion,{expanded:isOpen,toggle:handleClick,id:"accordion-".concat(name),variant:isWhite?'primary':'secondary'},/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionToggle,{title:(0,_upperFirst["default"])(categoryName),description:"".concat(formatMessage({id:'Settings.permissions.category'},{category:categoryName})," ").concat(kind==='plugins'?'plugin':kind)}),/*#__PURE__*/_react["default"].createElement(_Accordion.AccordionContent,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:6},childrenForm.map(function(_ref2){var actions=_ref2.actions,subCategoryName=_ref2.subCategoryName,subCategoryId=_ref2.subCategoryId;return/*#__PURE__*/_react["default"].createElement(_SubCategory["default"],{key:subCategoryName,actions:actions,categoryName:categoryName,isFormDisabled:isFormDisabled,subCategoryName:subCategoryName,pathToData:[].concat((0,_toConsumableArray2["default"])(pathToData),[subCategoryId])});}))));};PermissionRow.defaultProps={};PermissionRow.propTypes={childrenForm:_propTypes["default"].array.isRequired,isOpen:_propTypes["default"].bool.isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,isWhite:_propTypes["default"].bool.isRequired,kind:_propTypes["default"].string.isRequired,name:_propTypes["default"].string.isRequired,onOpenCategory:_propTypes["default"].func.isRequired,pathToData:_propTypes["default"].array.isRequired};var _default=PermissionRow;exports.default=_default;

/***/ }),

/***/ 73009:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Grid=__webpack_require__(34626);var _Box=__webpack_require__(5493);var _Checkbox=__webpack_require__(81325);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _reactIntl=__webpack_require__(97132);var _get=_interopRequireDefault(__webpack_require__(27361));var _hooks=__webpack_require__(63376);var _utils=__webpack_require__(89362);var _ConditionsButton=_interopRequireDefault(__webpack_require__(30380));var _ConditionsModal=_interopRequireDefault(__webpack_require__(47173));var _utils2=__webpack_require__(54972);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var IS_DISABLED=function(){if(window&&window.strapi&&window.strapi.isEE){return __webpack_require__(42391)/* .default */ .Z;}return __webpack_require__(92534)/* .default */ .Z;}();var Border=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"SubCategory__Border",componentId:"akgczm-0"})(["flex:1;align-self:center;border-top:1px solid ",";"],function(_ref){var theme=_ref.theme;return theme.colors.neutral150;});var CheckboxWrapper=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"SubCategory__CheckboxWrapper",componentId:"akgczm-1"})(["position:relative;word-break:keep-all;",""],function(_ref2){var hasConditions=_ref2.hasConditions,disabled=_ref2.disabled,theme=_ref2.theme;return hasConditions&&"\n    &:before {\n      content: '';\n      position: absolute;\n      top: ".concat(-4/16,"rem;\n      left: ").concat(-8/16,"rem;\n      width: ").concat(6/16,"rem;\n      height: ").concat(6/16,"rem;\n      border-radius: ").concat(20/16,"rem;\n      background: ").concat(disabled?theme.colors.neutral100:theme.colors.primary600,";\n    }\n  ");});var SubCategory=function SubCategory(_ref3){var categoryName=_ref3.categoryName,isFormDisabled=_ref3.isFormDisabled,subCategoryName=_ref3.subCategoryName,actions=_ref3.actions,pathToData=_ref3.pathToData;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isModalOpen=_useState2[0],setModalOpen=_useState2[1];var _usePermissionsDataMa=(0,_hooks.usePermissionsDataManager)(),modifiedData=_usePermissionsDataMa.modifiedData,onChangeParentCheckbox=_usePermissionsDataMa.onChangeParentCheckbox,onChangeSimpleCheckbox=_usePermissionsDataMa.onChangeSimpleCheckbox;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var mainData=(0,_get["default"])(modifiedData,pathToData,{});var dataWithoutCondition=(0,_react.useMemo)(function(){return Object.keys(mainData).reduce(function(acc,current){acc[current]=(0,_utils.removeConditionKeyFromData)(mainData[current]);return acc;},{});},[mainData]);var _getCheckboxState=(0,_utils.getCheckboxState)(dataWithoutCondition),hasAllActionsSelected=_getCheckboxState.hasAllActionsSelected,hasSomeActionsSelected=_getCheckboxState.hasSomeActionsSelected;var handleToggleModalIsOpen=function handleToggleModalIsOpen(){setModalOpen(function(s){return!s;});};var handleModalClose=function handleModalClose(){setModalOpen(false);};// We need to format the actions so it matches the shape of the ConditionsModal actions props
var formattedActions=(0,_utils2.formatActions)(actions,modifiedData,pathToData);var doesButtonHasCondition=(0,_utils2.getConditionsButtonState)((0,_get["default"])(modifiedData,(0,_toConsumableArray2["default"])(pathToData),{}));return/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between",alignItems:"center"},/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingRight:4},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},subCategoryName)),/*#__PURE__*/_react["default"].createElement(Border,null),/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingLeft:4},/*#__PURE__*/_react["default"].createElement(_Checkbox.Checkbox,{name:pathToData.join('..'),disabled:isFormDisabled||IS_DISABLED// Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91
,onValueChange:function onValueChange(value){onChangeParentCheckbox({target:{name:pathToData.join('..'),value:value}});},indeterminate:hasSomeActionsSelected,value:hasAllActionsSelected},formatMessage({id:'app.utils.select-all',defaultMessage:'Select all'})))),/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{paddingTop:6,paddingBottom:6},/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:2,style:{flex:1}},formattedActions.map(function(_ref4){var checkboxName=_ref4.checkboxName,value=_ref4.value,action=_ref4.action,displayName=_ref4.displayName,hasConditions=_ref4.hasConditions;return/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:3,key:action},/*#__PURE__*/_react["default"].createElement(CheckboxWrapper,{disabled:isFormDisabled||IS_DISABLED,hasConditions:hasConditions},/*#__PURE__*/_react["default"].createElement(_Checkbox.Checkbox,{name:checkboxName,disabled:isFormDisabled||IS_DISABLED// Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91
,onValueChange:function onValueChange(value){onChangeSimpleCheckbox({target:{name:checkboxName,value:value}});},value:value},displayName)));})),/*#__PURE__*/_react["default"].createElement(_ConditionsButton["default"],{hasConditions:doesButtonHasCondition,onClick:handleToggleModalIsOpen}))),isModalOpen&&/*#__PURE__*/_react["default"].createElement(_ConditionsModal["default"],{headerBreadCrumbs:[categoryName,subCategoryName],actions:formattedActions,isFormDisabled:isFormDisabled,onClosed:handleModalClose,onToggle:handleToggleModalIsOpen}));};SubCategory.propTypes={actions:_propTypes["default"].array.isRequired,categoryName:_propTypes["default"].string.isRequired,isFormDisabled:_propTypes["default"].bool.isRequired,subCategoryName:_propTypes["default"].string.isRequired,pathToData:_propTypes["default"].array.isRequired};var _default=SubCategory;exports.default=_default;

/***/ }),

/***/ 92534:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=true;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 63806:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _defineProperty2=_interopRequireDefault(__webpack_require__(59713));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _lodash=__webpack_require__(96486);var _utils=__webpack_require__(89362);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly){symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});}keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2["default"])(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/**
 * We need to format the actions to an array of object that matches the ConditionsModal action's props
 * @param {array<object>} actions
 * @config {string} displayName the displayName of the action
 * @config {string} action requied, the name of the action
 * @param {object} modifiedData
 * @param {array} pathToData
 */var formatActions=function formatActions(actions,modifiedData,pathToData){return actions.map(function(action){var checkboxName=[].concat((0,_toConsumableArray2["default"])(pathToData),[action.action,'properties','enabled']);var checkboxValue=(0,_lodash.get)(modifiedData,checkboxName,false);var conditionValue=(0,_lodash.get)(modifiedData,[].concat((0,_toConsumableArray2["default"])(pathToData),[action.action,'conditions']),{});var hasConditions=(0,_utils.createArrayOfValues)(conditionValue).some(function(val){return val;});return _objectSpread(_objectSpread({},action),{},{isDisplayed:checkboxValue,checkboxName:checkboxName.join('..'),hasSomeActionsSelected:checkboxValue,value:checkboxValue,hasConditions:hasConditions,label:action.displayName,actionId:action.action,pathToConditionsObject:[].concat((0,_toConsumableArray2["default"])(pathToData),[action.action])});});};var _default=formatActions;exports.default=_default;

/***/ }),

/***/ 25236:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _utils=__webpack_require__(89362);var getConditionsButtonState=function getConditionsButtonState(valueObj){var relatedData=Object.entries(valueObj).reduce(function(acc,current){var _current=(0,_slicedToArray2["default"])(current,2),catName=_current[0],conditions=_current[1].conditions;acc[catName]=conditions;return acc;},{});var arrayOfValues=(0,_utils.createArrayOfValues)(relatedData);return arrayOfValues.some(function(val){return val;});};var _default=getConditionsButtonState;exports.default=_default;

/***/ }),

/***/ 54972:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "formatActions", ({enumerable:true,get:function get(){return _formatActions["default"];}}));Object.defineProperty(exports, "getConditionsButtonState", ({enumerable:true,get:function get(){return _getConditionsButtonState["default"];}}));var _formatActions=_interopRequireDefault(__webpack_require__(63806));var _getConditionsButtonState=_interopRequireDefault(__webpack_require__(25236));

/***/ }),

/***/ 3030:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _Row=_interopRequireDefault(__webpack_require__(90240));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var PluginsAndSettingsPermissions=function PluginsAndSettingsPermissions(_ref){var isFormDisabled=_ref.isFormDisabled,kind=_ref.kind,layout=_ref.layout;var _useState=(0,_react.useState)(null),_useState2=(0,_slicedToArray2["default"])(_useState,2),openedCategory=_useState2[0],setOpenedCategory=_useState2[1];var handleOpenCategory=function handleOpenCategory(categoryName){setOpenedCategory(categoryName===openedCategory?null:categoryName);};return/*#__PURE__*/_react["default"].createElement(_Box.Box,{padding:6,background:"neutral0"},layout.map(function(_ref2,index){var category=_ref2.category,categoryId=_ref2.categoryId,childrenForm=_ref2.childrenForm;return/*#__PURE__*/_react["default"].createElement(_Row["default"],{key:category,childrenForm:childrenForm,kind:kind,isFormDisabled:isFormDisabled,isOpen:openedCategory===category,isWhite:index%2===1,name:category,onOpenCategory:handleOpenCategory,pathToData:[kind,categoryId]});}));};PluginsAndSettingsPermissions.propTypes={isFormDisabled:_propTypes["default"].bool.isRequired,kind:_propTypes["default"].string.isRequired,layout:_propTypes["default"].arrayOf(_propTypes["default"].shape({category:_propTypes["default"].string.isRequired,categoryId:_propTypes["default"].string.isRequired,childrenForm:_propTypes["default"].arrayOf(_propTypes["default"].shape({actions:_propTypes["default"].array.isRequired})).isRequired}).isRequired).isRequired};var _default=PluginsAndSettingsPermissions;exports.default=_default;

/***/ }),

/***/ 92395:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var Required=/*#__PURE__*/_styledComponents["default"].span.withConfig({displayName:"RequiredSign__Required",componentId:"sc-13rz75o-0"})(["color:",";padding-left:","px;"],function(_ref){var theme=_ref.theme;return theme.colors.danger700;},function(_ref2){var theme=_ref2.theme;return theme.spaces[1];});var RequiredSign=function RequiredSign(){return/*#__PURE__*/_react["default"].createElement(Required,null,"*");};var _default=RequiredSign;exports.default=_default;

/***/ }),

/***/ 43148:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireWildcard(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _BaseCheckbox=__webpack_require__(59522);var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Typography=__webpack_require__(49425);var _upperFirst=_interopRequireDefault(__webpack_require__(11700));var _reactIntl=__webpack_require__(97132);var _CollapseLabel=_interopRequireDefault(__webpack_require__(21950));var _constants=__webpack_require__(12037);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var RowLabelWithCheckbox=function RowLabelWithCheckbox(_ref){var children=_ref.children,isCollapsable=_ref.isCollapsable,isActive=_ref.isActive,isFormDisabled=_ref.isFormDisabled,label=_ref.label,onChange=_ref.onChange,onClick=_ref.onClick,checkboxName=_ref.checkboxName,someChecked=_ref.someChecked,value=_ref.value;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;return/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{alignItems:"center",paddingLeft:6,style:{width:_constants.firstRowWidth,flexShrink:0}},/*#__PURE__*/_react["default"].createElement(_Box.Box,{paddingRight:2},/*#__PURE__*/_react["default"].createElement(_BaseCheckbox.BaseCheckbox,{name:checkboxName,"aria-label":formatMessage({id:"Settings.permissions.select-all-by-permission",defaultMessage:'Select all {label} permissions'},{label:label}),disabled:isFormDisabled// Keep same signature as packages/core/admin/admin/src/components/Roles/Permissions/index.js l.91
,onValueChange:function onValueChange(value){return onChange({target:{name:checkboxName,value:value}});},indeterminate:someChecked,value:value})),/*#__PURE__*/_react["default"].createElement(_CollapseLabel["default"],(0,_extends2["default"])({title:label,alignItems:"center",isCollapsable:isCollapsable},isCollapsable&&{onClick:onClick,'aria-expanded':isActive,onKeyDown:function onKeyDown(_ref2){var key=_ref2.key;return(key==='Enter'||key===' ')&&onClick();},tabIndex:0,role:'button'}),/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:isActive?'bold':'',textColor:isActive?'primary600':'neutral800',ellipsis:true},(0,_upperFirst["default"])(label)),children));};RowLabelWithCheckbox.defaultProps={children:null,checkboxName:'',onChange:function onChange(){},value:false,someChecked:false,isCollapsable:false};RowLabelWithCheckbox.propTypes={checkboxName:_propTypes["default"].string,children:_propTypes["default"].node,label:_propTypes["default"].string.isRequired,isCollapsable:_propTypes["default"].bool,isFormDisabled:_propTypes["default"].bool.isRequired,onChange:_propTypes["default"].func,onClick:_propTypes["default"].func.isRequired,someChecked:_propTypes["default"].bool,value:_propTypes["default"].bool,isActive:_propTypes["default"].bool.isRequired};var _default=/*#__PURE__*/(0,_react.memo)(RowLabelWithCheckbox);exports.default=_default;

/***/ }),

/***/ 79793:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _lodash=__webpack_require__(96486);var createArrayOfValues=function createArrayOfValues(obj){if(!(0,_lodash.isObject)(obj)){return[];}return(0,_lodash.flattenDeep)(Object.values(obj).map(function(value){if((0,_lodash.isObject)(value)){return createArrayOfValues(value);}return value;}));};var _default=createArrayOfValues;exports.default=_default;

/***/ }),

/***/ 18450:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _createArrayOfValues=_interopRequireDefault(__webpack_require__(79793));var _removeConditionKeyFromData=_interopRequireDefault(__webpack_require__(79634));var getCheckboxState=function getCheckboxState(dataObj){var dataWithoutCondition=(0,_removeConditionKeyFromData["default"])(dataObj);var arrayOfValues=(0,_createArrayOfValues["default"])(dataWithoutCondition);if(!arrayOfValues.length){return{hasAllActionsSelected:false,hasSomeActionsSelected:false};}var hasAllActionsSelected=arrayOfValues.every(function(val){return val;});var hasSomeActionsSelected=arrayOfValues.some(function(val){return val;})&&!hasAllActionsSelected;return{hasAllActionsSelected:hasAllActionsSelected,hasSomeActionsSelected:hasSomeActionsSelected};};var _default=getCheckboxState;exports.default=_default;

/***/ }),

/***/ 89362:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "createArrayOfValues", ({enumerable:true,get:function get(){return _createArrayOfValues["default"];}}));Object.defineProperty(exports, "getCheckboxState", ({enumerable:true,get:function get(){return _getCheckboxState["default"];}}));Object.defineProperty(exports, "removeConditionKeyFromData", ({enumerable:true,get:function get(){return _removeConditionKeyFromData["default"];}}));var _getCheckboxState=_interopRequireDefault(__webpack_require__(18450));var _createArrayOfValues=_interopRequireDefault(__webpack_require__(79793));var _removeConditionKeyFromData=_interopRequireDefault(__webpack_require__(79634));

/***/ }),

/***/ 79634:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var removeConditionKeyFromData=function removeConditionKeyFromData(obj){if(!obj){return null;}return Object.keys(obj).reduce(function(acc,current){if(current!=='conditions'){acc[current]=obj[current];}return acc;},{});};var _default=removeConditionKeyFromData;exports.default=_default;

/***/ }),

/***/ 6648:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _default=function _default(){return'todo empty role';};exports.default=_default;

/***/ }),

/***/ 62799:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(67154));var _react=_interopRequireDefault(__webpack_require__(67294));var _propTypes=_interopRequireDefault(__webpack_require__(45697));var _Box=__webpack_require__(5493);var _Flex=__webpack_require__(67826);var _Table=__webpack_require__(41798);var _Typography=__webpack_require__(49425);var _IconButton=__webpack_require__(30741);var _helperPlugin=__webpack_require__(68547);var _reactIntl=__webpack_require__(97132);var RoleRow=function RoleRow(_ref){var id=_ref.id,name=_ref.name,description=_ref.description,usersCount=_ref.usersCount,icons=_ref.icons;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var usersCountText=formatMessage({id:"Roles.RoleRow.user-count.".concat(usersCount>1?'plural':'singular'),defaultMessage:'{number} user'},{number:usersCount});return/*#__PURE__*/_react["default"].createElement(_Table.Tr,(0,_extends2["default"])({key:id},(0,_helperPlugin.onRowClick)({fn:icons[1].onClick})),/*#__PURE__*/_react["default"].createElement(_Table.Td,{maxWidth:(0,_helperPlugin.pxToRem)(130)},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{ellipsis:true,textColor:"neutral800"},name)),/*#__PURE__*/_react["default"].createElement(_Table.Td,{maxWidth:(0,_helperPlugin.pxToRem)(250)},/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{ellipsis:true,textColor:"neutral800"},description)),/*#__PURE__*/_react["default"].createElement(_Table.Td,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{textColor:"neutral800"},usersCountText)),/*#__PURE__*/_react["default"].createElement(_Table.Td,null,/*#__PURE__*/_react["default"].createElement(_Flex.Flex,(0,_extends2["default"])({justifyContent:"flex-end"},_helperPlugin.stopPropagation),icons.map(function(icon,i){return icon?/*#__PURE__*/_react["default"].createElement(_Box.Box,{key:icon.label,paddingLeft:i===0?0:1},/*#__PURE__*/_react["default"].createElement(_IconButton.IconButton,{onClick:icon.onClick,label:icon.label,noBorder:true,icon:icon.icon})):null;}))));};RoleRow.propTypes={id:_propTypes["default"].number.isRequired,name:_propTypes["default"].string.isRequired,description:_propTypes["default"].string.isRequired,usersCount:_propTypes["default"].number.isRequired,icons:_propTypes["default"].array.isRequired};var _default=RoleRow;exports.default=_default;

/***/ }),

/***/ 54463:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _matchSorter=_interopRequireDefault(__webpack_require__(63852));var _helperPlugin=__webpack_require__(68547);var _Plus=_interopRequireDefault(__webpack_require__(80768));var _Trash=_interopRequireDefault(__webpack_require__(18568));var _Pencil=_interopRequireDefault(__webpack_require__(19352));var _Duplicate=_interopRequireDefault(__webpack_require__(67483));var _Button=__webpack_require__(19408);var _Layout=__webpack_require__(78862);var _Table=__webpack_require__(41798);var _Typography=__webpack_require__(49425);var _Main=__webpack_require__(62031);var _VisuallyHidden=__webpack_require__(26851);var _reactIntl=__webpack_require__(97132);var _reactRouterDom=__webpack_require__(39711);var _RoleRow=_interopRequireDefault(__webpack_require__(62799));var _EmptyRole=_interopRequireDefault(__webpack_require__(6648));var _UpgradePlanModal=_interopRequireDefault(__webpack_require__(78924));var _hooks=__webpack_require__(63376);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var useSortedRoles=function useSortedRoles(){var _useRolesList=(0,_hooks.useRolesList)(),roles=_useRolesList.roles,isLoading=_useRolesList.isLoading;var query=(0,_helperPlugin.useQuery)();var _q=decodeURIComponent(query.get('_q')||'');var sortedRoles=(0,_matchSorter["default"])(roles,_q,{keys:['name','description']});return{isLoading:isLoading,sortedRoles:sortedRoles};};var useRoleActions=function useRoleActions(){var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isModalOpen=_useState2[0],setIsModalOpen=_useState2[1];var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push;var handleGoTo=(0,_react.useCallback)(function(id){push("/settings/roles/".concat(id));},[push]);var handleToggle=(0,_react.useCallback)(function(){setIsModalOpen(function(prev){return!prev;});},[]);var handleToggleModalForCreatingRole=(0,_react.useCallback)(function(){trackUsage('didShowRBACUpgradeModal');setIsModalOpen(true);},[trackUsage]);var getIcons=(0,_react.useCallback)(function(role){return[{onClick:handleToggle,label:formatMessage({id:'app.utils.duplicate',defaultMessage:'Duplicate'}),icon:/*#__PURE__*/_react["default"].createElement(_Duplicate["default"],null)},{onClick:function onClick(){return handleGoTo(role.id);},label:formatMessage({id:'app.utils.edit',defaultMessage:'Edit'}),icon:/*#__PURE__*/_react["default"].createElement(_Pencil["default"],null)},{onClick:handleToggle,label:formatMessage({id:'app.utils.delete',defaultMessage:'Delete'}),icon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null)}];},[formatMessage,handleToggle,handleGoTo]);return{isModalOpen:isModalOpen,handleToggleModalForCreatingRole:handleToggleModalForCreatingRole,handleToggle:handleToggle,getIcons:getIcons};};var RoleListPage=function RoleListPage(){var _useIntl2=(0,_reactIntl.useIntl)(),formatMessage=_useIntl2.formatMessage;(0,_helperPlugin.useFocusWhenNavigate)();var _useSortedRoles=useSortedRoles(),sortedRoles=_useSortedRoles.sortedRoles,isLoading=_useSortedRoles.isLoading;var _useRoleActions=useRoleActions(),isModalOpen=_useRoleActions.isModalOpen,handleToggle=_useRoleActions.handleToggle,handleToggleModalForCreatingRole=_useRoleActions.handleToggleModalForCreatingRole,getIcons=_useRoleActions.getIcons;var rowCount=sortedRoles.length+1;var colCount=5;// ! TODO - Add the search input
return/*#__PURE__*/_react["default"].createElement(_Main.Main,null,/*#__PURE__*/_react["default"].createElement(_helperPlugin.SettingsPageTitle,{name:"Roles"}),/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{primaryAction:/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:handleToggleModalForCreatingRole,startIcon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null),size:"L"},formatMessage({id:'Settings.roles.list.button.add',defaultMessage:'Add new role'})),title:formatMessage({id:'Settings.roles.title',defaultMessage:'roles'}),subtitle:formatMessage({id:'Settings.roles.list.description',defaultMessage:'List of roles'})}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_Table.Table,{colCount:colCount,rowCount:rowCount,footer:/*#__PURE__*/_react["default"].createElement(_Table.TFooter,{onClick:handleToggleModalForCreatingRole,icon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null)},formatMessage({id:'Settings.roles.list.button.add',defaultMessage:'Add new role'}))},/*#__PURE__*/_react["default"].createElement(_Table.Thead,null,/*#__PURE__*/_react["default"].createElement(_Table.Tr,null,/*#__PURE__*/_react["default"].createElement(_Table.Th,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.roles.list.header.name',defaultMessage:'Name'}))),/*#__PURE__*/_react["default"].createElement(_Table.Th,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.roles.list.header.description',defaultMessage:'Description'}))),/*#__PURE__*/_react["default"].createElement(_Table.Th,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.roles.list.header.users',defaultMessage:'Users'}))),/*#__PURE__*/_react["default"].createElement(_Table.Th,null,/*#__PURE__*/_react["default"].createElement(_VisuallyHidden.VisuallyHidden,null,formatMessage({id:'Settings.roles.list.header.actions',defaultMessage:'Actions'}))))),/*#__PURE__*/_react["default"].createElement(_Table.Tbody,null,sortedRoles===null||sortedRoles===void 0?void 0:sortedRoles.map(function(role){return/*#__PURE__*/_react["default"].createElement(_RoleRow["default"],{key:role.id,id:role.id,name:role.name,description:role.description,usersCount:role.usersCount,icons:getIcons(role)});}))),!rowCount&&!isLoading&&/*#__PURE__*/_react["default"].createElement(_EmptyRole["default"],null)),/*#__PURE__*/_react["default"].createElement(_UpgradePlanModal["default"],{isOpen:isModalOpen,onClose:handleToggle}));};var _default=RoleListPage;exports.default=_default;

/***/ }),

/***/ 19160:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var __webpack_unused_export__;
var _interopRequireDefault=__webpack_require__(95318);__webpack_unused_export__ = ({value:true});exports.Z=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _helperPlugin=__webpack_require__(68547);var _permissions=_interopRequireDefault(__webpack_require__(13240));var _ListPage=_interopRequireDefault(__webpack_require__(54463));var ProtectedListPage=function ProtectedListPage(){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPagePermissions,{permissions:_permissions["default"].settings.roles.main},/*#__PURE__*/_react["default"].createElement(_ListPage["default"],null));};var _default=ProtectedListPage;exports.Z=_default;

/***/ }),

/***/ 21609:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _flatMap=_interopRequireDefault(__webpack_require__(94654));var _utils=__webpack_require__(26595);var createSectionsRoutes=function createSectionsRoutes(settings){var allLinks=(0,_flatMap["default"])(settings,function(section){return section.links;});return allLinks.map(function(link){return(0,_utils.createRoute)(link.Component,link.to,link.exact||false);});};var _default=createSectionsRoutes;exports.default=_default;

/***/ }),

/***/ 2971:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var customRoutes=[];var _default=customRoutes;exports.Z=_default;

/***/ }),

/***/ 1514:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var RolesCreatePage=function(){if(window&&window.strapi&&window.strapi.isEE){return __webpack_require__(58556)/* .default */ .ZP;}return __webpack_require__(7126)/* .default */ .Z;}();var ProtectedRolesListPage=function(){if(window&&window.strapi&&window.strapi.isEE){return __webpack_require__(96734)/* .default */ .Z;}return __webpack_require__(19160)/* .default */ .Z;}();var defaultRoutes=[{Component:function Component(){return{"default":ProtectedRolesListPage};},to:'/settings/roles',exact:true},{Component:function Component(){return{"default":RolesCreatePage};},to:'/settings/roles/duplicate/:id',exact:true},{Component:function Component(){return{"default":RolesCreatePage};},to:'/settings/roles/new',exact:true},{Component:function(){var _Component=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var component;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(/* import() | admin-edit-roles-page */ 2544).then(__webpack_require__.bind(__webpack_require__, 19144));case 2:component=_context.sent;return _context.abrupt("return",component);case 4:case"end":return _context.stop();}}},_callee);}));function Component(){return _Component.apply(this,arguments);}return Component;}(),to:'/settings/roles/:id',exact:true},{Component:function(){var _Component2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee2(){var component;return _regenerator["default"].wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return __webpack_require__.e(/* import() | admin-users */ 5199).then(__webpack_require__.bind(__webpack_require__, 42222));case 2:component=_context2.sent;return _context2.abrupt("return",component);case 4:case"end":return _context2.stop();}}},_callee2);}));function Component(){return _Component2.apply(this,arguments);}return Component;}(),to:'/settings/users',exact:true},{Component:function(){var _Component3=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee3(){var component;return _regenerator["default"].wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return __webpack_require__.e(/* import() | admin-edit-users */ 4263).then(__webpack_require__.bind(__webpack_require__, 20262));case 2:component=_context3.sent;return _context3.abrupt("return",component);case 4:case"end":return _context3.stop();}}},_callee3);}));function Component(){return _Component3.apply(this,arguments);}return Component;}(),to:'/settings/users/:id',exact:true},{Component:function(){var _Component4=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee4(){var component;return _regenerator["default"].wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return Promise.all(/* import() | webhook-edit-page */[__webpack_require__.e(4675), __webpack_require__.e(5162)]).then(__webpack_require__.bind(__webpack_require__, 39616));case 2:component=_context4.sent;return _context4.abrupt("return",component);case 4:case"end":return _context4.stop();}}},_callee4);}));function Component(){return _Component4.apply(this,arguments);}return Component;}(),to:'/settings/webhooks/create',exact:true},{Component:function(){var _Component5=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee5(){var component;return _regenerator["default"].wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return Promise.all(/* import() | webhook-edit-page */[__webpack_require__.e(4675), __webpack_require__.e(5162)]).then(__webpack_require__.bind(__webpack_require__, 23523));case 2:component=_context5.sent;return _context5.abrupt("return",component);case 4:case"end":return _context5.stop();}}},_callee5);}));function Component(){return _Component5.apply(this,arguments);}return Component;}(),to:'/settings/webhooks/:id',exact:true},{Component:function(){var _Component6=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee6(){var component;return _regenerator["default"].wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return __webpack_require__.e(/* import() | webhook-list-page */ 4121).then(__webpack_require__.bind(__webpack_require__, 94859));case 2:component=_context6.sent;return _context6.abrupt("return",component);case 4:case"end":return _context6.stop();}}},_callee6);}));function Component(){return _Component6.apply(this,arguments);}return Component;}(),to:'/settings/webhooks',exact:true},{Component:function(){var _Component7=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee7(){var component;return _regenerator["default"].wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return __webpack_require__.e(/* import() | api-tokens-list-page */ 8056).then(__webpack_require__.bind(__webpack_require__, 76796));case 2:component=_context7.sent;return _context7.abrupt("return",component);case 4:case"end":return _context7.stop();}}},_callee7);}));function Component(){return _Component7.apply(this,arguments);}return Component;}(),to:'/settings/api-tokens',exact:true},{Component:function(){var _Component8=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee8(){var component;return _regenerator["default"].wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return __webpack_require__.e(/* import() | api-tokens-create-page */ 4299).then(__webpack_require__.bind(__webpack_require__, 3441));case 2:component=_context8.sent;return _context8.abrupt("return",component);case 4:case"end":return _context8.stop();}}},_callee8);}));function Component(){return _Component8.apply(this,arguments);}return Component;}(),to:'/settings/api-tokens/create',exact:true},{Component:function(){var _Component9=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee9(){var component;return _regenerator["default"].wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return __webpack_require__.e(/* import() | api-tokens-edit-page */ 92).then(__webpack_require__.bind(__webpack_require__, 70593));case 2:component=_context9.sent;return _context9.abrupt("return",component);case 4:case"end":return _context9.stop();}}},_callee9);}));function Component(){return _Component9.apply(this,arguments);}return Component;}(),to:'/settings/api-tokens/:id',exact:true}];var _default=defaultRoutes;exports.default=_default;

/***/ }),

/***/ 56147:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var getSectionsToDisplay=function getSectionsToDisplay(menu){return menu.filter(function(section){return!section.links.every(function(link){return link.isDisplayed===false;});});};var _default=getSectionsToDisplay;exports.default=_default;

/***/ }),

/***/ 77040:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));Object.defineProperty(exports, "createSectionsRoutes", ({enumerable:true,get:function get(){return _createSectionsRoutes["default"];}}));Object.defineProperty(exports, "getSectionsToDisplay", ({enumerable:true,get:function get(){return _getSectionsToDisplay["default"];}}));Object.defineProperty(exports, "routes", ({enumerable:true,get:function get(){return _routes["default"];}}));var _createSectionsRoutes=_interopRequireDefault(__webpack_require__(21609));var _getSectionsToDisplay=_interopRequireDefault(__webpack_require__(56147));var _routes=_interopRequireDefault(__webpack_require__(53197));

/***/ }),

/***/ 53197:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _defaultRoutes=_interopRequireDefault(__webpack_require__(1514));// This file makes it easier to make the difference between the ee and ce version
var customRoutes=function(){if(window&&window.strapi&&window.strapi.isEE){return __webpack_require__(5007)/* .default */ .Z;}return __webpack_require__(2971)/* .default */ .Z;}();var _default=[].concat((0,_toConsumableArray2["default"])(customRoutes),(0,_toConsumableArray2["default"])(_defaultRoutes["default"]));exports.default=_default;

/***/ }),

/***/ 58556:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var __webpack_unused_export__;
/* provided dependency */ var console = __webpack_require__(25108);
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);__webpack_unused_export__ = ({value:true});exports.ZP=__webpack_unused_export__=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _moment=_interopRequireDefault(__webpack_require__(30381));var _helperPlugin=__webpack_require__(68547);var _Box=__webpack_require__(5493);var _Button=__webpack_require__(19408);var _Layout=__webpack_require__(78862);var _Grid=__webpack_require__(34626);var _Main=__webpack_require__(62031);var _Link=__webpack_require__(85104);var _Flex=__webpack_require__(67826);var _Stack=__webpack_require__(9008);var _Typography=__webpack_require__(49425);var _TextInput=__webpack_require__(55967);var _Textarea=__webpack_require__(59626);var _ArrowLeft=_interopRequireDefault(__webpack_require__(68717));var _formik=__webpack_require__(80831);var _get=_interopRequireDefault(__webpack_require__(27361));var _isEmpty=_interopRequireDefault(__webpack_require__(41609));var _reactIntl=__webpack_require__(97132);var _reactRouterDom=__webpack_require__(39711);var _styledComponents=_interopRequireDefault(__webpack_require__(78384));var _Permissions=_interopRequireDefault(__webpack_require__(74716));var _hooks=__webpack_require__(63376);var _permissions=_interopRequireDefault(__webpack_require__(13240));var _schema=_interopRequireDefault(__webpack_require__(21251));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var UsersRoleNumber=/*#__PURE__*/_styledComponents["default"].div.withConfig({displayName:"CreatePage__UsersRoleNumber",componentId:"f7k9id-0"})(["border:1px solid ",";background:",";padding:",";color:",";border-radius:",";font-size:","rem;font-width:bold;"],function(_ref){var theme=_ref.theme;return theme.colors.primary200;},function(_ref2){var theme=_ref2.theme;return theme.colors.primary100;},function(_ref3){var theme=_ref3.theme;return"".concat(theme.spaces[2]," ").concat(theme.spaces[4]);},function(_ref4){var theme=_ref4.theme;return theme.colors.primary600;},function(_ref5){var theme=_ref5.theme;return theme.borderRadius;},12/16);var CreatePage=function CreatePage(){var toggleNotification=(0,_helperPlugin.useNotification)();var _useOverlayBlocker=(0,_helperPlugin.useOverlayBlocker)(),lockApp=_useOverlayBlocker.lockApp,unlockApp=_useOverlayBlocker.unlockApp;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isSubmitting=_useState2[0],setIsSubmiting=_useState2[1];var _useHistory=(0,_reactRouterDom.useHistory)(),replace=_useHistory.replace;var permissionsRef=(0,_react.useRef)();var _useTracking=(0,_helperPlugin.useTracking)(),trackUsage=_useTracking.trackUsage;var params=(0,_reactRouterDom.useRouteMatch)('/settings/roles/duplicate/:id');var id=(0,_get["default"])(params,'params.id',null);var _useFetchPermissionsL=(0,_hooks.useFetchPermissionsLayout)(),isLayoutLoading=_useFetchPermissionsL.isLoading,permissionsLayout=_useFetchPermissionsL.data;var _useFetchRole=(0,_hooks.useFetchRole)(id),rolePermissions=_useFetchRole.permissions,isRoleLoading=_useFetchRole.isLoading;var handleCreateRoleSubmit=function handleCreateRoleSubmit(data){lockApp();setIsSubmiting(true);if(id){trackUsage('willDuplicateRole');}else{trackUsage('willCreateNewRole');}Promise.resolve((0,_helperPlugin.request)('/admin/roles',{method:'POST',body:data})).then(/*#__PURE__*/function(){var _ref6=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(res){var _permissionsRef$curre,permissionsToSend;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_permissionsRef$curre=permissionsRef.current.getPermissions(),permissionsToSend=_permissionsRef$curre.permissionsToSend;if(id){trackUsage('didDuplicateRole');}else{trackUsage('didCreateNewRole');}if(!(res.data.id&&!(0,_isEmpty["default"])(permissionsToSend))){_context.next=5;break;}_context.next=5;return(0,_helperPlugin.request)("/admin/roles/".concat(res.data.id,"/permissions"),{method:'PUT',body:{permissions:permissionsToSend}});case 5:return _context.abrupt("return",res);case 6:case"end":return _context.stop();}}},_callee);}));return function(_x){return _ref6.apply(this,arguments);};}()).then(function(res){setIsSubmiting(false);toggleNotification({type:'success',message:{id:'Settings.roles.created',defaultMessage:'created'}});replace("/settings/roles/".concat(res.data.id));})["catch"](function(err){console.error(err);setIsSubmiting(false);toggleNotification({type:'warning',message:{id:'notification.error'}});})["finally"](function(){unlockApp();});};var defaultDescription="".concat(formatMessage({id:'Settings.roles.form.created',defaultMessage:'Created'})," ").concat((0,_moment["default"])().format('LL'));return/*#__PURE__*/_react["default"].createElement(_Main.Main,null,/*#__PURE__*/_react["default"].createElement(_helperPlugin.SettingsPageTitle,{name:"Roles"}),/*#__PURE__*/_react["default"].createElement(_formik.Formik,{initialValues:{name:'',description:defaultDescription},onSubmit:handleCreateRoleSubmit,validationSchema:_schema["default"],validateOnChange:false},function(_ref7){var handleSubmit=_ref7.handleSubmit,values=_ref7.values,errors=_ref7.errors,handleReset=_ref7.handleReset,handleChange=_ref7.handleChange;return/*#__PURE__*/_react["default"].createElement(_helperPlugin.Form,{noValidate:true},/*#__PURE__*/_react["default"].createElement(_react["default"].Fragment,null,/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{primaryAction:/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{horizontal:true,size:2},/*#__PURE__*/_react["default"].createElement(_Button.Button,{variant:"secondary",onClick:function onClick(){handleReset();permissionsRef.current.resetForm();},size:"L"},formatMessage({id:'app.components.Button.reset',defaultMessage:'Reset'})),/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:handleSubmit,loading:isSubmitting,size:"L"},formatMessage({id:'app.components.Button.save',defaultMessage:'Save'}))),title:formatMessage({id:'Settings.roles.create.title',defaultMessage:'Create a role'}),subtitle:formatMessage({id:'Settings.roles.create.description',defaultMessage:'Define the rights given to the role'}),navigationAction:/*#__PURE__*/_react["default"].createElement(_Link.Link,{startIcon:/*#__PURE__*/_react["default"].createElement(_ArrowLeft["default"],null),to:"/settings/roles"},formatMessage({id:'app.components.go-back',defaultMessage:'Go back'}))}),/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:6},/*#__PURE__*/_react["default"].createElement(_Box.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:true},/*#__PURE__*/_react["default"].createElement(_Stack.Stack,{size:4},/*#__PURE__*/_react["default"].createElement(_Flex.Flex,{justifyContent:"space-between"},/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{fontWeight:"bold"},formatMessage({id:'Settings.roles.form.title',defaultMessage:'Details'}))),/*#__PURE__*/_react["default"].createElement(_Box.Box,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"pi",textColor:"neutral600"},formatMessage({id:'Settings.roles.form.description',defaultMessage:'Name and description of the role'})))),/*#__PURE__*/_react["default"].createElement(UsersRoleNumber,null,formatMessage({id:'Settings.roles.form.button.users-with-role',defaultMessage:'{number, plural, =0 {# users} one {# user} other {# users}} with this role'},{number:0}))),/*#__PURE__*/_react["default"].createElement(_Grid.Grid,{gap:4},/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6},/*#__PURE__*/_react["default"].createElement(_TextInput.TextInput,{name:"name",error:errors.name&&formatMessage({id:errors.name}),label:formatMessage({id:'Settings.roles.form.input.name',defaultMessage:'Name'}),onChange:handleChange,value:values.name})),/*#__PURE__*/_react["default"].createElement(_Grid.GridItem,{col:6},/*#__PURE__*/_react["default"].createElement(_Textarea.Textarea,{label:formatMessage({id:'Settings.roles.form.input.description',defaultMessage:'Description'}),name:"description",error:errors.description&&formatMessage({id:errors.description}),onChange:handleChange},values.description))))),!isLayoutLoading&&!isRoleLoading?/*#__PURE__*/_react["default"].createElement(_Box.Box,{shadow:"filterShadow",hasRadius:true},/*#__PURE__*/_react["default"].createElement(_Permissions["default"],{isFormDisabled:false,ref:permissionsRef,permissions:rolePermissions,layout:permissionsLayout})):/*#__PURE__*/_react["default"].createElement(_Box.Box,{background:"neutral0",padding:6,shadow:"filterShadow",hasRadius:true},/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null))))));}));};__webpack_unused_export__=CreatePage;var _default=function _default(){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPagePermissions,{permissions:_permissions["default"].settings.roles.create},/*#__PURE__*/_react["default"].createElement(CreatePage,null));};exports.ZP=_default;

/***/ }),

/***/ 21251:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var yup=_interopRequireWildcard(__webpack_require__(53209));var _helperPlugin=__webpack_require__(68547);function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var schema=yup.object().shape({name:yup.string().required(_helperPlugin.translatedErrors.required),description:yup.string().required(_helperPlugin.translatedErrors.required)});var _default=schema;exports.default=_default;

/***/ }),

/***/ 6561:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=false;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 38706:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=false;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 11720:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=false;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 48535:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=false;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 70398:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=false;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 42391:
/***/ ((__unused_webpack_module, exports) => {

"use strict";
var __webpack_unused_export__;
__webpack_unused_export__ = ({value:true});exports.Z=void 0;var IS_DISABLED=false;var _default=IS_DISABLED;exports.Z=_default;

/***/ }),

/***/ 33608:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);var _typeof=__webpack_require__(50008);Object.defineProperty(exports, "__esModule", ({value:true}));exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _toConsumableArray2=_interopRequireDefault(__webpack_require__(319));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var _slicedToArray2=_interopRequireDefault(__webpack_require__(63038));var _react=_interopRequireWildcard(__webpack_require__(67294));var _helperPlugin=__webpack_require__(68547);var _Plus=_interopRequireDefault(__webpack_require__(80768));var _Trash=_interopRequireDefault(__webpack_require__(18568));var _Duplicate=_interopRequireDefault(__webpack_require__(67483));var _Pencil=_interopRequireDefault(__webpack_require__(19352));var _Button=__webpack_require__(19408);var _Layout=__webpack_require__(78862);var _VisuallyHidden=__webpack_require__(26851);var _Main=__webpack_require__(62031);var _Table=__webpack_require__(41798);var _Typography=__webpack_require__(49425);var _lodash=__webpack_require__(96486);var _matchSorter=_interopRequireDefault(__webpack_require__(63852));var _reactIntl=__webpack_require__(97132);var _reactRouterDom=__webpack_require__(39711);var _utils=__webpack_require__(53777);var _hooks=__webpack_require__(63376);var _permissions=_interopRequireDefault(__webpack_require__(13240));var _EmptyRole=_interopRequireDefault(__webpack_require__(6648));var _RoleRow=_interopRequireDefault(__webpack_require__(62799));var _reducer=_interopRequireWildcard(__webpack_require__(12717));function _getRequireWildcardCache(nodeInterop){if(typeof WeakMap!=="function")return null;var cacheBabelInterop=new WeakMap();var cacheNodeInterop=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(nodeInterop){return nodeInterop?cacheNodeInterop:cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj,nodeInterop){if(!nodeInterop&&obj&&obj.__esModule){return obj;}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{"default":obj};}var cache=_getRequireWildcardCache(nodeInterop);if(cache&&cache.has(obj)){return cache.get(obj);}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(key!=="default"&&Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj);}return newObj;}var useSortedRoles=function useSortedRoles(){(0,_helperPlugin.useFocusWhenNavigate)();var _useRBAC=(0,_helperPlugin.useRBAC)(_permissions["default"].settings.roles),isLoadingForPermissions=_useRBAC.isLoading,_useRBAC$allowedActio=_useRBAC.allowedActions,canCreate=_useRBAC$allowedActio.canCreate,canDelete=_useRBAC$allowedActio.canDelete,canRead=_useRBAC$allowedActio.canRead,canUpdate=_useRBAC$allowedActio.canUpdate;var _useRolesList=(0,_hooks.useRolesList)(false),getData=_useRolesList.getData,roles=_useRolesList.roles,isLoading=_useRolesList.isLoading;var _useQueryParams=(0,_helperPlugin.useQueryParams)(),_useQueryParams2=(0,_slicedToArray2["default"])(_useQueryParams,1),query=_useQueryParams2[0].query;var _q=(query===null||query===void 0?void 0:query._q)||'';var sortedRoles=(0,_matchSorter["default"])(roles,_q,{keys:['name','description']});(0,_react.useEffect)(function(){if(!isLoadingForPermissions&&canRead){getData();}},[isLoadingForPermissions,canRead,getData]);return{isLoadingForPermissions:isLoadingForPermissions,canCreate:canCreate,canDelete:canDelete,canRead:canRead,canUpdate:canUpdate,isLoading:isLoading,getData:getData,sortedRoles:sortedRoles,roles:roles};};var useRoleActions=function useRoleActions(_ref){var getData=_ref.getData,canCreate=_ref.canCreate,canDelete=_ref.canDelete,canUpdate=_ref.canUpdate;var _useIntl=(0,_reactIntl.useIntl)(),formatMessage=_useIntl.formatMessage;var toggleNotification=(0,_helperPlugin.useNotification)();var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2["default"])(_useState,2),isWarningDeleteAllOpened=_useState2[0],setIsWarningDeleteAllOpenend=_useState2[1];var _useHistory=(0,_reactRouterDom.useHistory)(),push=_useHistory.push;var _useReducer=(0,_react.useReducer)(_reducer["default"],_reducer.initialState),_useReducer2=(0,_slicedToArray2["default"])(_useReducer,2),_useReducer2$=_useReducer2[0],selectedRoles=_useReducer2$.selectedRoles,showModalConfirmButtonLoading=_useReducer2$.showModalConfirmButtonLoading,roleToDelete=_useReducer2$.roleToDelete,dispatch=_useReducer2[1];var handleDeleteData=/*#__PURE__*/function(){var _ref2=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var errorIds,errorsMsg;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:'ON_REMOVE_ROLES'});_context.next=4;return _utils.axiosInstance.post('/admin/roles/batch-delete',{ids:[roleToDelete]});case 4:_context.next=6;return getData();case 6:dispatch({type:'RESET_DATA_TO_DELETE'});_context.next=13;break;case 9:_context.prev=9;_context.t0=_context["catch"](0);errorIds=(0,_lodash.get)(_context.t0,['response','payload','data','ids'],null);if(errorIds&&Array.isArray(errorIds)){errorsMsg=errorIds.join('\n');toggleNotification({type:'warning',message:errorsMsg});}else{toggleNotification({type:'warning',message:{id:'notification.error'}});}case 13:handleToggleModal();case 14:case"end":return _context.stop();}}},_callee,null,[[0,9]]);}));return function handleDeleteData(){return _ref2.apply(this,arguments);};}();var onRoleDuplicate=(0,_react.useCallback)(function(id){push("/settings/roles/duplicate/".concat(id));},[push]);var handleNewRoleClick=function handleNewRoleClick(){return push('/settings/roles/new');};var onRoleRemove=(0,_react.useCallback)(function(roleId){dispatch({type:'SET_ROLE_TO_DELETE',id:roleId});handleToggleModal();},[]);var handleToggleModal=function handleToggleModal(){return setIsWarningDeleteAllOpenend(function(prev){return!prev;});};var handleGoTo=(0,_react.useCallback)(function(id){push("/settings/roles/".concat(id));},[push]);var handleClickDelete=(0,_react.useCallback)(function(e,role){e.preventDefault();e.stopPropagation();if(role.usersCount){toggleNotification({type:'info',message:{id:'Roles.ListPage.notification.delete-not-allowed'}});}else{onRoleRemove(role.id);}},[toggleNotification,onRoleRemove]);var handleClickDuplicate=(0,_react.useCallback)(function(e,role){e.preventDefault();e.stopPropagation();onRoleDuplicate(role.id);},[onRoleDuplicate]);var getIcons=(0,_react.useCallback)(function(role){return[].concat((0,_toConsumableArray2["default"])(canCreate?[{onClick:function onClick(e){return handleClickDuplicate(e,role);},label:formatMessage({id:'app.utils.duplicate',defaultMessage:'Duplicate'}),icon:/*#__PURE__*/_react["default"].createElement(_Duplicate["default"],null)}]:[]),(0,_toConsumableArray2["default"])(canUpdate?[{onClick:function onClick(){return handleGoTo(role.id);},label:formatMessage({id:'app.utils.edit',defaultMessage:'Edit'}),icon:/*#__PURE__*/_react["default"].createElement(_Pencil["default"],null)}]:[]),(0,_toConsumableArray2["default"])(canDelete?[{onClick:function onClick(e){return handleClickDelete(e,role);},label:formatMessage({id:'app.utils.delete',defaultMessage:'Delete'}),icon:/*#__PURE__*/_react["default"].createElement(_Trash["default"],null)}]:[]));},[formatMessage,handleClickDelete,handleClickDuplicate,handleGoTo,canCreate,canUpdate,canDelete]);return{handleNewRoleClick:handleNewRoleClick,getIcons:getIcons,selectedRoles:selectedRoles,isWarningDeleteAllOpened:isWarningDeleteAllOpened,showModalConfirmButtonLoading:showModalConfirmButtonLoading,handleToggleModal:handleToggleModal,handleDeleteData:handleDeleteData};};var RoleListPage=function RoleListPage(){var _useIntl2=(0,_reactIntl.useIntl)(),formatMessage=_useIntl2.formatMessage;var _useSortedRoles=useSortedRoles(),isLoadingForPermissions=_useSortedRoles.isLoadingForPermissions,canCreate=_useSortedRoles.canCreate,canRead=_useSortedRoles.canRead,canDelete=_useSortedRoles.canDelete,canUpdate=_useSortedRoles.canUpdate,isLoading=_useSortedRoles.isLoading,getData=_useSortedRoles.getData,sortedRoles=_useSortedRoles.sortedRoles;var _useRoleActions=useRoleActions({getData:getData,canCreate:canCreate,canDelete:canDelete,canUpdate:canUpdate}),handleNewRoleClick=_useRoleActions.handleNewRoleClick,getIcons=_useRoleActions.getIcons,isWarningDeleteAllOpened=_useRoleActions.isWarningDeleteAllOpened,showModalConfirmButtonLoading=_useRoleActions.showModalConfirmButtonLoading,handleToggleModal=_useRoleActions.handleToggleModal,handleDeleteData=_useRoleActions.handleDeleteData;// ! TODO - Show the search bar only if the user is allowed to read - add the search input
// canRead
var rowCount=sortedRoles.length+1;var colCount=6;if(isLoadingForPermissions){return/*#__PURE__*/_react["default"].createElement(_Main.Main,null,/*#__PURE__*/_react["default"].createElement(_helperPlugin.LoadingIndicatorPage,null));}var title=formatMessage({id:'Settings.roles.title',defaultMessage:'roles'});return/*#__PURE__*/_react["default"].createElement(_Main.Main,null,/*#__PURE__*/_react["default"].createElement(_helperPlugin.SettingsPageTitle,{name:"Roles"}),/*#__PURE__*/_react["default"].createElement(_Layout.HeaderLayout,{primaryAction:canCreate?/*#__PURE__*/_react["default"].createElement(_Button.Button,{onClick:handleNewRoleClick,startIcon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null),size:"L"},formatMessage({id:'Settings.roles.list.button.add',defaultMessage:'Add new role'})):null,title:title,subtitle:formatMessage({id:'Settings.roles.list.description',defaultMessage:'List of roles'}),as:"h2"}),canRead&&/*#__PURE__*/_react["default"].createElement(_Layout.ActionLayout,{startActions:/*#__PURE__*/_react["default"].createElement(_helperPlugin.SearchURLQuery,{label:formatMessage({id:'app.component.search.label',defaultMessage:'Search for {target}'},{target:title})})}),canRead&&/*#__PURE__*/_react["default"].createElement(_Layout.ContentLayout,null,/*#__PURE__*/_react["default"].createElement(_Table.Table,{colCount:colCount,rowCount:rowCount,footer:canCreate?/*#__PURE__*/_react["default"].createElement(_Table.TFooter,{onClick:handleNewRoleClick,icon:/*#__PURE__*/_react["default"].createElement(_Plus["default"],null)},formatMessage({id:'Settings.roles.list.button.add',defaultMessage:'Add new role'})):null},/*#__PURE__*/_react["default"].createElement(_Table.Thead,null,/*#__PURE__*/_react["default"].createElement(_Table.Tr,null,/*#__PURE__*/_react["default"].createElement(_Table.Th,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.roles.list.header.name',defaultMessage:'Name'}))),/*#__PURE__*/_react["default"].createElement(_Table.Th,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.roles.list.header.description',defaultMessage:'Description'}))),/*#__PURE__*/_react["default"].createElement(_Table.Th,null,/*#__PURE__*/_react["default"].createElement(_Typography.Typography,{variant:"sigma",textColor:"neutral600"},formatMessage({id:'Settings.roles.list.header.users',defaultMessage:'Users'}))),/*#__PURE__*/_react["default"].createElement(_Table.Th,null,/*#__PURE__*/_react["default"].createElement(_VisuallyHidden.VisuallyHidden,null,formatMessage({id:'Settings.roles.list.header.actions',defaultMessage:'Actions'}))))),/*#__PURE__*/_react["default"].createElement(_Table.Tbody,null,sortedRoles===null||sortedRoles===void 0?void 0:sortedRoles.map(function(role){return/*#__PURE__*/_react["default"].createElement(_RoleRow["default"],{key:role.id,id:role.id,name:role.name,description:role.description,usersCount:role.usersCount,icons:getIcons(role)});}))),!rowCount&&!isLoading&&/*#__PURE__*/_react["default"].createElement(_EmptyRole["default"],null)),/*#__PURE__*/_react["default"].createElement(_helperPlugin.ConfirmDialog,{isOpen:isWarningDeleteAllOpened,onConfirm:handleDeleteData,isConfirmButtonLoading:showModalConfirmButtonLoading,onToggleDialog:handleToggleModal}));};var _default=RoleListPage;exports.default=_default;

/***/ }),

/***/ 12717:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var _interopRequireDefault=__webpack_require__(95318);Object.defineProperty(exports, "__esModule", ({value:true}));exports.initialState=exports.default=void 0;var _immer=_interopRequireDefault(__webpack_require__(66312));/* eslint-disable consistent-return */var initialState={roleToDelete:null,showModalConfirmButtonLoading:false,shouldRefetchData:false};exports.initialState=initialState;var reducer=function reducer(state,action){return(0,_immer["default"])(state,function(draftState){switch(action.type){case'ON_REMOVE_ROLES':{draftState.showModalConfirmButtonLoading=true;break;}case'ON_REMOVE_ROLES_SUCCEEDED':{draftState.shouldRefetchData=true;draftState.roleToDelete=null;break;}case'RESET_DATA_TO_DELETE':{draftState.shouldRefetchData=false;draftState.roleToDelete=null;draftState.showModalConfirmButtonLoading=false;break;}case'SET_ROLE_TO_DELETE':{draftState.roleToDelete=action.id;break;}default:return draftState;}});};var _default=reducer;exports.default=_default;

/***/ }),

/***/ 96734:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var __webpack_unused_export__;
var _interopRequireDefault=__webpack_require__(95318);__webpack_unused_export__ = ({value:true});exports.Z=void 0;var _react=_interopRequireDefault(__webpack_require__(67294));var _helperPlugin=__webpack_require__(68547);var _permissions=_interopRequireDefault(__webpack_require__(13240));var _ListPage=_interopRequireDefault(__webpack_require__(33608));var ProtectedListPage=function ProtectedListPage(){return/*#__PURE__*/_react["default"].createElement(_helperPlugin.CheckPagePermissions,{permissions:_permissions["default"].settings.roles.main},/*#__PURE__*/_react["default"].createElement(_ListPage["default"],null));};var _default=ProtectedListPage;exports.Z=_default;

/***/ }),

/***/ 5007:
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var __webpack_unused_export__;
var _interopRequireDefault=__webpack_require__(95318);__webpack_unused_export__ = ({value:true});exports.Z=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(87757));var _asyncToGenerator2=_interopRequireDefault(__webpack_require__(48926));var ssoRoutes=strapi.features.isEnabled(strapi.features.SSO)?[{Component:function(){var _Component=(0,_asyncToGenerator2["default"])(/*#__PURE__*/_regenerator["default"].mark(function _callee(){var component;return _regenerator["default"].wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return __webpack_require__.e(/* import() | sso-settings-page */ 302).then(__webpack_require__.bind(__webpack_require__, 66554));case 2:component=_context.sent;return _context.abrupt("return",component);case 4:case"end":return _context.stop();}}},_callee);}));function Component(){return _Component.apply(this,arguments);}return Component;}(),to:'/settings/single-sign-on',exact:true}]:[];var customRoutes=[].concat(ssoRoutes);var _default=customRoutes;exports.Z=_default;

/***/ }),

/***/ 61228:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "c3de6118ef47086ad05c83a1c78f006d.png");

/***/ }),

/***/ 26487:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + "bd81ba6c07827282255d031b2a6f4fe4.png");

/***/ })

}]);